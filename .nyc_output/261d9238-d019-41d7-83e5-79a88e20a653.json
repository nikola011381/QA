{"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\app.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\app.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":51}},"4":{"start":{"line":7,"column":13},"end":{"line":7,"column":28}},"5":{"start":{"line":8,"column":15},"end":{"line":8,"column":49}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":53}},"7":{"start":{"line":10,"column":24},"end":{"line":10,"column":67}},"8":{"start":{"line":11,"column":20},"end":{"line":11,"column":59}},"9":{"start":{"line":12,"column":13},"end":{"line":12,"column":45}},"10":{"start":{"line":13,"column":25},"end":{"line":13,"column":69}},"11":{"start":{"line":14,"column":24},"end":{"line":14,"column":50}},"12":{"start":{"line":15,"column":13},"end":{"line":15,"column":43}},"13":{"start":{"line":16,"column":28},"end":{"line":16,"column":73}},"14":{"start":{"line":17,"column":15},"end":{"line":17,"column":47}},"15":{"start":{"line":18,"column":13},"end":{"line":18,"column":47}},"16":{"start":{"line":19,"column":20},"end":{"line":19,"column":61}},"17":{"start":{"line":20,"column":23},"end":{"line":20,"column":67}},"18":{"start":{"line":21,"column":27},"end":{"line":21,"column":75}},"19":{"start":{"line":22,"column":27},"end":{"line":22,"column":75}},"20":{"start":{"line":23,"column":20},"end":{"line":23,"column":61}},"21":{"start":{"line":24,"column":23},"end":{"line":24,"column":67}},"22":{"start":{"line":25,"column":28},"end":{"line":25,"column":77}},"23":{"start":{"line":26,"column":28},"end":{"line":26,"column":77}},"24":{"start":{"line":27,"column":24},"end":{"line":27,"column":69}},"25":{"start":{"line":28,"column":16},"end":{"line":28,"column":36}},"26":{"start":{"line":29,"column":18},"end":{"line":29,"column":65}},"27":{"start":{"line":30,"column":18},"end":{"line":30,"column":51}},"28":{"start":{"line":31,"column":0},"end":{"line":31,"column":27}},"29":{"start":{"line":32,"column":17},"end":{"line":35,"column":1}},"30":{"start":{"line":36,"column":13},"end":{"line":38,"column":2}},"31":{"start":{"line":39,"column":26},"end":{"line":42,"column":2}},"32":{"start":{"line":43,"column":10},"end":{"line":43,"column":34}},"33":{"start":{"line":49,"column":0},"end":{"line":49,"column":41}},"34":{"start":{"line":50,"column":0},"end":{"line":50,"column":38}},"35":{"start":{"line":51,"column":0},"end":{"line":51,"column":63}},"36":{"start":{"line":52,"column":0},"end":{"line":52,"column":38}},"37":{"start":{"line":53,"column":0},"end":{"line":58,"column":4}},"38":{"start":{"line":59,"column":0},"end":{"line":59,"column":41}},"39":{"start":{"line":60,"column":0},"end":{"line":60,"column":38}},"40":{"start":{"line":61,"column":0},"end":{"line":61,"column":82}},"41":{"start":{"line":66,"column":0},"end":{"line":66,"column":24}},"42":{"start":{"line":68,"column":0},"end":{"line":70,"column":1}},"43":{"start":{"line":72,"column":0},"end":{"line":74,"column":1}},"44":{"start":{"line":76,"column":0},"end":{"line":78,"column":1}},"45":{"start":{"line":80,"column":0},"end":{"line":82,"column":1}},"46":{"start":{"line":83,"column":0},"end":{"line":86,"column":4}},"47":{"start":{"line":87,"column":0},"end":{"line":87,"column":41}},"48":{"start":{"line":88,"column":0},"end":{"line":88,"column":47}},"49":{"start":{"line":89,"column":0},"end":{"line":89,"column":55}},"50":{"start":{"line":90,"column":0},"end":{"line":90,"column":55}},"51":{"start":{"line":91,"column":0},"end":{"line":91,"column":41}},"52":{"start":{"line":92,"column":0},"end":{"line":92,"column":47}},"53":{"start":{"line":93,"column":0},"end":{"line":93,"column":57}},"54":{"start":{"line":94,"column":0},"end":{"line":94,"column":57}},"55":{"start":{"line":95,"column":0},"end":{"line":95,"column":76}},"56":{"start":{"line":96,"column":0},"end":{"line":96,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":68,"column":0},"end":{"line":70,"column":1}},"type":"if","locations":[{"start":{"line":68,"column":0},"end":{"line":70,"column":1}}],"line":68},"4":{"loc":{"start":{"line":72,"column":0},"end":{"line":74,"column":1}},"type":"if","locations":[{"start":{"line":72,"column":0},"end":{"line":74,"column":1}}],"line":72},"5":{"loc":{"start":{"line":76,"column":0},"end":{"line":78,"column":1}},"type":"if","locations":[{"start":{"line":76,"column":0},"end":{"line":78,"column":1}}],"line":76},"6":{"loc":{"start":{"line":80,"column":0},"end":{"line":82,"column":1}},"type":"if","locations":[{"start":{"line":80,"column":0},"end":{"line":82,"column":1}}],"line":80}},"s":{"0":1,"1":18,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1},"f":{"0":18},"b":{"0":[1,1,1],"1":[11,7],"2":[18,18],"3":[1],"4":[1],"5":[1],"6":[1]},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/app.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/app.ts"],"names":[],"mappings":"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","sourcesContent":["import express from \"express\";\r\nimport { join } from \"path\";\r\nimport logger from \"morgan\";\r\nimport passport from \"passport\";\r\nimport session from \"express-session\";\r\nimport bodyParser from \"body-parser\";\r\nimport cors from \"cors\";\r\nimport paginate from \"express-paginate\";\r\nimport { graphqlHTTP } from \"express-graphql\";\r\nimport { loadSchemaSync } from \"@graphql-tools/load\";\r\nimport { GraphQLFileLoader } from \"@graphql-tools/graphql-file-loader\";\r\nimport { addResolversToSchema } from \"@graphql-tools/schema\";\r\n\r\nimport auth from \"./auth\";\r\nimport userRoutes from \"./user-routes\";\r\nimport contactRoutes from \"./contact-routes\";\r\nimport bankAccountRoutes from \"./bankaccount-routes\";\r\nimport transactionRoutes from \"./transaction-routes\";\r\nimport likeRoutes from \"./like-routes\";\r\nimport commentRoutes from \"./comment-routes\";\r\nimport notificationRoutes from \"./notification-routes\";\r\nimport bankTransferRoutes from \"./banktransfer-routes\";\r\nimport testDataRoutes from \"./testdata-routes\";\r\nimport { checkAuth0Jwt, verifyOktaToken, checkCognitoJwt, checkGoogleJwt } from \"./helpers\";\r\nimport resolvers from \"./graphql/resolvers\";\r\nimport { frontendPort, backendPort } from \"../src/utils/portUtils\";\r\n\r\nrequire(\"dotenv\").config();\r\n\r\nconst corsOption = {\r\n  origin: `http://localhost:${frontendPort}`,\r\n  credentials: true,\r\n};\r\n\r\nconst schema = loadSchemaSync(join(__dirname, \"./graphql/schema.graphql\"), {\r\n  loaders: [new GraphQLFileLoader()],\r\n});\r\n\r\nconst schemaWithResolvers = addResolversToSchema({\r\n  schema,\r\n  resolvers,\r\n});\r\n\r\nconst app = express();\r\n\r\n/* istanbul ignore next */\r\n// @ts-ignore\r\nif (global.__coverage__) {\r\n  require(\"@cypress/code-coverage/middleware/express\")(app);\r\n}\r\n\r\napp.use(cors(corsOption));\r\napp.use(logger(\"dev\"));\r\napp.use(bodyParser.urlencoded({ extended: false }));\r\napp.use(bodyParser.json());\r\n\r\napp.use(\r\n  session({\r\n    secret: \"session secret\",\r\n    resave: false,\r\n    saveUninitialized: false,\r\n    unset: \"destroy\",\r\n  })\r\n);\r\napp.use(passport.initialize());\r\napp.use(passport.session());\r\n\r\napp.use(paginate.middleware(+process.env.PAGINATION_PAGE_SIZE!));\r\n\r\n/* istanbul ignore next */\r\nif (process.env.NODE_ENV === \"test\" || process.env.NODE_ENV === \"development\") {\r\n  app.use(\"/testData\", testDataRoutes);\r\n}\r\n\r\napp.use(auth);\r\n\r\n/* istanbul ignore if */\r\nif (process.env.REACT_APP_AUTH0) {\r\n  app.use(checkAuth0Jwt);\r\n}\r\n\r\n/* istanbul ignore if */\r\nif (process.env.REACT_APP_OKTA) {\r\n  app.use(verifyOktaToken);\r\n}\r\n\r\n/* istanbul ignore if */\r\nif (process.env.REACT_APP_AWS_COGNITO) {\r\n  app.use(checkCognitoJwt);\r\n}\r\n\r\n/* istanbul ignore if */\r\nif (process.env.REACT_APP_GOOGLE) {\r\n  app.use(checkGoogleJwt);\r\n}\r\n\r\napp.use(\r\n  \"/graphql\",\r\n  graphqlHTTP({\r\n    schema: schemaWithResolvers,\r\n    graphiql: true,\r\n  })\r\n);\r\n\r\napp.use(\"/users\", userRoutes);\r\napp.use(\"/contacts\", contactRoutes);\r\napp.use(\"/bankAccounts\", bankAccountRoutes);\r\napp.use(\"/transactions\", transactionRoutes);\r\napp.use(\"/likes\", likeRoutes);\r\napp.use(\"/comments\", commentRoutes);\r\napp.use(\"/notifications\", notificationRoutes);\r\napp.use(\"/bankTransfers\", bankTransferRoutes);\r\n\r\napp.use(express.static(join(__dirname, \"../public\")));\r\n\r\napp.listen(backendPort);\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d35f6d8c1895dde121321a031d80d37dc79a4ddd","contentHash":"e616ecdee1ad3ee0d60fedb3dbcb7faffc11a4a7b1c4ceefc18cd0220b132960"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\auth.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\auth.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":53}},"5":{"start":{"line":8,"column":16},"end":{"line":8,"column":51}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":38}},"7":{"start":{"line":10,"column":20},"end":{"line":10,"column":54}},"8":{"start":{"line":11,"column":13},"end":{"line":11,"column":39}},"9":{"start":{"line":13,"column":0},"end":{"line":24,"column":4}},"10":{"start":{"line":14,"column":15},"end":{"line":14,"column":62}},"11":{"start":{"line":15,"column":25},"end":{"line":15,"column":58}},"12":{"start":{"line":16,"column":4},"end":{"line":18,"column":5}},"13":{"start":{"line":17,"column":8},"end":{"line":17,"column":62}},"14":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"15":{"start":{"line":21,"column":8},"end":{"line":21,"column":62}},"16":{"start":{"line":23,"column":4},"end":{"line":23,"column":28}},"17":{"start":{"line":25,"column":0},"end":{"line":27,"column":3}},"18":{"start":{"line":26,"column":4},"end":{"line":26,"column":24}},"19":{"start":{"line":28,"column":0},"end":{"line":31,"column":3}},"20":{"start":{"line":29,"column":15},"end":{"line":29,"column":46}},"21":{"start":{"line":30,"column":4},"end":{"line":30,"column":21}},"22":{"start":{"line":33,"column":0},"end":{"line":41,"column":3}},"23":{"start":{"line":34,"column":4},"end":{"line":39,"column":5}},"24":{"start":{"line":35,"column":8},"end":{"line":35,"column":61}},"25":{"start":{"line":38,"column":8},"end":{"line":38,"column":47}},"26":{"start":{"line":40,"column":4},"end":{"line":40,"column":33}},"27":{"start":{"line":42,"column":0},"end":{"line":48,"column":3}},"28":{"start":{"line":43,"column":4},"end":{"line":43,"column":35}},"29":{"start":{"line":44,"column":4},"end":{"line":44,"column":17}},"30":{"start":{"line":45,"column":4},"end":{"line":47,"column":7}},"31":{"start":{"line":46,"column":8},"end":{"line":46,"column":26}},"32":{"start":{"line":49,"column":0},"end":{"line":57,"column":3}},"33":{"start":{"line":58,"column":0},"end":{"line":58,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":41},"end":{"line":13,"column":42}},"loc":{"start":{"line":13,"column":77},"end":{"line":24,"column":1}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":33},"end":{"line":25,"column":34}},"loc":{"start":{"line":25,"column":55},"end":{"line":27,"column":1}},"line":25},"3":{"name":"(anonymous_3)","decl":{"start":{"line":28,"column":35},"end":{"line":28,"column":36}},"loc":{"start":{"line":28,"column":55},"end":{"line":31,"column":1}},"line":28},"4":{"name":"(anonymous_4)","decl":{"start":{"line":33,"column":64},"end":{"line":33,"column":65}},"loc":{"start":{"line":33,"column":84},"end":{"line":41,"column":1}},"line":33},"5":{"name":"(anonymous_5)","decl":{"start":{"line":42,"column":23},"end":{"line":42,"column":24}},"loc":{"start":{"line":42,"column":43},"end":{"line":48,"column":1}},"line":42},"6":{"name":"(anonymous_6)","decl":{"start":{"line":45,"column":24},"end":{"line":45,"column":25}},"loc":{"start":{"line":45,"column":39},"end":{"line":47,"column":5}},"line":45},"7":{"name":"(anonymous_7)","decl":{"start":{"line":49,"column":25},"end":{"line":49,"column":26}},"loc":{"start":{"line":49,"column":45},"end":{"line":57,"column":1}},"line":49}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":16,"column":4},"end":{"line":18,"column":5}},"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":18,"column":5}},{"start":{"line":16,"column":4},"end":{"line":18,"column":5}}],"line":16},"4":{"loc":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"type":"if","locations":[{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},{"start":{"line":20,"column":4},"end":{"line":22,"column":5}}],"line":20},"5":{"loc":{"start":{"line":34,"column":4},"end":{"line":39,"column":5}},"type":"if","locations":[{"start":{"line":34,"column":4},"end":{"line":39,"column":5}},{"start":{"line":34,"column":4},"end":{"line":39,"column":5}}],"line":34}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":1,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":1,"33":1},"f":{"0":3,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"b":{"0":[1,1,1],"1":[0,3],"2":[3,3],"3":[0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/auth.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/auth.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,sDAAgC;AAChC,oDAAqD;AAErD,uCAAoD;AAEpD,IAAM,aAAa,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAC,QAAQ,CAAC;AACzD,IAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,wCAAwC;AACxC,kBAAQ,CAAC,GAAG,CACV,IAAI,aAAa,CAAC,UAAU,QAAgB,EAAE,QAAgB,EAAE,IAAc;IAC5E,IAAM,IAAI,GAAG,IAAA,oBAAS,EAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;IAE7C,IAAM,cAAc,GAAG,iCAAiC,CAAC;IACzD,IAAI,CAAC,IAAI,EAAE;QACT,OAAO,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,OAAO,EAAE,cAAc,EAAE,CAAC,CAAC;KACvD;IAED,oBAAoB;IACpB,IAAI,CAAC,kBAAM,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE;QAChD,OAAO,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,OAAO,EAAE,cAAc,EAAE,CAAC,CAAC;KACvD;IAED,OAAO,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AAC1B,CAAC,CAAC,CACH,CAAC;AAEF,kBAAQ,CAAC,aAAa,CAAC,UAAU,IAAU,EAAE,IAAI;IAC/C,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;AACtB,CAAC,CAAC,CAAC;AAEH,kBAAQ,CAAC,eAAe,CAAC,UAAU,EAAU,EAAE,IAAI;IACjD,IAAM,IAAI,GAAG,IAAA,sBAAW,EAAC,EAAE,CAAC,CAAC;IAC7B,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AACnB,CAAC,CAAC,CAAC;AAEH,wBAAwB;AACxB,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,kBAAQ,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,UAAC,GAAY,EAAE,GAAa;IAChF,IAAI,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE;QACrB,GAAG,CAAC,OAAQ,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,GAAG,EAAE,CAAC,CAAC,oBAAoB;KAC5E;SAAM;QACL,GAAG,CAAC,OAAQ,CAAC,MAAM,CAAC,OAAO,GAAG,SAAS,CAAC;KACzC;IAED,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC;AAC/B,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,UAAC,GAAY,EAAE,GAAa;IACjD,GAAG,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;IAC/B,GAAG,CAAC,MAAM,EAAE,CAAC;IACb,GAAG,CAAC,OAAQ,CAAC,OAAO,CAAC,UAAU,GAAG;QAChC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;IACpB,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,GAAG,CAAC,YAAY,EAAE,UAAC,GAAG,EAAE,GAAG;IAChC,0BAA0B;IAC1B,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE;QACb,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,sBAAsB,EAAE,CAAC,CAAC;KACzD;SAAM;QACL,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC;KAC1C;AACH,CAAC,CAAC,CAAC;AAEH,kBAAe,MAAM,CAAC","sourcesContent":["import bcrypt from \"bcryptjs\";\r\nimport passport from \"passport\";\r\nimport express, { Request, Response } from \"express\";\r\nimport { User } from \"../src/models/user\";\r\nimport { getUserBy, getUserById } from \"./database\";\r\n\r\nconst LocalStrategy = require(\"passport-local\").Strategy;\r\nconst router = express.Router();\r\n\r\n// configure passport for local strategy\r\npassport.use(\r\n  new LocalStrategy(function (username: string, password: string, done: Function) {\r\n    const user = getUserBy(\"username\", username);\r\n\r\n    const failureMessage = \"Incorrect username or password.\";\r\n    if (!user) {\r\n      return done(null, false, { message: failureMessage });\r\n    }\r\n\r\n    // validate password\r\n    if (!bcrypt.compareSync(password, user.password)) {\r\n      return done(null, false, { message: failureMessage });\r\n    }\r\n\r\n    return done(null, user);\r\n  })\r\n);\r\n\r\npassport.serializeUser(function (user: User, done) {\r\n  done(null, user.id);\r\n});\r\n\r\npassport.deserializeUser(function (id: string, done) {\r\n  const user = getUserById(id);\r\n  done(null, user);\r\n});\r\n\r\n// authentication routes\r\nrouter.post(\"/login\", passport.authenticate(\"local\"), (req: Request, res: Response): void => {\r\n  if (req.body.remember) {\r\n    req.session!.cookie.maxAge = 24 * 60 * 60 * 1000 * 30; // Expire in 30 days\r\n  } else {\r\n    req.session!.cookie.expires = undefined;\r\n  }\r\n\r\n  res.send({ user: req.user });\r\n});\r\n\r\nrouter.post(\"/logout\", (req: Request, res: Response): void => {\r\n  res.clearCookie(\"connect.sid\");\r\n  req.logout();\r\n  req.session!.destroy(function (err) {\r\n    res.redirect(\"/\");\r\n  });\r\n});\r\n\r\nrouter.get(\"/checkAuth\", (req, res) => {\r\n  /* istanbul ignore next */\r\n  if (!req.user) {\r\n    res.status(401).json({ error: \"User is unauthorized\" });\r\n  } else {\r\n    res.status(200).json({ user: req.user });\r\n  }\r\n});\r\n\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a99f4a612d62ecb09e9ba0e2feeb3ef6099a2616","contentHash":"3a7aa25b62c2bb5f57fe3cd688ef87d9a332819c8dc965225ef522c1bad51bfe"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\database.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\database.ts","statementMap":{"0":{"start":{"line":2,"column":15},"end":{"line":12,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":10,"column":6}},"2":{"start":{"line":4,"column":8},"end":{"line":8,"column":9}},"3":{"start":{"line":4,"column":24},"end":{"line":4,"column":25}},"4":{"start":{"line":4,"column":31},"end":{"line":4,"column":47}},"5":{"start":{"line":5,"column":12},"end":{"line":5,"column":29}},"6":{"start":{"line":6,"column":12},"end":{"line":7,"column":28}},"7":{"start":{"line":6,"column":29},"end":{"line":7,"column":28}},"8":{"start":{"line":7,"column":16},"end":{"line":7,"column":28}},"9":{"start":{"line":9,"column":8},"end":{"line":9,"column":17}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":43}},"11":{"start":{"line":13,"column":22},"end":{"line":15,"column":1}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":62}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":62}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":1457}},"15":{"start":{"line":18,"column":0},"end":{"line":18,"column":1367}},"16":{"start":{"line":19,"column":13},"end":{"line":19,"column":45}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":53}},"18":{"start":{"line":21,"column":11},"end":{"line":21,"column":41}},"19":{"start":{"line":22,"column":13},"end":{"line":22,"column":28}},"20":{"start":{"line":23,"column":11},"end":{"line":23,"column":31}},"21":{"start":{"line":24,"column":17},"end":{"line":24,"column":36}},"22":{"start":{"line":25,"column":14},"end":{"line":25,"column":47}},"23":{"start":{"line":26,"column":17},"end":{"line":26,"column":68}},"24":{"start":{"line":27,"column":16},"end":{"line":27,"column":51}},"25":{"start":{"line":28,"column":15},"end":{"line":28,"column":39}},"26":{"start":{"line":29,"column":16},"end":{"line":29,"column":51}},"27":{"start":{"line":30,"column":25},"end":{"line":30,"column":65}},"28":{"start":{"line":31,"column":17},"end":{"line":31,"column":24}},"29":{"start":{"line":32,"column":20},"end":{"line":32,"column":30}},"30":{"start":{"line":33,"column":25},"end":{"line":33,"column":39}},"31":{"start":{"line":34,"column":24},"end":{"line":34,"column":38}},"32":{"start":{"line":35,"column":17},"end":{"line":35,"column":24}},"33":{"start":{"line":36,"column":20},"end":{"line":36,"column":30}},"34":{"start":{"line":37,"column":25},"end":{"line":37,"column":40}},"35":{"start":{"line":38,"column":26},"end":{"line":38,"column":41}},"36":{"start":{"line":39,"column":19},"end":{"line":39,"column":74}},"37":{"start":{"line":40,"column":14},"end":{"line":40,"column":50}},"38":{"start":{"line":41,"column":9},"end":{"line":41,"column":38}},"39":{"start":{"line":42,"column":19},"end":{"line":47,"column":1}},"40":{"start":{"line":43,"column":19},"end":{"line":43,"column":131}},"41":{"start":{"line":45,"column":4},"end":{"line":45,"column":34}},"42":{"start":{"line":46,"column":4},"end":{"line":46,"column":11}},"43":{"start":{"line":48,"column":0},"end":{"line":48,"column":36}},"44":{"start":{"line":49,"column":18},"end":{"line":49,"column":68}},"45":{"start":{"line":49,"column":32},"end":{"line":49,"column":66}},"46":{"start":{"line":50,"column":0},"end":{"line":50,"column":34}},"47":{"start":{"line":51,"column":31},"end":{"line":53,"column":1}},"48":{"start":{"line":52,"column":4},"end":{"line":52,"column":107}},"49":{"start":{"line":54,"column":0},"end":{"line":54,"column":60}},"50":{"start":{"line":55,"column":22},"end":{"line":55,"column":74}},"51":{"start":{"line":55,"column":42},"end":{"line":55,"column":72}},"52":{"start":{"line":56,"column":0},"end":{"line":56,"column":42}},"53":{"start":{"line":57,"column":15},"end":{"line":65,"column":1}},"54":{"start":{"line":59,"column":17},"end":{"line":63,"column":16}},"55":{"start":{"line":64,"column":4},"end":{"line":64,"column":18}},"56":{"start":{"line":66,"column":0},"end":{"line":66,"column":28}},"57":{"start":{"line":67,"column":12},"end":{"line":75,"column":1}},"58":{"start":{"line":69,"column":17},"end":{"line":73,"column":16}},"59":{"start":{"line":74,"column":4},"end":{"line":74,"column":18}},"60":{"start":{"line":76,"column":0},"end":{"line":76,"column":22}},"61":{"start":{"line":77,"column":18},"end":{"line":84,"column":1}},"62":{"start":{"line":78,"column":17},"end":{"line":82,"column":16}},"63":{"start":{"line":83,"column":4},"end":{"line":83,"column":18}},"64":{"start":{"line":85,"column":0},"end":{"line":85,"column":34}},"65":{"start":{"line":87,"column":23},"end":{"line":87,"column":86}},"66":{"start":{"line":87,"column":42},"end":{"line":87,"column":84}},"67":{"start":{"line":88,"column":0},"end":{"line":88,"column":44}},"68":{"start":{"line":89,"column":0},"end":{"line":92,"column":3}},"69":{"start":{"line":90,"column":15},"end":{"line":90,"column":52}},"70":{"start":{"line":91,"column":4},"end":{"line":91,"column":30}},"71":{"start":{"line":93,"column":20},"end":{"line":95,"column":1}},"72":{"start":{"line":94,"column":4},"end":{"line":94,"column":159}},"73":{"start":{"line":94,"column":128},"end":{"line":94,"column":147}},"74":{"start":{"line":96,"column":0},"end":{"line":96,"column":38}},"75":{"start":{"line":97,"column":18},"end":{"line":102,"column":1}},"76":{"start":{"line":98,"column":16},"end":{"line":98,"column":42}},"77":{"start":{"line":99,"column":4},"end":{"line":101,"column":14}},"78":{"start":{"line":103,"column":0},"end":{"line":103,"column":34}},"79":{"start":{"line":104,"column":28},"end":{"line":106,"column":1}},"80":{"start":{"line":105,"column":4},"end":{"line":105,"column":53}},"81":{"start":{"line":107,"column":0},"end":{"line":107,"column":54}},"82":{"start":{"line":110,"column":16},"end":{"line":110,"column":92}},"83":{"start":{"line":110,"column":40},"end":{"line":110,"column":90}},"84":{"start":{"line":111,"column":0},"end":{"line":111,"column":30}},"85":{"start":{"line":112,"column":16},"end":{"line":112,"column":51}},"86":{"start":{"line":112,"column":34},"end":{"line":112,"column":49}},"87":{"start":{"line":113,"column":0},"end":{"line":113,"column":30}},"88":{"start":{"line":114,"column":18},"end":{"line":114,"column":76}},"89":{"start":{"line":114,"column":34},"end":{"line":114,"column":74}},"90":{"start":{"line":115,"column":0},"end":{"line":115,"column":34}},"91":{"start":{"line":116,"column":24},"end":{"line":116,"column":100}},"92":{"start":{"line":116,"column":46},"end":{"line":116,"column":98}},"93":{"start":{"line":117,"column":0},"end":{"line":117,"column":46}},"94":{"start":{"line":118,"column":17},"end":{"line":137,"column":1}},"95":{"start":{"line":119,"column":19},"end":{"line":119,"column":72}},"96":{"start":{"line":120,"column":15},"end":{"line":134,"column":5}},"97":{"start":{"line":135,"column":4},"end":{"line":135,"column":19}},"98":{"start":{"line":136,"column":4},"end":{"line":136,"column":16}},"99":{"start":{"line":138,"column":0},"end":{"line":138,"column":32}},"100":{"start":{"line":139,"column":15},"end":{"line":141,"column":1}},"101":{"start":{"line":140,"column":4},"end":{"line":140,"column":42}},"102":{"start":{"line":142,"column":21},"end":{"line":145,"column":1}},"103":{"start":{"line":143,"column":15},"end":{"line":143,"column":47}},"104":{"start":{"line":144,"column":4},"end":{"line":144,"column":56}},"105":{"start":{"line":146,"column":0},"end":{"line":146,"column":40}},"106":{"start":{"line":148,"column":19},"end":{"line":148,"column":98}},"107":{"start":{"line":148,"column":43},"end":{"line":148,"column":96}},"108":{"start":{"line":149,"column":0},"end":{"line":149,"column":36}},"109":{"start":{"line":150,"column":20},"end":{"line":150,"column":102}},"110":{"start":{"line":150,"column":44},"end":{"line":150,"column":100}},"111":{"start":{"line":151,"column":0},"end":{"line":151,"column":38}},"112":{"start":{"line":152,"column":28},"end":{"line":154,"column":1}},"113":{"start":{"line":153,"column":4},"end":{"line":153,"column":111}},"114":{"start":{"line":155,"column":0},"end":{"line":155,"column":54}},"115":{"start":{"line":156,"column":26},"end":{"line":156,"column":100}},"116":{"start":{"line":156,"column":46},"end":{"line":156,"column":98}},"117":{"start":{"line":157,"column":0},"end":{"line":157,"column":50}},"118":{"start":{"line":158,"column":20},"end":{"line":162,"column":1}},"119":{"start":{"line":159,"column":4},"end":{"line":159,"column":48}},"120":{"start":{"line":161,"column":4},"end":{"line":161,"column":55}},"121":{"start":{"line":163,"column":0},"end":{"line":163,"column":38}},"122":{"start":{"line":164,"column":24},"end":{"line":167,"column":1}},"123":{"start":{"line":165,"column":18},"end":{"line":165,"column":60}},"124":{"start":{"line":166,"column":4},"end":{"line":166,"column":50}},"125":{"start":{"line":168,"column":0},"end":{"line":168,"column":46}},"126":{"start":{"line":169,"column":27},"end":{"line":182,"column":1}},"127":{"start":{"line":170,"column":20},"end":{"line":170,"column":44}},"128":{"start":{"line":171,"column":18},"end":{"line":178,"column":5}},"129":{"start":{"line":180,"column":17},"end":{"line":180,"column":52}},"130":{"start":{"line":181,"column":4},"end":{"line":181,"column":18}},"131":{"start":{"line":183,"column":0},"end":{"line":183,"column":52}},"132":{"start":{"line":185,"column":23},"end":{"line":185,"column":107}},"133":{"start":{"line":185,"column":47},"end":{"line":185,"column":105}},"134":{"start":{"line":186,"column":0},"end":{"line":186,"column":44}},"135":{"start":{"line":187,"column":25},"end":{"line":187,"column":90}},"136":{"start":{"line":187,"column":41},"end":{"line":187,"column":88}},"137":{"start":{"line":188,"column":0},"end":{"line":188,"column":48}},"138":{"start":{"line":189,"column":24},"end":{"line":191,"column":1}},"139":{"start":{"line":190,"column":4},"end":{"line":190,"column":65}},"140":{"start":{"line":192,"column":0},"end":{"line":192,"column":46}},"141":{"start":{"line":193,"column":24},"end":{"line":197,"column":1}},"142":{"start":{"line":194,"column":4},"end":{"line":194,"column":57}},"143":{"start":{"line":196,"column":4},"end":{"line":196,"column":63}},"144":{"start":{"line":198,"column":0},"end":{"line":198,"column":46}},"145":{"start":{"line":199,"column":31},"end":{"line":215,"column":1}},"146":{"start":{"line":200,"column":20},"end":{"line":200,"column":44}},"147":{"start":{"line":201,"column":22},"end":{"line":211,"column":5}},"148":{"start":{"line":213,"column":17},"end":{"line":213,"column":60}},"149":{"start":{"line":214,"column":4},"end":{"line":214,"column":18}},"150":{"start":{"line":216,"column":0},"end":{"line":216,"column":60}},"151":{"start":{"line":217,"column":28},"end":{"line":222,"column":1}},"152":{"start":{"line":218,"column":4},"end":{"line":221,"column":17}},"153":{"start":{"line":223,"column":0},"end":{"line":223,"column":54}},"154":{"start":{"line":231,"column":0},"end":{"line":231,"column":46}},"155":{"start":{"line":232,"column":25},"end":{"line":234,"column":1}},"156":{"start":{"line":233,"column":4},"end":{"line":233,"column":66}},"157":{"start":{"line":235,"column":0},"end":{"line":235,"column":48}},"158":{"start":{"line":236,"column":31},"end":{"line":236,"column":110}},"159":{"start":{"line":236,"column":51},"end":{"line":236,"column":108}},"160":{"start":{"line":237,"column":0},"end":{"line":237,"column":60}},"161":{"start":{"line":244,"column":0},"end":{"line":244,"column":48}},"162":{"start":{"line":252,"column":23},"end":{"line":252,"column":106}},"163":{"start":{"line":252,"column":47},"end":{"line":252,"column":104}},"164":{"start":{"line":253,"column":0},"end":{"line":253,"column":44}},"165":{"start":{"line":254,"column":25},"end":{"line":254,"column":90}},"166":{"start":{"line":254,"column":41},"end":{"line":254,"column":88}},"167":{"start":{"line":255,"column":0},"end":{"line":255,"column":48}},"168":{"start":{"line":256,"column":27},"end":{"line":256,"column":106}},"169":{"start":{"line":256,"column":46},"end":{"line":256,"column":104}},"170":{"start":{"line":257,"column":0},"end":{"line":257,"column":52}},"171":{"start":{"line":258,"column":31},"end":{"line":260,"column":1}},"172":{"start":{"line":259,"column":4},"end":{"line":259,"column":97}},"173":{"start":{"line":261,"column":0},"end":{"line":261,"column":60}},"174":{"start":{"line":262,"column":35},"end":{"line":264,"column":1}},"175":{"start":{"line":263,"column":4},"end":{"line":263,"column":125}},"176":{"start":{"line":265,"column":0},"end":{"line":265,"column":68}},"177":{"start":{"line":266,"column":25},"end":{"line":266,"column":133}},"178":{"start":{"line":266,"column":45},"end":{"line":266,"column":131}},"179":{"start":{"line":267,"column":0},"end":{"line":267,"column":48}},"180":{"start":{"line":268,"column":38},"end":{"line":276,"column":1}},"181":{"start":{"line":269,"column":19},"end":{"line":269,"column":67}},"182":{"start":{"line":270,"column":17},"end":{"line":270,"column":63}},"183":{"start":{"line":271,"column":23},"end":{"line":271,"column":78}},"184":{"start":{"line":272,"column":21},"end":{"line":272,"column":74}},"185":{"start":{"line":273,"column":16},"end":{"line":273,"column":68}},"186":{"start":{"line":274,"column":19},"end":{"line":274,"column":74}},"187":{"start":{"line":275,"column":4},"end":{"line":275,"column":185}},"188":{"start":{"line":277,"column":0},"end":{"line":277,"column":74}},"189":{"start":{"line":278,"column":39},"end":{"line":280,"column":1}},"190":{"start":{"line":279,"column":4},"end":{"line":279,"column":222}},"191":{"start":{"line":279,"column":55},"end":{"line":279,"column":95}},"192":{"start":{"line":279,"column":152},"end":{"line":279,"column":217}},"193":{"start":{"line":281,"column":0},"end":{"line":281,"column":76}},"194":{"start":{"line":282,"column":0},"end":{"line":295,"column":3}},"195":{"start":{"line":283,"column":35},"end":{"line":283,"column":102}},"196":{"start":{"line":284,"column":22},"end":{"line":284,"column":55}},"197":{"start":{"line":285,"column":27},"end":{"line":288,"column":6}},"198":{"start":{"line":289,"column":4},"end":{"line":293,"column":5}},"199":{"start":{"line":290,"column":17},"end":{"line":290,"column":66}},"200":{"start":{"line":290,"column":85},"end":{"line":290,"column":102}},"201":{"start":{"line":290,"column":119},"end":{"line":290,"column":134}},"202":{"start":{"line":291,"column":17},"end":{"line":291,"column":68}},"203":{"start":{"line":291,"column":82},"end":{"line":291,"column":94}},"204":{"start":{"line":291,"column":108},"end":{"line":291,"column":120}},"205":{"start":{"line":292,"column":8},"end":{"line":292,"column":186}},"206":{"start":{"line":294,"column":4},"end":{"line":294,"column":28}},"207":{"start":{"line":296,"column":0},"end":{"line":301,"column":3}},"208":{"start":{"line":297,"column":4},"end":{"line":299,"column":5}},"209":{"start":{"line":298,"column":8},"end":{"line":298,"column":28}},"210":{"start":{"line":300,"column":4},"end":{"line":300,"column":138}},"211":{"start":{"line":300,"column":53},"end":{"line":300,"column":120}},"212":{"start":{"line":302,"column":0},"end":{"line":312,"column":3}},"213":{"start":{"line":303,"column":4},"end":{"line":305,"column":5}},"214":{"start":{"line":304,"column":8},"end":{"line":304,"column":28}},"215":{"start":{"line":306,"column":4},"end":{"line":311,"column":21}},"216":{"start":{"line":307,"column":8},"end":{"line":310,"column":11}},"217":{"start":{"line":313,"column":0},"end":{"line":315,"column":3}},"218":{"start":{"line":314,"column":4},"end":{"line":314,"column":110}},"219":{"start":{"line":316,"column":27},"end":{"line":318,"column":1}},"220":{"start":{"line":317,"column":4},"end":{"line":317,"column":95}},"221":{"start":{"line":319,"column":0},"end":{"line":319,"column":52}},"222":{"start":{"line":320,"column":37},"end":{"line":322,"column":1}},"223":{"start":{"line":321,"column":4},"end":{"line":321,"column":190}},"224":{"start":{"line":321,"column":75},"end":{"line":321,"column":142}},"225":{"start":{"line":323,"column":0},"end":{"line":323,"column":72}},"226":{"start":{"line":324,"column":24},"end":{"line":324,"column":93}},"227":{"start":{"line":324,"column":50},"end":{"line":324,"column":91}},"228":{"start":{"line":325,"column":0},"end":{"line":325,"column":46}},"229":{"start":{"line":326,"column":32},"end":{"line":328,"column":1}},"230":{"start":{"line":327,"column":4},"end":{"line":327,"column":101}},"231":{"start":{"line":329,"column":0},"end":{"line":329,"column":62}},"232":{"start":{"line":330,"column":35},"end":{"line":333,"column":1}},"233":{"start":{"line":331,"column":33},"end":{"line":331,"column":79}},"234":{"start":{"line":332,"column":4},"end":{"line":332,"column":175}},"235":{"start":{"line":332,"column":102},"end":{"line":332,"column":168}},"236":{"start":{"line":334,"column":0},"end":{"line":334,"column":68}},"237":{"start":{"line":335,"column":44},"end":{"line":337,"column":1}},"238":{"start":{"line":336,"column":4},"end":{"line":336,"column":114}},"239":{"start":{"line":338,"column":0},"end":{"line":338,"column":86}},"240":{"start":{"line":339,"column":39},"end":{"line":342,"column":5}},"241":{"start":{"line":339,"column":59},"end":{"line":342,"column":3}},"242":{"start":{"line":343,"column":0},"end":{"line":343,"column":76}},"243":{"start":{"line":344,"column":35},"end":{"line":359,"column":1}},"244":{"start":{"line":345,"column":4},"end":{"line":358,"column":5}},"245":{"start":{"line":346,"column":17},"end":{"line":346,"column":66}},"246":{"start":{"line":346,"column":85},"end":{"line":346,"column":102}},"247":{"start":{"line":346,"column":119},"end":{"line":346,"column":134}},"248":{"start":{"line":347,"column":17},"end":{"line":347,"column":68}},"249":{"start":{"line":347,"column":82},"end":{"line":347,"column":94}},"250":{"start":{"line":347,"column":108},"end":{"line":347,"column":120}},"251":{"start":{"line":348,"column":8},"end":{"line":351,"column":10}},"252":{"start":{"line":354,"column":8},"end":{"line":357,"column":10}},"253":{"start":{"line":360,"column":0},"end":{"line":360,"column":68}},"254":{"start":{"line":361,"column":0},"end":{"line":361,"column":51}},"255":{"start":{"line":362,"column":25},"end":{"line":370,"column":1}},"256":{"start":{"line":363,"column":4},"end":{"line":369,"column":5}},"257":{"start":{"line":364,"column":8},"end":{"line":364,"column":116}},"258":{"start":{"line":371,"column":0},"end":{"line":371,"column":48}},"259":{"start":{"line":372,"column":26},"end":{"line":374,"column":1}},"260":{"start":{"line":373,"column":4},"end":{"line":373,"column":127}},"261":{"start":{"line":375,"column":0},"end":{"line":375,"column":50}},"262":{"start":{"line":386,"column":0},"end":{"line":388,"column":3}},"263":{"start":{"line":387,"column":4},"end":{"line":387,"column":90}},"264":{"start":{"line":389,"column":24},"end":{"line":420,"column":1}},"265":{"start":{"line":390,"column":17},"end":{"line":390,"column":49}},"266":{"start":{"line":391,"column":19},"end":{"line":391,"column":74}},"267":{"start":{"line":392,"column":22},"end":{"line":405,"column":5}},"268":{"start":{"line":406,"column":27},"end":{"line":406,"column":55}},"269":{"start":{"line":408,"column":4},"end":{"line":418,"column":5}},"270":{"start":{"line":409,"column":8},"end":{"line":409,"column":61}},"271":{"start":{"line":410,"column":8},"end":{"line":410,"column":64}},"272":{"start":{"line":411,"column":8},"end":{"line":413,"column":11}},"273":{"start":{"line":414,"column":8},"end":{"line":414,"column":132}},"274":{"start":{"line":417,"column":8},"end":{"line":417,"column":133}},"275":{"start":{"line":419,"column":4},"end":{"line":419,"column":28}},"276":{"start":{"line":421,"column":0},"end":{"line":421,"column":46}},"277":{"start":{"line":422,"column":22},"end":{"line":426,"column":1}},"278":{"start":{"line":423,"column":4},"end":{"line":423,"column":56}},"279":{"start":{"line":425,"column":4},"end":{"line":425,"column":63}},"280":{"start":{"line":427,"column":28},"end":{"line":440,"column":1}},"281":{"start":{"line":428,"column":22},"end":{"line":428,"column":72}},"282":{"start":{"line":429,"column":19},"end":{"line":429,"column":39}},"283":{"start":{"line":429,"column":54},"end":{"line":429,"column":76}},"284":{"start":{"line":430,"column":17},"end":{"line":430,"column":51}},"285":{"start":{"line":431,"column":19},"end":{"line":431,"column":55}},"286":{"start":{"line":433,"column":4},"end":{"line":438,"column":5}},"287":{"start":{"line":434,"column":8},"end":{"line":434,"column":63}},"288":{"start":{"line":435,"column":8},"end":{"line":435,"column":62}},"289":{"start":{"line":436,"column":8},"end":{"line":436,"column":59}},"290":{"start":{"line":437,"column":8},"end":{"line":437,"column":130}},"291":{"start":{"line":439,"column":4},"end":{"line":439,"column":70}},"292":{"start":{"line":441,"column":0},"end":{"line":441,"column":54}},"293":{"start":{"line":443,"column":16},"end":{"line":443,"column":92}},"294":{"start":{"line":443,"column":40},"end":{"line":443,"column":90}},"295":{"start":{"line":444,"column":0},"end":{"line":444,"column":30}},"296":{"start":{"line":445,"column":20},"end":{"line":445,"column":92}},"297":{"start":{"line":445,"column":39},"end":{"line":445,"column":90}},"298":{"start":{"line":446,"column":0},"end":{"line":446,"column":38}},"299":{"start":{"line":447,"column":18},"end":{"line":447,"column":76}},"300":{"start":{"line":447,"column":34},"end":{"line":447,"column":74}},"301":{"start":{"line":448,"column":0},"end":{"line":448,"column":34}},"302":{"start":{"line":449,"column":30},"end":{"line":449,"column":127}},"303":{"start":{"line":449,"column":57},"end":{"line":449,"column":125}},"304":{"start":{"line":450,"column":0},"end":{"line":450,"column":58}},"305":{"start":{"line":451,"column":17},"end":{"line":462,"column":1}},"306":{"start":{"line":452,"column":15},"end":{"line":459,"column":5}},"307":{"start":{"line":460,"column":20},"end":{"line":460,"column":34}},"308":{"start":{"line":461,"column":4},"end":{"line":461,"column":21}},"309":{"start":{"line":463,"column":0},"end":{"line":463,"column":32}},"310":{"start":{"line":464,"column":18},"end":{"line":478,"column":1}},"311":{"start":{"line":465,"column":13},"end":{"line":465,"column":59}},"312":{"start":{"line":465,"column":72},"end":{"line":465,"column":83}},"313":{"start":{"line":465,"column":98},"end":{"line":465,"column":111}},"314":{"start":{"line":466,"column":15},"end":{"line":466,"column":61}},"315":{"start":{"line":479,"column":0},"end":{"line":479,"column":34}},"316":{"start":{"line":480,"column":15},"end":{"line":484,"column":1}},"317":{"start":{"line":481,"column":4},"end":{"line":481,"column":42}},"318":{"start":{"line":483,"column":4},"end":{"line":483,"column":45}},"319":{"start":{"line":486,"column":19},"end":{"line":486,"column":98}},"320":{"start":{"line":486,"column":43},"end":{"line":486,"column":96}},"321":{"start":{"line":487,"column":0},"end":{"line":487,"column":36}},"322":{"start":{"line":488,"column":23},"end":{"line":488,"column":98}},"323":{"start":{"line":488,"column":42},"end":{"line":488,"column":96}},"324":{"start":{"line":489,"column":0},"end":{"line":489,"column":44}},"325":{"start":{"line":490,"column":21},"end":{"line":490,"column":82}},"326":{"start":{"line":490,"column":37},"end":{"line":490,"column":80}},"327":{"start":{"line":491,"column":0},"end":{"line":491,"column":40}},"328":{"start":{"line":492,"column":33},"end":{"line":494,"column":1}},"329":{"start":{"line":493,"column":4},"end":{"line":493,"column":75}},"330":{"start":{"line":495,"column":0},"end":{"line":495,"column":64}},"331":{"start":{"line":496,"column":20},"end":{"line":508,"column":1}},"332":{"start":{"line":497,"column":18},"end":{"line":505,"column":5}},"333":{"start":{"line":506,"column":23},"end":{"line":506,"column":43}},"334":{"start":{"line":507,"column":4},"end":{"line":507,"column":24}},"335":{"start":{"line":509,"column":0},"end":{"line":509,"column":38}},"336":{"start":{"line":510,"column":21},"end":{"line":524,"column":1}},"337":{"start":{"line":511,"column":13},"end":{"line":511,"column":59}},"338":{"start":{"line":511,"column":72},"end":{"line":511,"column":83}},"339":{"start":{"line":511,"column":98},"end":{"line":511,"column":111}},"340":{"start":{"line":512,"column":18},"end":{"line":512,"column":76}},"341":{"start":{"line":525,"column":0},"end":{"line":525,"column":40}},"342":{"start":{"line":526,"column":18},"end":{"line":530,"column":1}},"343":{"start":{"line":527,"column":4},"end":{"line":527,"column":48}},"344":{"start":{"line":529,"column":4},"end":{"line":529,"column":51}},"345":{"start":{"line":532,"column":24},"end":{"line":534,"column":1}},"346":{"start":{"line":533,"column":4},"end":{"line":533,"column":62}},"347":{"start":{"line":535,"column":0},"end":{"line":535,"column":46}},"348":{"start":{"line":536,"column":28},"end":{"line":538,"column":1}},"349":{"start":{"line":537,"column":4},"end":{"line":537,"column":63}},"350":{"start":{"line":539,"column":0},"end":{"line":539,"column":54}},"351":{"start":{"line":540,"column":37},"end":{"line":542,"column":1}},"352":{"start":{"line":541,"column":4},"end":{"line":541,"column":135}},"353":{"start":{"line":543,"column":0},"end":{"line":543,"column":72}},"354":{"start":{"line":544,"column":32},"end":{"line":557,"column":1}},"355":{"start":{"line":545,"column":23},"end":{"line":554,"column":5}},"356":{"start":{"line":555,"column":4},"end":{"line":555,"column":35}},"357":{"start":{"line":556,"column":4},"end":{"line":556,"column":24}},"358":{"start":{"line":558,"column":0},"end":{"line":558,"column":62}},"359":{"start":{"line":559,"column":29},"end":{"line":572,"column":1}},"360":{"start":{"line":560,"column":23},"end":{"line":569,"column":5}},"361":{"start":{"line":570,"column":4},"end":{"line":570,"column":35}},"362":{"start":{"line":571,"column":4},"end":{"line":571,"column":24}},"363":{"start":{"line":573,"column":0},"end":{"line":573,"column":56}},"364":{"start":{"line":574,"column":32},"end":{"line":587,"column":1}},"365":{"start":{"line":575,"column":23},"end":{"line":584,"column":5}},"366":{"start":{"line":585,"column":4},"end":{"line":585,"column":35}},"367":{"start":{"line":586,"column":4},"end":{"line":586,"column":24}},"368":{"start":{"line":588,"column":0},"end":{"line":588,"column":62}},"369":{"start":{"line":589,"column":23},"end":{"line":591,"column":1}},"370":{"start":{"line":590,"column":4},"end":{"line":590,"column":58}},"371":{"start":{"line":592,"column":26},"end":{"line":607,"column":1}},"372":{"start":{"line":593,"column":4},"end":{"line":606,"column":7}},"373":{"start":{"line":594,"column":8},"end":{"line":605,"column":9}},"374":{"start":{"line":595,"column":12},"end":{"line":595,"column":99}},"375":{"start":{"line":597,"column":13},"end":{"line":605,"column":9}},"376":{"start":{"line":598,"column":12},"end":{"line":598,"column":96}},"377":{"start":{"line":608,"column":0},"end":{"line":608,"column":50}},"378":{"start":{"line":609,"column":29},"end":{"line":612,"column":1}},"379":{"start":{"line":610,"column":23},"end":{"line":610,"column":75}},"380":{"start":{"line":611,"column":4},"end":{"line":611,"column":72}},"381":{"start":{"line":613,"column":0},"end":{"line":613,"column":56}},"382":{"start":{"line":614,"column":39},"end":{"line":629,"column":1}},"383":{"start":{"line":615,"column":23},"end":{"line":615,"column":75}},"384":{"start":{"line":616,"column":22},"end":{"line":616,"column":81}},"385":{"start":{"line":617,"column":4},"end":{"line":619,"column":5}},"386":{"start":{"line":618,"column":8},"end":{"line":618,"column":77}},"387":{"start":{"line":620,"column":4},"end":{"line":623,"column":5}},"388":{"start":{"line":621,"column":19},"end":{"line":621,"column":64}},"389":{"start":{"line":622,"column":8},"end":{"line":622,"column":68}},"390":{"start":{"line":624,"column":4},"end":{"line":627,"column":5}},"391":{"start":{"line":625,"column":22},"end":{"line":625,"column":73}},"392":{"start":{"line":626,"column":8},"end":{"line":626,"column":71}},"393":{"start":{"line":628,"column":4},"end":{"line":628,"column":66}},"394":{"start":{"line":630,"column":0},"end":{"line":630,"column":76}},"395":{"start":{"line":631,"column":40},"end":{"line":633,"column":1}},"396":{"start":{"line":632,"column":4},"end":{"line":632,"column":228}},"397":{"start":{"line":632,"column":56},"end":{"line":632,"column":97}},"398":{"start":{"line":632,"column":156},"end":{"line":632,"column":223}},"399":{"start":{"line":634,"column":0},"end":{"line":634,"column":78}},"400":{"start":{"line":641,"column":0},"end":{"line":641,"column":38}},"401":{"start":{"line":644,"column":0},"end":{"line":644,"column":40}},"402":{"start":{"line":647,"column":0},"end":{"line":647,"column":48}},"403":{"start":{"line":649,"column":30},"end":{"line":649,"column":108}},"404":{"start":{"line":649,"column":50},"end":{"line":649,"column":106}},"405":{"start":{"line":650,"column":0},"end":{"line":650,"column":58}},"406":{"start":{"line":653,"column":0},"end":{"line":653,"column":50}},"407":{"start":{"line":656,"column":0},"end":{"line":656,"column":60}},"408":{"start":{"line":661,"column":0},"end":{"line":661,"column":72}},"409":{"start":{"line":666,"column":0},"end":{"line":666,"column":46}},"410":{"start":{"line":669,"column":0},"end":{"line":669,"column":58}},"411":{"start":{"line":670,"column":0},"end":{"line":670,"column":21}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":42},"end":{"line":2,"column":43}},"loc":{"start":{"line":2,"column":54},"end":{"line":12,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":3,"column":32},"end":{"line":3,"column":33}},"loc":{"start":{"line":3,"column":44},"end":{"line":10,"column":5}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":56},"end":{"line":13,"column":57}},"loc":{"start":{"line":13,"column":71},"end":{"line":15,"column":1}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":42,"column":19},"end":{"line":42,"column":20}},"loc":{"start":{"line":42,"column":31},"end":{"line":47,"column":1}},"line":42},"4":{"name":"(anonymous_4)","decl":{"start":{"line":49,"column":18},"end":{"line":49,"column":19}},"loc":{"start":{"line":49,"column":30},"end":{"line":49,"column":68}},"line":49},"5":{"name":"(anonymous_5)","decl":{"start":{"line":51,"column":31},"end":{"line":51,"column":32}},"loc":{"start":{"line":51,"column":43},"end":{"line":53,"column":1}},"line":51},"6":{"name":"(anonymous_6)","decl":{"start":{"line":55,"column":22},"end":{"line":55,"column":23}},"loc":{"start":{"line":55,"column":40},"end":{"line":55,"column":74}},"line":55},"7":{"name":"(anonymous_7)","decl":{"start":{"line":57,"column":15},"end":{"line":57,"column":16}},"loc":{"start":{"line":57,"column":45},"end":{"line":65,"column":1}},"line":57},"8":{"name":"(anonymous_8)","decl":{"start":{"line":67,"column":12},"end":{"line":67,"column":13}},"loc":{"start":{"line":67,"column":42},"end":{"line":75,"column":1}},"line":67},"9":{"name":"(anonymous_9)","decl":{"start":{"line":77,"column":18},"end":{"line":77,"column":19}},"loc":{"start":{"line":77,"column":43},"end":{"line":84,"column":1}},"line":77},"10":{"name":"(anonymous_10)","decl":{"start":{"line":87,"column":23},"end":{"line":87,"column":24}},"loc":{"start":{"line":87,"column":40},"end":{"line":87,"column":86}},"line":87},"11":{"name":"(anonymous_11)","decl":{"start":{"line":89,"column":38},"end":{"line":89,"column":39}},"loc":{"start":{"line":89,"column":71},"end":{"line":92,"column":1}},"line":89},"12":{"name":"(anonymous_12)","decl":{"start":{"line":93,"column":20},"end":{"line":93,"column":21}},"loc":{"start":{"line":93,"column":53},"end":{"line":95,"column":1}},"line":93},"13":{"name":"(anonymous_13)","decl":{"start":{"line":94,"column":108},"end":{"line":94,"column":109}},"loc":{"start":{"line":94,"column":126},"end":{"line":94,"column":149}},"line":94},"14":{"name":"(anonymous_14)","decl":{"start":{"line":97,"column":18},"end":{"line":97,"column":19}},"loc":{"start":{"line":97,"column":35},"end":{"line":102,"column":1}},"line":97},"15":{"name":"(anonymous_15)","decl":{"start":{"line":104,"column":28},"end":{"line":104,"column":29}},"loc":{"start":{"line":104,"column":55},"end":{"line":106,"column":1}},"line":104},"16":{"name":"(anonymous_16)","decl":{"start":{"line":110,"column":16},"end":{"line":110,"column":17}},"loc":{"start":{"line":110,"column":38},"end":{"line":110,"column":92}},"line":110},"17":{"name":"(anonymous_17)","decl":{"start":{"line":112,"column":16},"end":{"line":112,"column":17}},"loc":{"start":{"line":112,"column":32},"end":{"line":112,"column":51}},"line":112},"18":{"name":"(anonymous_18)","decl":{"start":{"line":114,"column":18},"end":{"line":114,"column":19}},"loc":{"start":{"line":114,"column":32},"end":{"line":114,"column":76}},"line":114},"19":{"name":"(anonymous_19)","decl":{"start":{"line":116,"column":24},"end":{"line":116,"column":25}},"loc":{"start":{"line":116,"column":44},"end":{"line":116,"column":100}},"line":116},"20":{"name":"(anonymous_20)","decl":{"start":{"line":118,"column":17},"end":{"line":118,"column":18}},"loc":{"start":{"line":118,"column":40},"end":{"line":137,"column":1}},"line":118},"21":{"name":"(anonymous_21)","decl":{"start":{"line":139,"column":15},"end":{"line":139,"column":16}},"loc":{"start":{"line":139,"column":31},"end":{"line":141,"column":1}},"line":139},"22":{"name":"(anonymous_22)","decl":{"start":{"line":142,"column":21},"end":{"line":142,"column":22}},"loc":{"start":{"line":142,"column":46},"end":{"line":145,"column":1}},"line":142},"23":{"name":"(anonymous_23)","decl":{"start":{"line":148,"column":19},"end":{"line":148,"column":20}},"loc":{"start":{"line":148,"column":41},"end":{"line":148,"column":98}},"line":148},"24":{"name":"(anonymous_24)","decl":{"start":{"line":150,"column":20},"end":{"line":150,"column":21}},"loc":{"start":{"line":150,"column":42},"end":{"line":150,"column":102}},"line":150},"25":{"name":"(anonymous_25)","decl":{"start":{"line":152,"column":28},"end":{"line":152,"column":29}},"loc":{"start":{"line":152,"column":48},"end":{"line":154,"column":1}},"line":152},"26":{"name":"(anonymous_26)","decl":{"start":{"line":156,"column":26},"end":{"line":156,"column":27}},"loc":{"start":{"line":156,"column":44},"end":{"line":156,"column":100}},"line":156},"27":{"name":"(anonymous_27)","decl":{"start":{"line":158,"column":20},"end":{"line":158,"column":21}},"loc":{"start":{"line":158,"column":39},"end":{"line":162,"column":1}},"line":158},"28":{"name":"(anonymous_28)","decl":{"start":{"line":164,"column":24},"end":{"line":164,"column":25}},"loc":{"start":{"line":164,"column":45},"end":{"line":167,"column":1}},"line":164},"29":{"name":"(anonymous_29)","decl":{"start":{"line":169,"column":27},"end":{"line":169,"column":28}},"loc":{"start":{"line":169,"column":60},"end":{"line":182,"column":1}},"line":169},"30":{"name":"(anonymous_30)","decl":{"start":{"line":185,"column":23},"end":{"line":185,"column":24}},"loc":{"start":{"line":185,"column":45},"end":{"line":185,"column":107}},"line":185},"31":{"name":"(anonymous_31)","decl":{"start":{"line":187,"column":25},"end":{"line":187,"column":26}},"loc":{"start":{"line":187,"column":39},"end":{"line":187,"column":90}},"line":187},"32":{"name":"(anonymous_32)","decl":{"start":{"line":189,"column":24},"end":{"line":189,"column":25}},"loc":{"start":{"line":189,"column":46},"end":{"line":191,"column":1}},"line":189},"33":{"name":"(anonymous_33)","decl":{"start":{"line":193,"column":24},"end":{"line":193,"column":25}},"loc":{"start":{"line":193,"column":47},"end":{"line":197,"column":1}},"line":193},"34":{"name":"(anonymous_34)","decl":{"start":{"line":199,"column":31},"end":{"line":199,"column":32}},"loc":{"start":{"line":199,"column":65},"end":{"line":215,"column":1}},"line":199},"35":{"name":"(anonymous_35)","decl":{"start":{"line":217,"column":28},"end":{"line":217,"column":29}},"loc":{"start":{"line":217,"column":53},"end":{"line":222,"column":1}},"line":217},"36":{"name":"(anonymous_36)","decl":{"start":{"line":232,"column":25},"end":{"line":232,"column":26}},"loc":{"start":{"line":232,"column":47},"end":{"line":234,"column":1}},"line":232},"37":{"name":"(anonymous_37)","decl":{"start":{"line":236,"column":31},"end":{"line":236,"column":32}},"loc":{"start":{"line":236,"column":49},"end":{"line":236,"column":110}},"line":236},"38":{"name":"(anonymous_38)","decl":{"start":{"line":252,"column":23},"end":{"line":252,"column":24}},"loc":{"start":{"line":252,"column":45},"end":{"line":252,"column":106}},"line":252},"39":{"name":"(anonymous_39)","decl":{"start":{"line":254,"column":25},"end":{"line":254,"column":26}},"loc":{"start":{"line":254,"column":39},"end":{"line":254,"column":90}},"line":254},"40":{"name":"(anonymous_40)","decl":{"start":{"line":256,"column":27},"end":{"line":256,"column":28}},"loc":{"start":{"line":256,"column":44},"end":{"line":256,"column":106}},"line":256},"41":{"name":"(anonymous_41)","decl":{"start":{"line":258,"column":31},"end":{"line":258,"column":32}},"loc":{"start":{"line":258,"column":45},"end":{"line":260,"column":1}},"line":258},"42":{"name":"(anonymous_42)","decl":{"start":{"line":262,"column":35},"end":{"line":262,"column":36}},"loc":{"start":{"line":262,"column":60},"end":{"line":264,"column":1}},"line":262},"43":{"name":"(anonymous_43)","decl":{"start":{"line":266,"column":25},"end":{"line":266,"column":26}},"loc":{"start":{"line":266,"column":43},"end":{"line":266,"column":133}},"line":266},"44":{"name":"(anonymous_44)","decl":{"start":{"line":268,"column":38},"end":{"line":268,"column":39}},"loc":{"start":{"line":268,"column":61},"end":{"line":276,"column":1}},"line":268},"45":{"name":"(anonymous_45)","decl":{"start":{"line":278,"column":39},"end":{"line":278,"column":40}},"loc":{"start":{"line":278,"column":63},"end":{"line":280,"column":1}},"line":278},"46":{"name":"(anonymous_46)","decl":{"start":{"line":279,"column":30},"end":{"line":279,"column":31}},"loc":{"start":{"line":279,"column":53},"end":{"line":279,"column":97}},"line":279},"47":{"name":"(anonymous_47)","decl":{"start":{"line":279,"column":127},"end":{"line":279,"column":128}},"loc":{"start":{"line":279,"column":150},"end":{"line":279,"column":219}},"line":279},"48":{"name":"(anonymous_48)","decl":{"start":{"line":282,"column":57},"end":{"line":282,"column":58}},"loc":{"start":{"line":282,"column":82},"end":{"line":295,"column":1}},"line":282},"49":{"name":"(anonymous_49)","decl":{"start":{"line":296,"column":56},"end":{"line":296,"column":57}},"loc":{"start":{"line":296,"column":102},"end":{"line":301,"column":1}},"line":296},"50":{"name":"(anonymous_50)","decl":{"start":{"line":300,"column":28},"end":{"line":300,"column":29}},"loc":{"start":{"line":300,"column":51},"end":{"line":300,"column":122}},"line":300},"51":{"name":"(anonymous_51)","decl":{"start":{"line":302,"column":54},"end":{"line":302,"column":55}},"loc":{"start":{"line":302,"column":108},"end":{"line":312,"column":1}},"line":302},"52":{"name":"(anonymous_52)","decl":{"start":{"line":306,"column":28},"end":{"line":306,"column":29}},"loc":{"start":{"line":306,"column":51},"end":{"line":311,"column":5}},"line":306},"53":{"name":"(anonymous_53)","decl":{"start":{"line":313,"column":54},"end":{"line":313,"column":55}},"loc":{"start":{"line":313,"column":79},"end":{"line":315,"column":1}},"line":313},"54":{"name":"(anonymous_54)","decl":{"start":{"line":316,"column":27},"end":{"line":316,"column":28}},"loc":{"start":{"line":316,"column":45},"end":{"line":318,"column":1}},"line":316},"55":{"name":"(anonymous_55)","decl":{"start":{"line":320,"column":37},"end":{"line":320,"column":38}},"loc":{"start":{"line":320,"column":62},"end":{"line":322,"column":1}},"line":320},"56":{"name":"(anonymous_56)","decl":{"start":{"line":321,"column":52},"end":{"line":321,"column":53}},"loc":{"start":{"line":321,"column":73},"end":{"line":321,"column":144}},"line":321},"57":{"name":"(anonymous_57)","decl":{"start":{"line":324,"column":24},"end":{"line":324,"column":25}},"loc":{"start":{"line":324,"column":48},"end":{"line":324,"column":93}},"line":324},"58":{"name":"(anonymous_58)","decl":{"start":{"line":326,"column":32},"end":{"line":326,"column":33}},"loc":{"start":{"line":326,"column":50},"end":{"line":328,"column":1}},"line":326},"59":{"name":"(anonymous_59)","decl":{"start":{"line":330,"column":35},"end":{"line":330,"column":36}},"loc":{"start":{"line":330,"column":53},"end":{"line":333,"column":1}},"line":330},"60":{"name":"(anonymous_60)","decl":{"start":{"line":332,"column":77},"end":{"line":332,"column":78}},"loc":{"start":{"line":332,"column":100},"end":{"line":332,"column":170}},"line":332},"61":{"name":"(anonymous_61)","decl":{"start":{"line":335,"column":44},"end":{"line":335,"column":45}},"loc":{"start":{"line":335,"column":62},"end":{"line":337,"column":1}},"line":335},"62":{"name":"(anonymous_62)","decl":{"start":{"line":339,"column":39},"end":{"line":339,"column":40}},"loc":{"start":{"line":339,"column":57},"end":{"line":342,"column":5}},"line":339},"63":{"name":"(anonymous_63)","decl":{"start":{"line":344,"column":35},"end":{"line":344,"column":36}},"loc":{"start":{"line":344,"column":60},"end":{"line":359,"column":1}},"line":344},"64":{"name":"(anonymous_64)","decl":{"start":{"line":362,"column":25},"end":{"line":362,"column":26}},"loc":{"start":{"line":362,"column":54},"end":{"line":370,"column":1}},"line":362},"65":{"name":"(anonymous_65)","decl":{"start":{"line":372,"column":26},"end":{"line":372,"column":27}},"loc":{"start":{"line":372,"column":55},"end":{"line":374,"column":1}},"line":372},"66":{"name":"(anonymous_66)","decl":{"start":{"line":386,"column":44},"end":{"line":386,"column":45}},"loc":{"start":{"line":386,"column":71},"end":{"line":388,"column":1}},"line":386},"67":{"name":"(anonymous_67)","decl":{"start":{"line":389,"column":24},"end":{"line":389,"column":25}},"loc":{"start":{"line":389,"column":79},"end":{"line":420,"column":1}},"line":389},"68":{"name":"(anonymous_68)","decl":{"start":{"line":422,"column":22},"end":{"line":422,"column":23}},"loc":{"start":{"line":422,"column":45},"end":{"line":426,"column":1}},"line":422},"69":{"name":"(anonymous_69)","decl":{"start":{"line":427,"column":28},"end":{"line":427,"column":29}},"loc":{"start":{"line":427,"column":60},"end":{"line":440,"column":1}},"line":427},"70":{"name":"(anonymous_70)","decl":{"start":{"line":443,"column":16},"end":{"line":443,"column":17}},"loc":{"start":{"line":443,"column":38},"end":{"line":443,"column":92}},"line":443},"71":{"name":"(anonymous_71)","decl":{"start":{"line":445,"column":20},"end":{"line":445,"column":21}},"loc":{"start":{"line":445,"column":37},"end":{"line":445,"column":92}},"line":445},"72":{"name":"(anonymous_72)","decl":{"start":{"line":447,"column":18},"end":{"line":447,"column":19}},"loc":{"start":{"line":447,"column":32},"end":{"line":447,"column":76}},"line":447},"73":{"name":"(anonymous_73)","decl":{"start":{"line":449,"column":30},"end":{"line":449,"column":31}},"loc":{"start":{"line":449,"column":55},"end":{"line":449,"column":127}},"line":449},"74":{"name":"(anonymous_74)","decl":{"start":{"line":451,"column":17},"end":{"line":451,"column":18}},"loc":{"start":{"line":451,"column":50},"end":{"line":462,"column":1}},"line":451},"75":{"name":"(anonymous_75)","decl":{"start":{"line":464,"column":18},"end":{"line":464,"column":19}},"loc":{"start":{"line":464,"column":51},"end":{"line":478,"column":1}},"line":464},"76":{"name":"(anonymous_76)","decl":{"start":{"line":480,"column":15},"end":{"line":480,"column":16}},"loc":{"start":{"line":480,"column":31},"end":{"line":484,"column":1}},"line":480},"77":{"name":"(anonymous_77)","decl":{"start":{"line":486,"column":19},"end":{"line":486,"column":20}},"loc":{"start":{"line":486,"column":41},"end":{"line":486,"column":98}},"line":486},"78":{"name":"(anonymous_78)","decl":{"start":{"line":488,"column":23},"end":{"line":488,"column":24}},"loc":{"start":{"line":488,"column":40},"end":{"line":488,"column":98}},"line":488},"79":{"name":"(anonymous_79)","decl":{"start":{"line":490,"column":21},"end":{"line":490,"column":22}},"loc":{"start":{"line":490,"column":35},"end":{"line":490,"column":82}},"line":490},"80":{"name":"(anonymous_80)","decl":{"start":{"line":492,"column":33},"end":{"line":492,"column":34}},"loc":{"start":{"line":492,"column":58},"end":{"line":494,"column":1}},"line":492},"81":{"name":"(anonymous_81)","decl":{"start":{"line":496,"column":20},"end":{"line":496,"column":21}},"loc":{"start":{"line":496,"column":62},"end":{"line":508,"column":1}},"line":496},"82":{"name":"(anonymous_82)","decl":{"start":{"line":510,"column":21},"end":{"line":510,"column":22}},"loc":{"start":{"line":510,"column":63},"end":{"line":524,"column":1}},"line":510},"83":{"name":"(anonymous_83)","decl":{"start":{"line":526,"column":18},"end":{"line":526,"column":19}},"loc":{"start":{"line":526,"column":37},"end":{"line":530,"column":1}},"line":526},"84":{"name":"(anonymous_84)","decl":{"start":{"line":532,"column":24},"end":{"line":532,"column":25}},"loc":{"start":{"line":532,"column":46},"end":{"line":534,"column":1}},"line":532},"85":{"name":"(anonymous_85)","decl":{"start":{"line":536,"column":28},"end":{"line":536,"column":29}},"loc":{"start":{"line":536,"column":45},"end":{"line":538,"column":1}},"line":536},"86":{"name":"(anonymous_86)","decl":{"start":{"line":540,"column":37},"end":{"line":540,"column":38}},"loc":{"start":{"line":540,"column":55},"end":{"line":542,"column":1}},"line":540},"87":{"name":"(anonymous_87)","decl":{"start":{"line":544,"column":32},"end":{"line":544,"column":33}},"loc":{"start":{"line":544,"column":73},"end":{"line":557,"column":1}},"line":544},"88":{"name":"(anonymous_88)","decl":{"start":{"line":559,"column":29},"end":{"line":559,"column":30}},"loc":{"start":{"line":559,"column":70},"end":{"line":572,"column":1}},"line":559},"89":{"name":"(anonymous_89)","decl":{"start":{"line":574,"column":32},"end":{"line":574,"column":33}},"loc":{"start":{"line":574,"column":76},"end":{"line":587,"column":1}},"line":574},"90":{"name":"(anonymous_90)","decl":{"start":{"line":589,"column":23},"end":{"line":589,"column":24}},"loc":{"start":{"line":589,"column":47},"end":{"line":591,"column":1}},"line":589},"91":{"name":"(anonymous_91)","decl":{"start":{"line":592,"column":26},"end":{"line":592,"column":27}},"loc":{"start":{"line":592,"column":59},"end":{"line":607,"column":1}},"line":592},"92":{"name":"(anonymous_92)","decl":{"start":{"line":593,"column":33},"end":{"line":593,"column":34}},"loc":{"start":{"line":593,"column":49},"end":{"line":606,"column":5}},"line":593},"93":{"name":"(anonymous_93)","decl":{"start":{"line":609,"column":29},"end":{"line":609,"column":30}},"loc":{"start":{"line":609,"column":70},"end":{"line":612,"column":1}},"line":609},"94":{"name":"(anonymous_94)","decl":{"start":{"line":614,"column":39},"end":{"line":614,"column":40}},"loc":{"start":{"line":614,"column":63},"end":{"line":629,"column":1}},"line":614},"95":{"name":"(anonymous_95)","decl":{"start":{"line":631,"column":40},"end":{"line":631,"column":41}},"loc":{"start":{"line":631,"column":65},"end":{"line":633,"column":1}},"line":631},"96":{"name":"(anonymous_96)","decl":{"start":{"line":632,"column":30},"end":{"line":632,"column":31}},"loc":{"start":{"line":632,"column":54},"end":{"line":632,"column":99}},"line":632},"97":{"name":"(anonymous_97)","decl":{"start":{"line":632,"column":130},"end":{"line":632,"column":131}},"loc":{"start":{"line":632,"column":154},"end":{"line":632,"column":225}},"line":632},"98":{"name":"(anonymous_98)","decl":{"start":{"line":649,"column":30},"end":{"line":649,"column":31}},"loc":{"start":{"line":649,"column":48},"end":{"line":649,"column":108}},"line":649}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":15},"end":{"line":12,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":16},"end":{"line":2,"column":20}},{"start":{"line":2,"column":24},"end":{"line":2,"column":37}},{"start":{"line":2,"column":42},"end":{"line":12,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":15},"end":{"line":10,"column":5}},"type":"binary-expr","locations":[{"start":{"line":3,"column":15},"end":{"line":3,"column":28}},{"start":{"line":3,"column":32},"end":{"line":10,"column":5}}],"line":3},"2":{"loc":{"start":{"line":6,"column":29},"end":{"line":7,"column":28}},"type":"if","locations":[{"start":{"line":6,"column":29},"end":{"line":7,"column":28}},{"start":{"line":6,"column":29},"end":{"line":7,"column":28}}],"line":6},"3":{"loc":{"start":{"line":13,"column":22},"end":{"line":15,"column":1}},"type":"binary-expr","locations":[{"start":{"line":13,"column":23},"end":{"line":13,"column":27}},{"start":{"line":13,"column":31},"end":{"line":13,"column":51}},{"start":{"line":13,"column":56},"end":{"line":15,"column":1}}],"line":13},"4":{"loc":{"start":{"line":14,"column":11},"end":{"line":14,"column":61}},"type":"cond-expr","locations":[{"start":{"line":14,"column":37},"end":{"line":14,"column":40}},{"start":{"line":14,"column":43},"end":{"line":14,"column":61}}],"line":14},"5":{"loc":{"start":{"line":14,"column":12},"end":{"line":14,"column":33}},"type":"binary-expr","locations":[{"start":{"line":14,"column":12},"end":{"line":14,"column":15}},{"start":{"line":14,"column":19},"end":{"line":14,"column":33}}],"line":14},"6":{"loc":{"start":{"line":129,"column":17},"end":{"line":129,"column":41}},"type":"binary-expr","locations":[{"start":{"line":129,"column":17},"end":{"line":129,"column":36}},{"start":{"line":129,"column":40},"end":{"line":129,"column":41}}],"line":129},"7":{"loc":{"start":{"line":283,"column":35},"end":{"line":283,"column":102}},"type":"binary-expr","locations":[{"start":{"line":283,"column":35},"end":{"line":283,"column":40}},{"start":{"line":283,"column":44},"end":{"line":283,"column":102}}],"line":283},"8":{"loc":{"start":{"line":284,"column":22},"end":{"line":284,"column":55}},"type":"binary-expr","locations":[{"start":{"line":284,"column":22},"end":{"line":284,"column":46}},{"start":{"line":284,"column":50},"end":{"line":284,"column":55}}],"line":284},"9":{"loc":{"start":{"line":289,"column":4},"end":{"line":293,"column":5}},"type":"if","locations":[{"start":{"line":289,"column":4},"end":{"line":293,"column":5}},{"start":{"line":289,"column":4},"end":{"line":293,"column":5}}],"line":289},"10":{"loc":{"start":{"line":289,"column":8},"end":{"line":289,"column":123}},"type":"binary-expr","locations":[{"start":{"line":289,"column":8},"end":{"line":289,"column":13}},{"start":{"line":289,"column":18},"end":{"line":289,"column":67}},{"start":{"line":289,"column":71},"end":{"line":289,"column":122}}],"line":289},"11":{"loc":{"start":{"line":297,"column":4},"end":{"line":299,"column":5}},"type":"if","locations":[{"start":{"line":297,"column":4},"end":{"line":299,"column":5}},{"start":{"line":297,"column":4},"end":{"line":299,"column":5}}],"line":297},"12":{"loc":{"start":{"line":297,"column":8},"end":{"line":297,"column":32}},"type":"binary-expr","locations":[{"start":{"line":297,"column":8},"end":{"line":297,"column":18}},{"start":{"line":297,"column":22},"end":{"line":297,"column":32}}],"line":297},"13":{"loc":{"start":{"line":303,"column":4},"end":{"line":305,"column":5}},"type":"if","locations":[{"start":{"line":303,"column":4},"end":{"line":305,"column":5}},{"start":{"line":303,"column":4},"end":{"line":305,"column":5}}],"line":303},"14":{"loc":{"start":{"line":303,"column":8},"end":{"line":303,"column":40}},"type":"binary-expr","locations":[{"start":{"line":303,"column":8},"end":{"line":303,"column":23}},{"start":{"line":303,"column":27},"end":{"line":303,"column":40}}],"line":303},"15":{"loc":{"start":{"line":345,"column":4},"end":{"line":358,"column":5}},"type":"if","locations":[{"start":{"line":345,"column":4},"end":{"line":358,"column":5}},{"start":{"line":345,"column":4},"end":{"line":358,"column":5}}],"line":345},"16":{"loc":{"start":{"line":345,"column":8},"end":{"line":345,"column":123}},"type":"binary-expr","locations":[{"start":{"line":345,"column":8},"end":{"line":345,"column":13}},{"start":{"line":345,"column":18},"end":{"line":345,"column":67}},{"start":{"line":345,"column":71},"end":{"line":345,"column":122}}],"line":345},"17":{"loc":{"start":{"line":363,"column":4},"end":{"line":369,"column":5}},"type":"if","locations":[{"start":{"line":363,"column":4},"end":{"line":369,"column":5}},{"start":{"line":363,"column":4},"end":{"line":369,"column":5}}],"line":363},"18":{"loc":{"start":{"line":400,"column":22},"end":{"line":400,"column":83}},"type":"binary-expr","locations":[{"start":{"line":400,"column":22},"end":{"line":400,"column":53}},{"start":{"line":400,"column":57},"end":{"line":400,"column":83}}],"line":400},"19":{"loc":{"start":{"line":402,"column":23},"end":{"line":402,"column":108}},"type":"cond-expr","locations":[{"start":{"line":402,"column":55},"end":{"line":402,"column":96}},{"start":{"line":402,"column":99},"end":{"line":402,"column":108}}],"line":402},"20":{"loc":{"start":{"line":408,"column":4},"end":{"line":418,"column":5}},"type":"if","locations":[{"start":{"line":408,"column":4},"end":{"line":418,"column":5}},{"start":{"line":408,"column":4},"end":{"line":418,"column":5}}],"line":408},"21":{"loc":{"start":{"line":433,"column":4},"end":{"line":438,"column":5}},"type":"if","locations":[{"start":{"line":433,"column":4},"end":{"line":438,"column":5}},{"start":{"line":433,"column":4},"end":{"line":438,"column":5}}],"line":433},"22":{"loc":{"start":{"line":594,"column":8},"end":{"line":605,"column":9}},"type":"if","locations":[{"start":{"line":594,"column":8},"end":{"line":605,"column":9}},{"start":{"line":594,"column":8},"end":{"line":605,"column":9}}],"line":594},"23":{"loc":{"start":{"line":594,"column":12},"end":{"line":594,"column":80}},"type":"binary-expr","locations":[{"start":{"line":594,"column":12},"end":{"line":594,"column":28}},{"start":{"line":594,"column":32},"end":{"line":594,"column":80}}],"line":594},"24":{"loc":{"start":{"line":597,"column":13},"end":{"line":605,"column":9}},"type":"if","locations":[{"start":{"line":597,"column":13},"end":{"line":605,"column":9}},{"start":{"line":597,"column":13},"end":{"line":605,"column":9}}],"line":597},"25":{"loc":{"start":{"line":597,"column":17},"end":{"line":597,"column":82}},"type":"binary-expr","locations":[{"start":{"line":597,"column":17},"end":{"line":597,"column":33}},{"start":{"line":597,"column":37},"end":{"line":597,"column":82}}],"line":597},"26":{"loc":{"start":{"line":617,"column":4},"end":{"line":619,"column":5}},"type":"if","locations":[{"start":{"line":617,"column":4},"end":{"line":619,"column":5}},{"start":{"line":617,"column":4},"end":{"line":619,"column":5}}],"line":617},"27":{"loc":{"start":{"line":620,"column":4},"end":{"line":623,"column":5}},"type":"if","locations":[{"start":{"line":620,"column":4},"end":{"line":623,"column":5}},{"start":{"line":620,"column":4},"end":{"line":623,"column":5}}],"line":620},"28":{"loc":{"start":{"line":624,"column":4},"end":{"line":627,"column":5}},"type":"if","locations":[{"start":{"line":624,"column":4},"end":{"line":627,"column":5}},{"start":{"line":624,"column":4},"end":{"line":627,"column":5}}],"line":624}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":7,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":0,"41":0,"42":0,"43":1,"44":1,"45":0,"46":1,"47":1,"48":0,"49":1,"50":1,"51":0,"52":1,"53":1,"54":0,"55":0,"56":1,"57":1,"58":0,"59":0,"60":1,"61":1,"62":0,"63":0,"64":1,"65":1,"66":0,"67":1,"68":1,"69":0,"70":0,"71":1,"72":0,"73":0,"74":1,"75":1,"76":0,"77":0,"78":1,"79":1,"80":0,"81":1,"82":1,"83":0,"84":1,"85":1,"86":0,"87":1,"88":1,"89":0,"90":1,"91":1,"92":0,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":0,"104":0,"105":1,"106":1,"107":0,"108":1,"109":1,"110":0,"111":1,"112":1,"113":0,"114":1,"115":1,"116":0,"117":1,"118":1,"119":0,"120":0,"121":1,"122":1,"123":0,"124":0,"125":1,"126":1,"127":0,"128":0,"129":0,"130":0,"131":1,"132":1,"133":0,"134":1,"135":1,"136":0,"137":1,"138":1,"139":0,"140":1,"141":1,"142":0,"143":0,"144":1,"145":1,"146":0,"147":0,"148":0,"149":0,"150":1,"151":1,"152":0,"153":1,"154":1,"155":1,"156":0,"157":1,"158":1,"159":0,"160":1,"161":1,"162":1,"163":0,"164":1,"165":1,"166":0,"167":1,"168":1,"169":0,"170":1,"171":1,"172":0,"173":1,"174":1,"175":0,"176":1,"177":1,"178":0,"179":1,"180":1,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":1,"189":1,"190":0,"191":0,"192":0,"193":1,"194":1,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":1,"208":0,"209":0,"210":0,"211":0,"212":1,"213":0,"214":0,"215":0,"216":0,"217":1,"218":0,"219":1,"220":0,"221":1,"222":1,"223":0,"224":0,"225":1,"226":1,"227":0,"228":1,"229":1,"230":0,"231":1,"232":1,"233":0,"234":0,"235":0,"236":1,"237":1,"238":0,"239":1,"240":1,"241":0,"242":1,"243":1,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":1,"254":1,"255":1,"256":0,"257":0,"258":1,"259":1,"260":0,"261":1,"262":1,"263":0,"264":1,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":1,"277":1,"278":0,"279":0,"280":1,"281":0,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"291":0,"292":1,"293":1,"294":0,"295":1,"296":1,"297":0,"298":1,"299":1,"300":0,"301":1,"302":1,"303":0,"304":1,"305":1,"306":0,"307":0,"308":0,"309":1,"310":1,"311":0,"312":0,"313":0,"314":0,"315":1,"316":1,"317":0,"318":0,"319":1,"320":0,"321":1,"322":1,"323":0,"324":1,"325":1,"326":0,"327":1,"328":1,"329":0,"330":1,"331":1,"332":0,"333":0,"334":0,"335":1,"336":1,"337":0,"338":0,"339":0,"340":0,"341":1,"342":1,"343":0,"344":0,"345":1,"346":0,"347":1,"348":1,"349":0,"350":1,"351":1,"352":0,"353":1,"354":1,"355":0,"356":0,"357":0,"358":1,"359":1,"360":0,"361":0,"362":0,"363":1,"364":1,"365":0,"366":0,"367":0,"368":1,"369":1,"370":0,"371":1,"372":0,"373":0,"374":0,"375":0,"376":0,"377":1,"378":1,"379":0,"380":0,"381":1,"382":1,"383":0,"384":0,"385":0,"386":0,"387":0,"388":0,"389":0,"390":0,"391":0,"392":0,"393":0,"394":1,"395":1,"396":0,"397":0,"398":0,"399":1,"400":1,"401":1,"402":1,"403":1,"404":0,"405":1,"406":1,"407":1,"408":1,"409":1,"410":1,"411":1},"f":{"0":0,"1":0,"2":7,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[1,1,1],"4":[0,7],"5":[7,7],"6":[1,1],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/database.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/database.ts"],"names":[],"mappings":"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","sourcesContent":["import path from \"path\";\r\nimport bcrypt from \"bcryptjs\";\r\nimport fs from \"fs\";\r\nimport { v4 } from \"uuid\";\r\nimport {\r\n  uniqBy,\r\n  map,\r\n  sample,\r\n  reject,\r\n  includes,\r\n  orderBy,\r\n  flow,\r\n  flatMap,\r\n  curry,\r\n  get,\r\n  constant,\r\n  filter,\r\n  inRange,\r\n  remove,\r\n} from \"lodash/fp\";\r\nimport { isWithinInterval } from \"date-fns\";\r\nimport low from \"lowdb\";\r\nimport FileSync from \"lowdb/adapters/FileSync\";\r\nimport shortid from \"shortid\";\r\nimport {\r\n  BankAccount,\r\n  Transaction,\r\n  User,\r\n  Contact,\r\n  TransactionStatus,\r\n  TransactionRequestStatus,\r\n  Like,\r\n  Comment,\r\n  PaymentNotification,\r\n  PaymentNotificationStatus,\r\n  LikeNotification,\r\n  CommentNotification,\r\n  NotificationType,\r\n  NotificationPayloadType,\r\n  NotificationsType,\r\n  TransactionResponseItem,\r\n  TransactionPayload,\r\n  BankTransfer,\r\n  BankTransferPayload,\r\n  BankTransferType,\r\n  NotificationResponseItem,\r\n  TransactionQueryPayload,\r\n  DefaultPrivacyLevel,\r\n} from \"../src/models\";\r\nimport Fuse from \"fuse.js\";\r\nimport {\r\n  isPayment,\r\n  getTransferAmount,\r\n  hasSufficientFunds,\r\n  getChargeAmount,\r\n  hasDateQueryFields,\r\n  getDateQueryFields,\r\n  hasAmountQueryFields,\r\n  getAmountQueryFields,\r\n  getQueryWithoutFilterFields,\r\n  getPayAppCreditedAmount,\r\n  isRequestTransaction,\r\n  formatFullName,\r\n  isLikeNotification,\r\n  isCommentNotification,\r\n} from \"../src/utils/transactionUtils\";\r\nimport { DbSchema } from \"../src/models/db-schema\";\r\n\r\nexport type TDatabase = {\r\n  users: User[];\r\n  contacts: Contact[];\r\n  bankaccounts: BankAccount[];\r\n  transactions: Transaction[];\r\n  likes: Like[];\r\n  comments: Comment[];\r\n  notifications: NotificationType[];\r\n  banktransfers: BankTransfer[];\r\n};\r\n\r\nconst USER_TABLE = \"users\";\r\nconst CONTACT_TABLE = \"contacts\";\r\nconst BANK_ACCOUNT_TABLE = \"bankaccounts\";\r\nconst TRANSACTION_TABLE = \"transactions\";\r\nconst LIKE_TABLE = \"likes\";\r\nconst COMMENT_TABLE = \"comments\";\r\nconst NOTIFICATION_TABLE = \"notifications\";\r\nconst BANK_TRANSFER_TABLE = \"banktransfers\";\r\n\r\nconst databaseFile = path.join(__dirname, \"../data/database.json\");\r\nconst adapter = new FileSync<DbSchema>(databaseFile);\r\n\r\nconst db = low(adapter);\r\n\r\nexport const seedDatabase = () => {\r\n  const testSeed = JSON.parse(\r\n    fs.readFileSync(path.join(process.cwd(), \"data\", \"database-seed.json\"), \"utf-8\")\r\n  );\r\n\r\n  // seed database with test data\r\n  db.setState(testSeed).write();\r\n  return;\r\n};\r\n\r\nexport const getAllUsers = () => db.get(USER_TABLE).value();\r\n\r\nexport const getAllPublicTransactions = () =>\r\n  db.get(TRANSACTION_TABLE).filter({ privacyLevel: DefaultPrivacyLevel.public }).value();\r\n\r\nexport const getAllForEntity = (entity: keyof DbSchema) => db.get(entity).value();\r\n\r\nexport const getAllBy = (entity: keyof DbSchema, key: string, value: any) => {\r\n  const result = db\r\n    .get(entity)\r\n    // @ts-ignore\r\n    .filter({ [`${key}`]: value })\r\n    .value();\r\n\r\n  return result;\r\n};\r\n\r\nexport const getBy = (entity: keyof DbSchema, key: string, value: any) => {\r\n  const result = db\r\n    .get(entity)\r\n    // @ts-ignore\r\n    .find({ [`${key}`]: value })\r\n    .value();\r\n\r\n  return result;\r\n};\r\n\r\nexport const getAllByObj = (entity: keyof DbSchema, query: object) => {\r\n  const result = db\r\n    .get(entity)\r\n    // @ts-ignore\r\n    .filter(query)\r\n    .value();\r\n\r\n  return result;\r\n};\r\n\r\n// Search\r\nexport const cleanSearchQuery = (query: string) => query.replace(/[^a-zA-Z0-9]/g, \"\");\r\n\r\nexport const setupSearch = curry((items: object[], options: {}, query: string) => {\r\n  const fuse = new Fuse(items, options);\r\n  return fuse.search(query);\r\n});\r\n\r\nexport const performSearch = (items: object[], options: {}, query: string) =>\r\n  flow(\r\n    cleanSearchQuery,\r\n    setupSearch(items, options),\r\n    map((result) => result.item)\r\n  )(query);\r\n\r\nexport const searchUsers = (query: string) => {\r\n  const items = getAllUsers();\r\n  return performSearch(\r\n    items,\r\n    {\r\n      keys: [\"firstName\", \"lastName\", \"username\", \"email\", \"phoneNumber\"],\r\n    },\r\n    query\r\n  ) as User[];\r\n};\r\n\r\nexport const removeUserFromResults = (userId: User[\"id\"], results: User[]) =>\r\n  remove({ id: userId }, results);\r\n\r\n// convenience methods\r\n\r\n// User\r\nexport const getUserBy = (key: string, value: any) => getBy(USER_TABLE, key, value);\r\nexport const getUserId = (user: User): string => user.id;\r\nexport const getUserById = (id: string) => getUserBy(\"id\", id);\r\nexport const getUserByUsername = (username: string) => getUserBy(\"username\", username);\r\n\r\nexport const createUser = (userDetails: Partial<User>): User => {\r\n  const password = bcrypt.hashSync(userDetails.password!, 10);\r\n  const user: User = {\r\n    id: shortid(),\r\n    uuid: v4(),\r\n    firstName: userDetails.firstName!,\r\n    lastName: userDetails.lastName!,\r\n    username: userDetails.username!,\r\n    password,\r\n    email: userDetails.email!,\r\n    phoneNumber: userDetails.phoneNumber!,\r\n    balance: userDetails.balance! || 0,\r\n    avatar: userDetails.avatar!,\r\n    defaultPrivacyLevel: userDetails.defaultPrivacyLevel!,\r\n    createdAt: new Date(),\r\n    modifiedAt: new Date(),\r\n  };\r\n\r\n  saveUser(user);\r\n  return user;\r\n};\r\n\r\nconst saveUser = (user: User) => {\r\n  db.get(USER_TABLE).push(user).write();\r\n};\r\n\r\nexport const updateUserById = (userId: string, edits: Partial<User>) => {\r\n  const user = getUserById(userId);\r\n\r\n  db.get(USER_TABLE).find(user).assign(edits).write();\r\n};\r\n\r\n// Contact\r\nexport const getContactBy = (key: string, value: any) => getBy(CONTACT_TABLE, key, value);\r\n\r\nexport const getContactsBy = (key: string, value: any) => getAllBy(CONTACT_TABLE, key, value);\r\n\r\nexport const getContactsByUsername = (username: string) =>\r\n  flow(getUserByUsername, getUserId, getContactsByUserId)(username);\r\n\r\nexport const getContactsByUserId = (userId: string): Contact[] => getContactsBy(\"userId\", userId);\r\n\r\nexport const createContact = (contact: Contact) => {\r\n  db.get(CONTACT_TABLE).push(contact).write();\r\n\r\n  // manual lookup after create\r\n  return getContactBy(\"id\", contact.id);\r\n};\r\n\r\nexport const removeContactById = (contactId: string) => {\r\n  const contact = getContactBy(\"id\", contactId);\r\n\r\n  db.get(CONTACT_TABLE).remove(contact).write();\r\n};\r\n\r\nexport const createContactForUser = (userId: string, contactUserId: string) => {\r\n  const contactId = shortid();\r\n  const contact: Contact = {\r\n    id: contactId,\r\n    uuid: v4(),\r\n    userId,\r\n    contactUserId,\r\n    createdAt: new Date(),\r\n    modifiedAt: new Date(),\r\n  };\r\n\r\n  // Write contact record to the database\r\n  const result = createContact(contact);\r\n\r\n  return result;\r\n};\r\n\r\n// Bank Account\r\nexport const getBankAccountBy = (key: string, value: any) => getBy(BANK_ACCOUNT_TABLE, key, value);\r\n\r\nexport const getBankAccountById = (id: string) => getBankAccountBy(\"id\", id);\r\n\r\nexport const getBankAccountsBy = (key: string, value: any) =>\r\n  getAllBy(BANK_ACCOUNT_TABLE, key, value);\r\n\r\nexport const createBankAccount = (bankaccount: BankAccount) => {\r\n  db.get(BANK_ACCOUNT_TABLE).push(bankaccount).write();\r\n\r\n  // manual lookup after create\r\n  return getBankAccountBy(\"id\", bankaccount.id);\r\n};\r\n\r\nexport const createBankAccountForUser = (userId: string, accountDetails: Partial<BankAccount>) => {\r\n  const accountId = shortid();\r\n  const bankaccount: BankAccount = {\r\n    id: accountId,\r\n    uuid: v4(),\r\n    userId,\r\n    bankName: accountDetails.bankName!,\r\n    accountNumber: accountDetails.accountNumber!,\r\n    routingNumber: accountDetails.routingNumber!,\r\n    isDeleted: false,\r\n    createdAt: new Date(),\r\n    modifiedAt: new Date(),\r\n  };\r\n\r\n  // Write bank account record to the database\r\n  const result = createBankAccount(bankaccount);\r\n\r\n  return result;\r\n};\r\n\r\nexport const removeBankAccountById = (bankAccountId: string) => {\r\n  db.get(BANK_ACCOUNT_TABLE)\r\n    .find({ id: bankAccountId })\r\n    .assign({ isDeleted: true }) // soft delete\r\n    .write();\r\n};\r\n\r\n// Bank Transfer\r\n// Note: Balance transfers from/to bank accounts is a future feature,\r\n// but some of the backend database functionality is already implemented here.\r\n\r\n/* istanbul ignore next */\r\nexport const getBankTransferBy = (key: string, value: any) =>\r\n  getBy(BANK_TRANSFER_TABLE, key, value);\r\n\r\nexport const getBankTransfersBy = (key: string, value: any) =>\r\n  getAllBy(BANK_TRANSFER_TABLE, key, value);\r\n\r\nexport const getBankTransfersByUserId = (userId: string) => getBankTransfersBy(\"userId\", userId);\r\n\r\n/* istanbul ignore next */\r\nexport const createBankTransfer = (bankTransferDetails: BankTransferPayload) => {\r\n  const bankTransfer: BankTransfer = {\r\n    id: shortid(),\r\n    uuid: v4(),\r\n    ...bankTransferDetails,\r\n    createdAt: new Date(),\r\n    modifiedAt: new Date(),\r\n  };\r\n\r\n  const savedBankTransfer = saveBankTransfer(bankTransfer);\r\n  return savedBankTransfer;\r\n};\r\n\r\n/* istanbul ignore next */\r\nconst saveBankTransfer = (bankTransfer: BankTransfer): BankTransfer => {\r\n  db.get(BANK_TRANSFER_TABLE).push(bankTransfer).write();\r\n\r\n  // manual lookup after banktransfer created\r\n  return getBankTransferBy(\"id\", bankTransfer.id);\r\n};\r\n\r\n// Transaction\r\n\r\nexport const getTransactionBy = (key: string, value: any) => getBy(TRANSACTION_TABLE, key, value);\r\n\r\nexport const getTransactionById = (id: string) => getTransactionBy(\"id\", id);\r\n\r\nexport const getTransactionsByObj = (query: object) => getAllByObj(TRANSACTION_TABLE, query);\r\n\r\nexport const getTransactionByIdForApi = (id: string) =>\r\n  formatTransactionForApiResponse(getTransactionBy(\"id\", id));\r\n\r\nexport const getTransactionsForUserForApi = (userId: string, query?: object) =>\r\n  flow(getTransactionsForUserByObj(userId), formatTransactionsForApiResponse)(query);\r\n\r\nexport const getFullNameForUser = (userId: User[\"id\"]) => flow(getUserById, formatFullName)(userId);\r\n\r\nexport const formatTransactionForApiResponse = (\r\n  transaction: Transaction\r\n): TransactionResponseItem => {\r\n  const receiver = getUserById(transaction.receiverId);\r\n  const sender = getUserById(transaction.senderId);\r\n\r\n  const receiverName = getFullNameForUser(transaction.receiverId);\r\n  const senderName = getFullNameForUser(transaction.senderId);\r\n  const likes = getLikesByTransactionId(transaction.id);\r\n  const comments = getCommentsByTransactionId(transaction.id);\r\n\r\n  return {\r\n    receiverName,\r\n    senderName,\r\n    receiverAvatar: receiver.avatar,\r\n    senderAvatar: sender.avatar,\r\n    likes,\r\n    comments,\r\n    ...transaction,\r\n  };\r\n};\r\n\r\nexport const formatTransactionsForApiResponse = (\r\n  transactions: Transaction[]\r\n): TransactionResponseItem[] =>\r\n  orderBy(\r\n    [(transaction: Transaction) => new Date(transaction.modifiedAt)],\r\n    [\"desc\"],\r\n    transactions.map((transaction) => formatTransactionForApiResponse(transaction))\r\n  );\r\n\r\nexport const getAllTransactionsForUserByObj = curry((userId: string, query?: object) => {\r\n  const queryWithoutFilterFields = query && getQueryWithoutFilterFields(query);\r\n\r\n  const queryFields = queryWithoutFilterFields || query;\r\n\r\n  const userTransactions = flatMap(getTransactionsByObj)([\r\n    {\r\n      receiverId: userId,\r\n      ...queryFields,\r\n    },\r\n    {\r\n      senderId: userId,\r\n      ...queryFields,\r\n    },\r\n  ]);\r\n\r\n  if (query && (hasDateQueryFields(query) || hasAmountQueryFields(query))) {\r\n    const { dateRangeStart, dateRangeEnd } = getDateQueryFields(query);\r\n    const { amountMin, amountMax } = getAmountQueryFields(query);\r\n\r\n    return flow(\r\n      transactionsWithinDateRange(dateRangeStart!, dateRangeEnd!),\r\n      transactionsWithinAmountRange(amountMin!, amountMax!)\r\n    )(userTransactions);\r\n  }\r\n  return userTransactions;\r\n});\r\n\r\nexport const transactionsWithinAmountRange = curry(\r\n  (amountMin: number, amountMax: number, transactions: Transaction[]) => {\r\n    if (!amountMin || !amountMax) {\r\n      return transactions;\r\n    }\r\n\r\n    return filter(\r\n      (transaction: Transaction) => inRange(amountMin, amountMax, transaction.amount),\r\n      transactions\r\n    );\r\n  }\r\n);\r\n\r\nexport const transactionsWithinDateRange = curry(\r\n  (dateRangeStart: string, dateRangeEnd: string, transactions: Transaction[]) => {\r\n    if (!dateRangeStart || !dateRangeEnd) {\r\n      return transactions;\r\n    }\r\n\r\n    return filter(\r\n      (transaction: Transaction) =>\r\n        isWithinInterval(new Date(transaction.createdAt), {\r\n          start: new Date(dateRangeStart),\r\n          end: new Date(dateRangeEnd),\r\n        }),\r\n      transactions\r\n    );\r\n  }\r\n);\r\n\r\nexport const getTransactionsForUserByObj = curry((userId: string, query: object) =>\r\n  flow(getAllTransactionsForUserByObj(userId), uniqBy(\"id\"))(query)\r\n);\r\n\r\nexport const getContactIdsForUser = (userId: string): Contact[\"id\"][] =>\r\n  flow(getContactsByUserId, map(\"contactUserId\"))(userId);\r\n\r\nexport const getTransactionsForUserContacts = (userId: string, query?: object) =>\r\n  uniqBy(\r\n    \"id\",\r\n    flatMap(\r\n      (contactId) => getTransactionsForUserForApi(contactId, query),\r\n      getContactIdsForUser(userId)\r\n    )\r\n  );\r\n\r\nexport const getTransactionIds = (transactions: Transaction[]) => map(\"id\", transactions);\r\n\r\nexport const getContactsTransactionIds = (userId: string): Transaction[\"id\"][] =>\r\n  flow(getTransactionsForUserContacts, getTransactionIds)(userId);\r\n\r\nexport const nonContactPublicTransactions = (userId: string): Transaction[] => {\r\n  const contactsTransactionIds = getContactsTransactionIds(userId);\r\n  return flow(\r\n    getAllPublicTransactions,\r\n    reject((transaction: Transaction) => includes(transaction.id, contactsTransactionIds))\r\n  )();\r\n};\r\n\r\nexport const getNonContactPublicTransactionsForApi = (userId: string) =>\r\n  flow(nonContactPublicTransactions, formatTransactionsForApiResponse)(userId);\r\n\r\nexport const getPublicTransactionsDefaultSort = (userId: string) => ({\r\n  contactsTransactions: getTransactionsForUserContacts(userId),\r\n  publicTransactions: getNonContactPublicTransactionsForApi(userId),\r\n});\r\n\r\nexport const getPublicTransactionsByQuery = (userId: string, query: TransactionQueryPayload) => {\r\n  if (query && (hasDateQueryFields(query) || hasAmountQueryFields(query))) {\r\n    const { dateRangeStart, dateRangeEnd } = getDateQueryFields(query);\r\n    const { amountMin, amountMax } = getAmountQueryFields(query);\r\n\r\n    return {\r\n      contactsTransactions: getTransactionsForUserContacts(userId, query),\r\n      publicTransactions: flow(\r\n        transactionsWithinDateRange(dateRangeStart!, dateRangeEnd!),\r\n        transactionsWithinAmountRange(amountMin!, amountMax!)\r\n      )(getNonContactPublicTransactionsForApi(userId)),\r\n    };\r\n  } else {\r\n    return {\r\n      contactsTransactions: getTransactionsForUserContacts(userId),\r\n      publicTransactions: getNonContactPublicTransactionsForApi(userId),\r\n    };\r\n  }\r\n};\r\n\r\nexport const resetPayAppBalance = constant(0);\r\n\r\nexport const debitPayAppBalance = (user: User, transaction: Transaction) => {\r\n  if (hasSufficientFunds(user, transaction)) {\r\n    flow(getChargeAmount, savePayAppBalance(user))(user, transaction);\r\n  } else {\r\n    /* istanbul ignore next */\r\n    flow(\r\n      getTransferAmount(user),\r\n      createBankTransferWithdrawal(user, transaction),\r\n      resetPayAppBalance,\r\n      savePayAppBalance(user)\r\n    )(transaction);\r\n  }\r\n};\r\n\r\nexport const creditPayAppBalance = (user: User, transaction: Transaction) =>\r\n  flow(getPayAppCreditedAmount, savePayAppBalance(user))(user, transaction);\r\n\r\n/* istanbul ignore next */\r\nexport const createBankTransferWithdrawal = curry(\r\n  (sender: User, transaction: Transaction, transferAmount: number) =>\r\n    createBankTransfer({\r\n      userId: sender.id,\r\n      source: transaction.source,\r\n      amount: transferAmount,\r\n      transactionId: transaction.id,\r\n      type: BankTransferType.withdrawal,\r\n    })\r\n);\r\n\r\nexport const savePayAppBalance = curry((sender: User, balance: number) =>\r\n  updateUserById(get(\"id\", sender), { balance })\r\n);\r\n\r\nexport const createTransaction = (\r\n  userId: User[\"id\"],\r\n  transactionType: \"payment\" | \"request\",\r\n  transactionDetails: TransactionPayload\r\n): Transaction => {\r\n  const sender = getUserById(userId);\r\n  const receiver = getUserById(transactionDetails.receiverId);\r\n  const transaction: Transaction = {\r\n    id: shortid(),\r\n    uuid: v4(),\r\n    source: transactionDetails.source,\r\n    amount: transactionDetails.amount * 100,\r\n    description: transactionDetails.description,\r\n    receiverId: transactionDetails.receiverId,\r\n    senderId: userId,\r\n    privacyLevel: transactionDetails.privacyLevel || sender.defaultPrivacyLevel,\r\n    status: TransactionStatus.pending,\r\n    requestStatus: transactionType === \"request\" ? TransactionRequestStatus.pending : undefined,\r\n    createdAt: new Date(),\r\n    modifiedAt: new Date(),\r\n  };\r\n\r\n  const savedTransaction = saveTransaction(transaction);\r\n\r\n  // if payment, debit sender's balance for payment amount\r\n  if (isPayment(transaction)) {\r\n    debitPayAppBalance(sender, transaction);\r\n    creditPayAppBalance(receiver, transaction);\r\n    updateTransactionById(transaction.id, {\r\n      status: TransactionStatus.complete,\r\n    });\r\n    createPaymentNotification(\r\n      transaction.receiverId,\r\n      transaction.id,\r\n      PaymentNotificationStatus.received\r\n    );\r\n  } else {\r\n    createPaymentNotification(\r\n      transaction.receiverId,\r\n      transaction.id,\r\n      PaymentNotificationStatus.requested\r\n    );\r\n  }\r\n\r\n  return savedTransaction;\r\n};\r\n\r\nconst saveTransaction = (transaction: Transaction): Transaction => {\r\n  db.get(TRANSACTION_TABLE).push(transaction).write();\r\n\r\n  // manual lookup after transaction created\r\n  return getTransactionBy(\"id\", transaction.id);\r\n};\r\n\r\nexport const updateTransactionById = (transactionId: string, edits: Partial<Transaction>) => {\r\n  const transaction = getTransactionBy(\"id\", transactionId);\r\n  const { senderId, receiverId } = transaction;\r\n  const sender = getUserById(senderId);\r\n  const receiver = getUserById(receiverId);\r\n\r\n  // if payment, debit sender's balance for payment amount\r\n  if (isRequestTransaction(transaction)) {\r\n    debitPayAppBalance(receiver, transaction);\r\n    creditPayAppBalance(sender, transaction);\r\n    edits.status = TransactionStatus.complete;\r\n\r\n    createPaymentNotification(\r\n      transaction.senderId,\r\n      transaction.id,\r\n      PaymentNotificationStatus.received\r\n    );\r\n  }\r\n\r\n  db.get(TRANSACTION_TABLE).find(transaction).assign(edits).write();\r\n};\r\n\r\n// Likes\r\n\r\nexport const getLikeBy = (key: string, value: any): Like => getBy(LIKE_TABLE, key, value);\r\nexport const getLikesByObj = (query: object) => getAllByObj(LIKE_TABLE, query);\r\n\r\nexport const getLikeById = (id: string): Like => getLikeBy(\"id\", id);\r\nexport const getLikesByTransactionId = (transactionId: string) => getLikesByObj({ transactionId });\r\n\r\nexport const createLike = (userId: string, transactionId: string): Like => {\r\n  const like = {\r\n    id: shortid(),\r\n    uuid: v4(),\r\n    userId,\r\n    transactionId,\r\n    createdAt: new Date(),\r\n    modifiedAt: new Date(),\r\n  };\r\n\r\n  const savedLike = saveLike(like);\r\n  return savedLike;\r\n};\r\n\r\nexport const createLikes = (userId: string, transactionId: string) => {\r\n  const { senderId, receiverId } = getTransactionById(transactionId);\r\n\r\n  const like = createLike(userId, transactionId);\r\n\r\n  /* istanbul ignore next */\r\n  if (userId !== senderId || userId !== receiverId) {\r\n    createLikeNotification(senderId, transactionId, like.id);\r\n    createLikeNotification(receiverId, transactionId, like.id);\r\n  } else if (userId === senderId) {\r\n    createLikeNotification(senderId, transactionId, like.id);\r\n  } else {\r\n    createLikeNotification(receiverId, transactionId, like.id);\r\n  }\r\n};\r\n\r\nconst saveLike = (like: Like): Like => {\r\n  db.get(LIKE_TABLE).push(like).write();\r\n\r\n  // manual lookup after like created\r\n  return getLikeById(like.id);\r\n};\r\n\r\n// Comments\r\n\r\nexport const getCommentBy = (key: string, value: any): Comment => getBy(COMMENT_TABLE, key, value);\r\nexport const getCommentsByObj = (query: object) => getAllByObj(COMMENT_TABLE, query);\r\n\r\nexport const getCommentById = (id: string): Comment => getCommentBy(\"id\", id);\r\nexport const getCommentsByTransactionId = (transactionId: string) =>\r\n  getCommentsByObj({ transactionId });\r\n\r\nexport const createComment = (userId: string, transactionId: string, content: string): Comment => {\r\n  const comment = {\r\n    id: shortid(),\r\n    uuid: v4(),\r\n    content,\r\n    userId,\r\n    transactionId,\r\n    createdAt: new Date(),\r\n    modifiedAt: new Date(),\r\n  };\r\n\r\n  const savedComment = saveComment(comment);\r\n  return savedComment;\r\n};\r\n\r\nexport const createComments = (userId: string, transactionId: string, content: string) => {\r\n  const { senderId, receiverId } = getTransactionById(transactionId);\r\n\r\n  const comment = createComment(userId, transactionId, content);\r\n\r\n  /* istanbul ignore next */\r\n  if (userId !== senderId || userId !== receiverId) {\r\n    createCommentNotification(senderId, transactionId, comment.id);\r\n    createCommentNotification(receiverId, transactionId, comment.id);\r\n  } else if (userId === senderId) {\r\n    createCommentNotification(senderId, transactionId, comment.id);\r\n  } else {\r\n    createCommentNotification(receiverId, transactionId, comment.id);\r\n  }\r\n};\r\n\r\nconst saveComment = (comment: Comment): Comment => {\r\n  db.get(COMMENT_TABLE).push(comment).write();\r\n\r\n  // manual lookup after comment created\r\n  return getCommentById(comment.id);\r\n};\r\n\r\n// Notifications\r\n\r\nexport const getNotificationBy = (key: string, value: any): NotificationType =>\r\n  getBy(NOTIFICATION_TABLE, key, value);\r\n\r\nexport const getNotificationsByObj = (query: object): Notification[] =>\r\n  getAllByObj(NOTIFICATION_TABLE, query);\r\n\r\nexport const getUnreadNotificationsByUserId = (userId: string) =>\r\n  flow(getNotificationsByObj, formatNotificationsForApiResponse)({ userId, isRead: false });\r\n\r\nexport const createPaymentNotification = (\r\n  userId: string,\r\n  transactionId: string,\r\n  status: PaymentNotificationStatus\r\n): PaymentNotification => {\r\n  const notification: PaymentNotification = {\r\n    id: shortid(),\r\n    uuid: v4(),\r\n    userId: userId,\r\n    transactionId: transactionId,\r\n    status,\r\n    isRead: false,\r\n    createdAt: new Date(),\r\n    modifiedAt: new Date(),\r\n  };\r\n\r\n  saveNotification(notification);\r\n  return notification;\r\n};\r\n\r\nexport const createLikeNotification = (\r\n  userId: string,\r\n  transactionId: string,\r\n  likeId: string\r\n): LikeNotification => {\r\n  const notification: LikeNotification = {\r\n    id: shortid(),\r\n    uuid: v4(),\r\n    userId: userId,\r\n    transactionId: transactionId,\r\n    likeId: likeId,\r\n    isRead: false,\r\n    createdAt: new Date(),\r\n    modifiedAt: new Date(),\r\n  };\r\n\r\n  saveNotification(notification);\r\n  return notification;\r\n};\r\n\r\nexport const createCommentNotification = (\r\n  userId: string,\r\n  transactionId: string,\r\n  commentId: string\r\n): CommentNotification => {\r\n  const notification: CommentNotification = {\r\n    id: shortid(),\r\n    uuid: v4(),\r\n    userId: userId,\r\n    transactionId: transactionId,\r\n    commentId: commentId,\r\n    isRead: false,\r\n    createdAt: new Date(),\r\n    modifiedAt: new Date(),\r\n  };\r\n\r\n  saveNotification(notification);\r\n  return notification;\r\n};\r\n\r\nconst saveNotification = (notification: NotificationType) => {\r\n  db.get(NOTIFICATION_TABLE).push(notification).write();\r\n};\r\n\r\nexport const createNotifications = (userId: string, notifications: NotificationPayloadType[]) =>\r\n  notifications.flatMap((item: NotificationPayloadType) => {\r\n    if (\"status\" in item && item.type === NotificationsType.payment) {\r\n      return createPaymentNotification(userId, item.transactionId, item.status);\r\n    } else if (\"likeId\" in item && item.type === NotificationsType.like) {\r\n      return createLikeNotification(userId, item.transactionId, item.likeId);\r\n    } else {\r\n      /* istanbul ignore next */\r\n      if (\"commentId\" in item) {\r\n        return createCommentNotification(userId, item.transactionId, item.commentId);\r\n      }\r\n    }\r\n  });\r\n\r\nexport const updateNotificationById = (\r\n  userId: string,\r\n  notificationId: string,\r\n  edits: Partial<NotificationType>\r\n) => {\r\n  const notification = getNotificationBy(\"id\", notificationId);\r\n\r\n  db.get(NOTIFICATION_TABLE).find(notification).assign(edits).write();\r\n};\r\n\r\nexport const formatNotificationForApiResponse = (\r\n  notification: NotificationType\r\n): NotificationResponseItem => {\r\n  let userFullName = getFullNameForUser(notification.userId);\r\n  const transaction = getTransactionById(notification.transactionId);\r\n\r\n  if (isRequestTransaction(transaction)) {\r\n    userFullName = getFullNameForUser(transaction.senderId);\r\n  }\r\n\r\n  if (isLikeNotification(notification)) {\r\n    const like = getLikeById(notification.likeId);\r\n    userFullName = getFullNameForUser(like.userId);\r\n  }\r\n\r\n  if (isCommentNotification(notification)) {\r\n    const comment = getCommentById(notification.commentId);\r\n    userFullName = getFullNameForUser(comment.userId);\r\n  }\r\n\r\n  return {\r\n    userFullName,\r\n    ...notification,\r\n  };\r\n};\r\n\r\nexport const formatNotificationsForApiResponse = (\r\n  notifications: NotificationResponseItem[]\r\n): NotificationResponseItem[] =>\r\n  orderBy(\r\n    [(notification: NotificationResponseItem) => new Date(notification.modifiedAt)],\r\n    [\"desc\"],\r\n    notifications.map((notification) => formatNotificationForApiResponse(notification))\r\n  );\r\n\r\n// dev/test private methods\r\n/* istanbul ignore next */\r\nexport const getRandomUser = () => {\r\n  const users = getAllUsers();\r\n  return sample(users)!;\r\n};\r\n\r\n/* istanbul ignore next */\r\nexport const getAllContacts = () => db.get(CONTACT_TABLE).value();\r\n\r\n/* istanbul ignore next */\r\nexport const getAllTransactions = () => db.get(TRANSACTION_TABLE).value();\r\n\r\n/* istanbul ignore */\r\nexport const getBankAccountsByUserId = (userId: string) => getBankAccountsBy(\"userId\", userId);\r\n\r\n/* istanbul ignore next */\r\nexport const getNotificationById = (id: string): NotificationType => getNotificationBy(\"id\", id);\r\n\r\n/* istanbul ignore next */\r\nexport const getNotificationsByUserId = (userId: string) => getNotificationsByObj({ userId });\r\n\r\n/* istanbul ignore next */\r\nexport const getBankTransferByTransactionId = (transactionId: string) =>\r\n  getBankTransferBy(\"transactionId\", transactionId);\r\n\r\n/* istanbul ignore next */\r\nexport const getTransactionsBy = (key: string, value: string) =>\r\n  getAllBy(TRANSACTION_TABLE, key, value);\r\n\r\n/* istanbul ignore next */\r\nexport const getTransactionsByUserId = (userId: string) => getTransactionsBy(\"receiverId\", userId);\r\n\r\nexport default db;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"00a929d1122541acd2b21c72962a801438185223","contentHash":"fb8698317ec51f0af91ba6132258fd67ef5450371ce6657409328236b25a9307"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\src\\utils\\transactionUtils.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\src\\utils\\transactionUtils.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":1257}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":35}},"5":{"start":{"line":8,"column":14},"end":{"line":8,"column":47}},"6":{"start":{"line":9,"column":18},"end":{"line":9,"column":55}},"7":{"start":{"line":10,"column":11},"end":{"line":10,"column":31}},"8":{"start":{"line":11,"column":27},"end":{"line":13,"column":1}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":103}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":52}},"11":{"start":{"line":19,"column":0},"end":{"line":19,"column":66}},"12":{"start":{"line":24,"column":0},"end":{"line":24,"column":68}},"13":{"start":{"line":29,"column":0},"end":{"line":29,"column":68}},"14":{"start":{"line":30,"column":0},"end":{"line":30,"column":67}},"15":{"start":{"line":37,"column":0},"end":{"line":37,"column":38}},"16":{"start":{"line":40,"column":0},"end":{"line":40,"column":36}},"17":{"start":{"line":43,"column":0},"end":{"line":43,"column":48}},"18":{"start":{"line":44,"column":0},"end":{"line":46,"column":3}},"19":{"start":{"line":45,"column":4},"end":{"line":45,"column":167}},"20":{"start":{"line":47,"column":0},"end":{"line":49,"column":3}},"21":{"start":{"line":48,"column":4},"end":{"line":48,"column":162}},"22":{"start":{"line":50,"column":22},"end":{"line":52,"column":1}},"23":{"start":{"line":51,"column":4},"end":{"line":51,"column":84}},"24":{"start":{"line":53,"column":0},"end":{"line":53,"column":42}},"25":{"start":{"line":54,"column":0},"end":{"line":56,"column":3}},"26":{"start":{"line":55,"column":4},"end":{"line":55,"column":84}},"27":{"start":{"line":57,"column":30},"end":{"line":59,"column":1}},"28":{"start":{"line":58,"column":4},"end":{"line":58,"column":84}},"29":{"start":{"line":60,"column":0},"end":{"line":60,"column":58}},"30":{"start":{"line":61,"column":25},"end":{"line":63,"column":1}},"31":{"start":{"line":62,"column":4},"end":{"line":62,"column":75}},"32":{"start":{"line":64,"column":0},"end":{"line":64,"column":48}},"33":{"start":{"line":69,"column":0},"end":{"line":69,"column":54}},"34":{"start":{"line":70,"column":21},"end":{"line":72,"column":1}},"35":{"start":{"line":71,"column":4},"end":{"line":71,"column":109}},"36":{"start":{"line":73,"column":0},"end":{"line":73,"column":40}},"37":{"start":{"line":74,"column":28},"end":{"line":74,"column":104}},"38":{"start":{"line":74,"column":54},"end":{"line":74,"column":102}},"39":{"start":{"line":75,"column":0},"end":{"line":75,"column":54}},"40":{"start":{"line":76,"column":25},"end":{"line":76,"column":98}},"41":{"start":{"line":76,"column":51},"end":{"line":76,"column":96}},"42":{"start":{"line":77,"column":0},"end":{"line":77,"column":48}},"43":{"start":{"line":78,"column":28},"end":{"line":80,"column":1}},"44":{"start":{"line":79,"column":4},"end":{"line":79,"column":49}},"45":{"start":{"line":81,"column":0},"end":{"line":81,"column":54}},"46":{"start":{"line":86,"column":0},"end":{"line":86,"column":72}},"47":{"start":{"line":91,"column":0},"end":{"line":91,"column":70}},"48":{"start":{"line":96,"column":0},"end":{"line":96,"column":66}},"49":{"start":{"line":97,"column":25},"end":{"line":99,"column":1}},"50":{"start":{"line":98,"column":4},"end":{"line":98,"column":90}},"51":{"start":{"line":100,"column":0},"end":{"line":100,"column":48}},"52":{"start":{"line":101,"column":25},"end":{"line":103,"column":1}},"53":{"start":{"line":102,"column":4},"end":{"line":102,"column":69}},"54":{"start":{"line":104,"column":0},"end":{"line":104,"column":48}},"55":{"start":{"line":105,"column":26},"end":{"line":107,"column":1}},"56":{"start":{"line":106,"column":4},"end":{"line":106,"column":69}},"57":{"start":{"line":108,"column":0},"end":{"line":108,"column":50}},"58":{"start":{"line":109,"column":27},"end":{"line":109,"column":126}},"59":{"start":{"line":109,"column":46},"end":{"line":109,"column":124}},"60":{"start":{"line":110,"column":0},"end":{"line":110,"column":52}},"61":{"start":{"line":111,"column":27},"end":{"line":113,"column":1}},"62":{"start":{"line":112,"column":4},"end":{"line":112,"column":61}},"63":{"start":{"line":114,"column":0},"end":{"line":114,"column":52}},"64":{"start":{"line":115,"column":28},"end":{"line":117,"column":1}},"65":{"start":{"line":116,"column":4},"end":{"line":116,"column":61}},"66":{"start":{"line":118,"column":0},"end":{"line":118,"column":54}},"67":{"start":{"line":121,"column":0},"end":{"line":121,"column":60}},"68":{"start":{"line":122,"column":32},"end":{"line":124,"column":1}},"69":{"start":{"line":123,"column":4},"end":{"line":123,"column":52}},"70":{"start":{"line":125,"column":0},"end":{"line":125,"column":62}},"71":{"start":{"line":130,"column":0},"end":{"line":130,"column":62}},"72":{"start":{"line":135,"column":0},"end":{"line":135,"column":66}},"73":{"start":{"line":136,"column":34},"end":{"line":138,"column":1}},"74":{"start":{"line":137,"column":4},"end":{"line":137,"column":128}},"75":{"start":{"line":139,"column":0},"end":{"line":139,"column":66}},"76":{"start":{"line":142,"column":0},"end":{"line":142,"column":48}},"77":{"start":{"line":147,"column":0},"end":{"line":147,"column":52}},"78":{"start":{"line":153,"column":0},"end":{"line":153,"column":62}},"79":{"start":{"line":159,"column":0},"end":{"line":159,"column":58}},"80":{"start":{"line":160,"column":24},"end":{"line":167,"column":1}},"81":{"start":{"line":161,"column":17},"end":{"line":161,"column":35}},"82":{"start":{"line":162,"column":21},"end":{"line":162,"column":66}},"83":{"start":{"line":163,"column":4},"end":{"line":166,"column":6}},"84":{"start":{"line":168,"column":0},"end":{"line":168,"column":46}},"85":{"start":{"line":174,"column":0},"end":{"line":174,"column":38}},"86":{"start":{"line":178,"column":0},"end":{"line":178,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":27},"end":{"line":11,"column":28}},"loc":{"start":{"line":11,"column":50},"end":{"line":13,"column":1}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":44,"column":43},"end":{"line":44,"column":44}},"loc":{"start":{"line":44,"column":74},"end":{"line":46,"column":1}},"line":44},"3":{"name":"(anonymous_3)","decl":{"start":{"line":47,"column":41},"end":{"line":47,"column":42}},"loc":{"start":{"line":47,"column":72},"end":{"line":49,"column":1}},"line":47},"4":{"name":"(anonymous_4)","decl":{"start":{"line":50,"column":22},"end":{"line":50,"column":23}},"loc":{"start":{"line":50,"column":53},"end":{"line":52,"column":1}},"line":50},"5":{"name":"(anonymous_5)","decl":{"start":{"line":54,"column":44},"end":{"line":54,"column":45}},"loc":{"start":{"line":54,"column":75},"end":{"line":56,"column":1}},"line":54},"6":{"name":"(anonymous_6)","decl":{"start":{"line":57,"column":30},"end":{"line":57,"column":31}},"loc":{"start":{"line":57,"column":63},"end":{"line":59,"column":1}},"line":57},"7":{"name":"(anonymous_7)","decl":{"start":{"line":61,"column":25},"end":{"line":61,"column":26}},"loc":{"start":{"line":61,"column":56},"end":{"line":63,"column":1}},"line":61},"8":{"name":"(anonymous_8)","decl":{"start":{"line":70,"column":21},"end":{"line":70,"column":22}},"loc":{"start":{"line":70,"column":37},"end":{"line":72,"column":1}},"line":70},"9":{"name":"(anonymous_9)","decl":{"start":{"line":74,"column":28},"end":{"line":74,"column":29}},"loc":{"start":{"line":74,"column":52},"end":{"line":74,"column":104}},"line":74},"10":{"name":"(anonymous_10)","decl":{"start":{"line":76,"column":25},"end":{"line":76,"column":26}},"loc":{"start":{"line":76,"column":49},"end":{"line":76,"column":98}},"line":76},"11":{"name":"(anonymous_11)","decl":{"start":{"line":78,"column":28},"end":{"line":78,"column":29}},"loc":{"start":{"line":78,"column":52},"end":{"line":80,"column":1}},"line":78},"12":{"name":"(anonymous_12)","decl":{"start":{"line":97,"column":25},"end":{"line":97,"column":26}},"loc":{"start":{"line":97,"column":42},"end":{"line":99,"column":1}},"line":97},"13":{"name":"(anonymous_13)","decl":{"start":{"line":101,"column":25},"end":{"line":101,"column":26}},"loc":{"start":{"line":101,"column":42},"end":{"line":103,"column":1}},"line":101},"14":{"name":"(anonymous_14)","decl":{"start":{"line":105,"column":26},"end":{"line":105,"column":27}},"loc":{"start":{"line":105,"column":43},"end":{"line":107,"column":1}},"line":105},"15":{"name":"(anonymous_15)","decl":{"start":{"line":109,"column":27},"end":{"line":109,"column":28}},"loc":{"start":{"line":109,"column":44},"end":{"line":109,"column":126}},"line":109},"16":{"name":"(anonymous_16)","decl":{"start":{"line":111,"column":27},"end":{"line":111,"column":28}},"loc":{"start":{"line":111,"column":44},"end":{"line":113,"column":1}},"line":111},"17":{"name":"(anonymous_17)","decl":{"start":{"line":115,"column":28},"end":{"line":115,"column":29}},"loc":{"start":{"line":115,"column":45},"end":{"line":117,"column":1}},"line":115},"18":{"name":"(anonymous_18)","decl":{"start":{"line":122,"column":32},"end":{"line":122,"column":33}},"loc":{"start":{"line":122,"column":49},"end":{"line":124,"column":1}},"line":122},"19":{"name":"(anonymous_19)","decl":{"start":{"line":136,"column":34},"end":{"line":136,"column":35}},"loc":{"start":{"line":136,"column":51},"end":{"line":138,"column":1}},"line":136},"20":{"name":"(anonymous_20)","decl":{"start":{"line":160,"column":24},"end":{"line":160,"column":25}},"loc":{"start":{"line":160,"column":54},"end":{"line":167,"column":1}},"line":160}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":98,"column":11},"end":{"line":98,"column":89}},"type":"binary-expr","locations":[{"start":{"line":98,"column":11},"end":{"line":98,"column":49}},{"start":{"line":98,"column":53},"end":{"line":98,"column":89}}],"line":98},"4":{"loc":{"start":{"line":109,"column":53},"end":{"line":109,"column":123}},"type":"binary-expr","locations":[{"start":{"line":109,"column":53},"end":{"line":109,"column":86}},{"start":{"line":109,"column":90},"end":{"line":109,"column":123}}],"line":109}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":1,"21":0,"22":1,"23":0,"24":1,"25":1,"26":0,"27":1,"28":0,"29":1,"30":1,"31":0,"32":1,"33":1,"34":1,"35":0,"36":1,"37":1,"38":0,"39":1,"40":1,"41":0,"42":1,"43":1,"44":0,"45":1,"46":1,"47":1,"48":1,"49":1,"50":0,"51":1,"52":1,"53":0,"54":1,"55":1,"56":0,"57":1,"58":1,"59":0,"60":1,"61":1,"62":0,"63":1,"64":1,"65":0,"66":1,"67":1,"68":1,"69":0,"70":1,"71":1,"72":1,"73":1,"74":0,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":0,"82":0,"83":0,"84":1,"85":1,"86":1},"f":{"0":2,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/src/utils/transactionUtils.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/src/utils/transactionUtils.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  Transaction,\r\n  User,\r\n  TransactionRequestStatus,\r\n  NotificationType,\r\n  PaymentNotificationStatus,\r\n  TransactionResponseItem,\r\n  TransactionQueryPayload,\r\n  TransactionDateRangePayload,\r\n  TransactionAmountRangePayload,\r\n  LikeNotification,\r\n  CommentNotification,\r\n} from \"../models\";\r\nimport faker from \"faker\";\r\nimport Dinero from \"dinero.js\";\r\nimport {\r\n  flow,\r\n  get,\r\n  isEmpty,\r\n  negate,\r\n  curry,\r\n  isEqual,\r\n  join,\r\n  pick,\r\n  values,\r\n  has,\r\n  find,\r\n  omit,\r\n  map,\r\n  drop,\r\n} from \"lodash/fp\";\r\n\r\nexport const isRequestTransaction = (transaction: Transaction) =>\r\n  flow(get(\"requestStatus\"), negate(isEmpty))(transaction);\r\n\r\n/* istanbul ignore next */\r\nexport const isPendingRequestTransaction = (transaction: Transaction) =>\r\n  flow(get(\"requestStatus\"), isEqual(TransactionRequestStatus.pending))(transaction);\r\n\r\n/* istanbul ignore next */\r\nexport const isAcceptedRequestTransaction = (transaction: Transaction) =>\r\n  flow(get(\"requestStatus\"), isEqual(TransactionRequestStatus.accepted))(transaction);\r\n\r\n/* istanbul ignore next */\r\nexport const isRejectedRequestTransaction = (transaction: Transaction) =>\r\n  flow(get(\"requestStatus\"), isEqual(TransactionRequestStatus.rejected))(transaction);\r\n\r\nexport const isPayment = negate(isRequestTransaction);\r\n\r\n/* istanbul ignore next */\r\nexport const getFakeAmount = (min: number = 1000, max: number = 50000) =>\r\n  parseInt(faker.finance.amount(min, max), 10);\r\n\r\n/* istanbul ignore next */\r\nexport const formatAmount = (amount: number) => Dinero({ amount }).toFormat();\r\n\r\n/* istanbul ignore next */\r\nexport const formatAmountSlider = (amount: number) => Dinero({ amount }).toFormat(\"$0,0\");\r\n\r\nexport const payAppDifference = curry((sender: User, transaction: Transaction) =>\r\n  Dinero({ amount: get(\"balance\", sender) }).subtract(\r\n    Dinero({ amount: get(\"amount\", transaction) })\r\n  )\r\n);\r\n\r\nexport const payAppAddition = curry((sender: User, transaction: Transaction) =>\r\n  Dinero({ amount: get(\"balance\", sender) }).add(Dinero({ amount: get(\"amount\", transaction) }))\r\n);\r\n\r\nexport const getChargeAmount = (sender: User, transaction: Transaction) =>\r\n  Math.abs(payAppDifference(sender, transaction).getAmount());\r\n\r\nexport const getTransferAmount = curry((sender: User, transaction: Transaction) =>\r\n  Math.abs(payAppDifference(sender, transaction).getAmount())\r\n);\r\n\r\nexport const getPayAppCreditedAmount = (receiver: User, transaction: Transaction) =>\r\n  Math.abs(payAppAddition(receiver, transaction).getAmount());\r\n\r\nexport const hasSufficientFunds = (sender: User, transaction: Transaction) =>\r\n  payAppDifference(sender, transaction).isPositive();\r\n\r\n/* istanbul ignore next */\r\nexport const receiverIsCurrentUser = (currentUser: User, transaction: Transaction) =>\r\n  isEqual(get(\"id\", currentUser), get(\"receiverId\", transaction));\r\n\r\nexport const formatFullName = (user: User) =>\r\n  flow(pick([\"firstName\", \"lastName\"]), values, join(\" \"))(user);\r\n\r\nexport const isCommentNotification = (\r\n  notification: NotificationType\r\n): notification is CommentNotification => has(\"commentId\")(notification);\r\n\r\nexport const isLikeNotification = (\r\n  notification: NotificationType\r\n): notification is LikeNotification => has(\"likeId\")(notification);\r\n\r\nexport const isPaymentNotification = (notification: NotificationType) =>\r\n  has(\"status\")(notification);\r\n\r\n/* istanbul ignore next */\r\nexport const isPaymentRequestedNotification = (notification: NotificationType) =>\r\n  flow(get(\"status\"), isEqual(PaymentNotificationStatus.requested))(notification);\r\n\r\n/* istanbul ignore next */\r\nexport const isPaymentReceivedNotification = (notification: NotificationType) =>\r\n  flow(get(\"status\"), isEqual(PaymentNotificationStatus.received))(notification);\r\n\r\n/* istanbul ignore next */\r\nexport const currentUserLikesTransaction = (\r\n  currentUser: User,\r\n  transaction: TransactionResponseItem\r\n) =>\r\n  flow(\r\n    find((like) => flow(get(\"userId\"), isEqual(get(\"id\", currentUser)))(like)),\r\n    negate(isEmpty)\r\n  )(transaction.likes);\r\n\r\nexport const hasDateQueryFields = (query: TransactionQueryPayload | TransactionDateRangePayload) =>\r\n  has(\"dateRangeStart\", query) && has(\"dateRangeEnd\", query);\r\n\r\nexport const getDateQueryFields = (query: TransactionDateRangePayload) =>\r\n  pick([\"dateRangeStart\", \"dateRangeEnd\"], query);\r\n\r\nexport const omitDateQueryFields = (query: TransactionQueryPayload) =>\r\n  omit([\"dateRangeStart\", \"dateRangeEnd\"], query);\r\n\r\nexport const hasAmountQueryFields = (\r\n  query: TransactionQueryPayload | TransactionAmountRangePayload\r\n) => has(\"amountMin\", query) && has(\"amountMax\", query);\r\n\r\nexport const getAmountQueryFields = (query: TransactionAmountRangePayload) =>\r\n  pick([\"amountMin\", \"amountMax\"], query);\r\n\r\nexport const omitAmountQueryFields = (query: TransactionQueryPayload) =>\r\n  omit([\"amountMin\", \"amountMax\"], query);\r\n\r\n/* istanbul ignore next */\r\nexport const hasPaginationQueryFields = (\r\n  query: TransactionQueryPayload | TransactionAmountRangePayload\r\n) => has(\"page\", query) && has(\"limit\", query);\r\n\r\nexport const omitPaginationQueryFields = (query: TransactionQueryPayload) =>\r\n  omit([\"page\", \"limit\"], query);\r\n\r\n/* istanbul ignore next */\r\nexport const getQueryWithoutDateFields = (query: TransactionQueryPayload) =>\r\n  query && hasDateQueryFields(query) ? omitDateQueryFields(query) : query;\r\n\r\n/* istanbul ignore next */\r\nexport const getQueryWithoutAmountFields = (query: TransactionQueryPayload) =>\r\n  query && hasAmountQueryFields(query) ? omitAmountQueryFields(query) : query;\r\n\r\nexport const getQueryWithoutFilterFields = (query: TransactionQueryPayload) =>\r\n  flow(omitAmountQueryFields, omitDateQueryFields, omitPaginationQueryFields)(query);\r\n\r\n/* istanbul ignore next */\r\nexport const padAmountWithZeros = (number: number) => Math.ceil(number * 1000);\r\n\r\n/* istanbul ignore next */\r\nexport const amountRangeValueText = (value: number) =>\r\n  flow(padAmountWithZeros, formatAmount)(value);\r\n\r\n/* istanbul ignore next */\r\nexport const amountRangeValueTextLabel = (value: number) =>\r\n  /* istanbul ignore next */\r\n  flow(padAmountWithZeros, formatAmountSlider)(value);\r\n\r\n/* istanbul ignore next */\r\nexport const formatAmountRangeValues = (amountRangeValues: number[]) =>\r\n  /* istanbul ignore next */\r\n  flow(map(padAmountWithZeros), map(formatAmountSlider), join(\" - \"))(amountRangeValues);\r\n\r\nexport const getPaginatedItems = (page: number, limit: number, items: any) => {\r\n  const offset = (page - 1) * limit;\r\n  const pagedItems = drop(offset, items).slice(0, limit);\r\n\r\n  return {\r\n    totalPages: Math.ceil(items.length / limit),\r\n    data: pagedItems,\r\n  };\r\n};\r\n\r\n// Custom UTC functions per:\r\n// https://github.com/date-fns/date-fns/issues/376#issuecomment-544274031\r\n// not used in application code\r\n/* istanbul ignore next */\r\nexport const startOfDayUTC = (date: Date) => new Date(new Date(date).setUTCHours(0, 0, 0, 0));\r\n\r\n// not used in application code\r\n/* istanbul ignore next */\r\nexport const endOfDayUTC = (date: Date) => new Date(new Date(date).setUTCHours(23, 59, 59, 999));\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"12c5619d1f9e971a08d03e337e26ea8d67f19a06","contentHash":"be2d88eac901ad6b57cbd7953f8f26ba06cc87d10109e828eba4a84fc625c083"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\user-routes.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\user-routes.ts","statementMap":{"0":{"start":{"line":3,"column":20},"end":{"line":11,"column":1}},"1":{"start":{"line":4,"column":4},"end":{"line":9,"column":5}},"2":{"start":{"line":4,"column":40},"end":{"line":9,"column":5}},"3":{"start":{"line":4,"column":53},"end":{"line":4,"column":54}},"4":{"start":{"line":4,"column":60},"end":{"line":4,"column":71}},"5":{"start":{"line":5,"column":8},"end":{"line":8,"column":9}},"6":{"start":{"line":6,"column":12},"end":{"line":6,"column":65}},"7":{"start":{"line":6,"column":21},"end":{"line":6,"column":65}},"8":{"start":{"line":7,"column":12},"end":{"line":7,"column":28}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":61}},"10":{"start":{"line":12,"column":22},"end":{"line":14,"column":1}},"11":{"start":{"line":13,"column":4},"end":{"line":13,"column":62}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"13":{"start":{"line":16,"column":16},"end":{"line":16,"column":51}},"14":{"start":{"line":17,"column":11},"end":{"line":17,"column":31}},"15":{"start":{"line":18,"column":17},"end":{"line":18,"column":38}},"16":{"start":{"line":19,"column":16},"end":{"line":19,"column":36}},"17":{"start":{"line":20,"column":19},"end":{"line":20,"column":42}},"18":{"start":{"line":21,"column":13},"end":{"line":21,"column":39}},"19":{"start":{"line":23,"column":0},"end":{"line":28,"column":3}},"20":{"start":{"line":27,"column":4},"end":{"line":27,"column":45}},"21":{"start":{"line":29,"column":0},"end":{"line":35,"column":3}},"22":{"start":{"line":31,"column":12},"end":{"line":31,"column":23}},"23":{"start":{"line":34,"column":4},"end":{"line":34,"column":45}},"24":{"start":{"line":36,"column":0},"end":{"line":41,"column":3}},"25":{"start":{"line":37,"column":22},"end":{"line":37,"column":30}},"26":{"start":{"line":38,"column":15},"end":{"line":38,"column":54}},"27":{"start":{"line":39,"column":4},"end":{"line":39,"column":20}},"28":{"start":{"line":40,"column":4},"end":{"line":40,"column":29}},"29":{"start":{"line":42,"column":0},"end":{"line":55,"column":3}},"30":{"start":{"line":44,"column":17},"end":{"line":44,"column":34}},"31":{"start":{"line":52,"column":15},"end":{"line":52,"column":50}},"32":{"start":{"line":53,"column":4},"end":{"line":53,"column":20}},"33":{"start":{"line":54,"column":4},"end":{"line":54,"column":29}},"34":{"start":{"line":56,"column":0},"end":{"line":61,"column":3}},"35":{"start":{"line":57,"column":19},"end":{"line":57,"column":38}},"36":{"start":{"line":58,"column":15},"end":{"line":58,"column":111}},"37":{"start":{"line":59,"column":4},"end":{"line":59,"column":20}},"38":{"start":{"line":60,"column":4},"end":{"line":60,"column":29}},"39":{"start":{"line":62,"column":0},"end":{"line":67,"column":3}},"40":{"start":{"line":63,"column":17},"end":{"line":63,"column":34}},"41":{"start":{"line":64,"column":16},"end":{"line":64,"column":24}},"42":{"start":{"line":65,"column":4},"end":{"line":65,"column":50}},"43":{"start":{"line":66,"column":4},"end":{"line":66,"column":24}},"44":{"start":{"line":68,"column":0},"end":{"line":68,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":52},"end":{"line":3,"column":53}},"loc":{"start":{"line":3,"column":78},"end":{"line":11,"column":1}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":56},"end":{"line":12,"column":57}},"loc":{"start":{"line":12,"column":71},"end":{"line":14,"column":1}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":47},"end":{"line":23,"column":48}},"loc":{"start":{"line":23,"column":67},"end":{"line":28,"column":1}},"line":23},"3":{"name":"(anonymous_3)","decl":{"start":{"line":29,"column":121},"end":{"line":29,"column":122}},"loc":{"start":{"line":29,"column":141},"end":{"line":35,"column":1}},"line":29},"4":{"name":"(anonymous_4)","decl":{"start":{"line":36,"column":116},"end":{"line":36,"column":117}},"loc":{"start":{"line":36,"column":136},"end":{"line":41,"column":1}},"line":36},"5":{"name":"(anonymous_5)","decl":{"start":{"line":42,"column":138},"end":{"line":42,"column":139}},"loc":{"start":{"line":42,"column":158},"end":{"line":55,"column":1}},"line":42},"6":{"name":"(anonymous_6)","decl":{"start":{"line":56,"column":33},"end":{"line":56,"column":34}},"loc":{"start":{"line":56,"column":53},"end":{"line":61,"column":1}},"line":56},"7":{"name":"(anonymous_7)","decl":{"start":{"line":62,"column":225},"end":{"line":62,"column":226}},"loc":{"start":{"line":62,"column":245},"end":{"line":67,"column":1}},"line":62}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":20},"end":{"line":11,"column":1}},"type":"binary-expr","locations":[{"start":{"line":3,"column":21},"end":{"line":3,"column":25}},{"start":{"line":3,"column":29},"end":{"line":3,"column":47}},{"start":{"line":3,"column":52},"end":{"line":11,"column":1}}],"line":3},"1":{"loc":{"start":{"line":4,"column":4},"end":{"line":9,"column":5}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":9,"column":5}},{"start":{"line":4,"column":4},"end":{"line":9,"column":5}}],"line":4},"2":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":38}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":12}},{"start":{"line":4,"column":16},"end":{"line":4,"column":38}}],"line":4},"3":{"loc":{"start":{"line":5,"column":8},"end":{"line":8,"column":9}},"type":"if","locations":[{"start":{"line":5,"column":8},"end":{"line":8,"column":9}},{"start":{"line":5,"column":8},"end":{"line":8,"column":9}}],"line":5},"4":{"loc":{"start":{"line":5,"column":12},"end":{"line":5,"column":30}},"type":"binary-expr","locations":[{"start":{"line":5,"column":12},"end":{"line":5,"column":14}},{"start":{"line":5,"column":18},"end":{"line":5,"column":30}}],"line":5},"5":{"loc":{"start":{"line":6,"column":12},"end":{"line":6,"column":65}},"type":"if","locations":[{"start":{"line":6,"column":12},"end":{"line":6,"column":65}},{"start":{"line":6,"column":12},"end":{"line":6,"column":65}}],"line":6},"6":{"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":59}},"type":"binary-expr","locations":[{"start":{"line":10,"column":21},"end":{"line":10,"column":23}},{"start":{"line":10,"column":27},"end":{"line":10,"column":59}}],"line":10},"7":{"loc":{"start":{"line":12,"column":22},"end":{"line":14,"column":1}},"type":"binary-expr","locations":[{"start":{"line":12,"column":23},"end":{"line":12,"column":27}},{"start":{"line":12,"column":31},"end":{"line":12,"column":51}},{"start":{"line":12,"column":56},"end":{"line":14,"column":1}}],"line":12},"8":{"loc":{"start":{"line":13,"column":11},"end":{"line":13,"column":61}},"type":"cond-expr","locations":[{"start":{"line":13,"column":37},"end":{"line":13,"column":40}},{"start":{"line":13,"column":43},"end":{"line":13,"column":61}}],"line":13},"9":{"loc":{"start":{"line":13,"column":12},"end":{"line":13,"column":33}},"type":"binary-expr","locations":[{"start":{"line":13,"column":12},"end":{"line":13,"column":15}},{"start":{"line":13,"column":19},"end":{"line":13,"column":33}}],"line":13}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":9,"6":0,"7":0,"8":0,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":0,"21":1,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":0,"42":0,"43":0,"44":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0},"b":{"0":[1,1,1],"1":[1,0],"2":[1,0],"3":[0,9],"4":[9,9],"5":[0,0],"6":[1,1],"7":[1,1,1],"8":[0,1],"9":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/user-routes.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/user-routes.ts"],"names":[],"mappings":";AAAA,gCAAgC;;;;;;;;;;;;;;AAEhC,oDAA8B;AAC9B,gCAA0C;AAE1C,uCAQoB;AAEpB,qCAAoE;AACpE,2CAKsB;AACtB,IAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,SAAS;AACT,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,6BAAmB,EAAE,UAAC,GAAG,EAAE,GAAG;;IAC5C,0BAA0B;IAC1B,IAAM,KAAK,GAAG,IAAA,gCAAqB,EAAC,MAAA,GAAG,CAAC,IAAI,0CAAE,EAAG,EAAE,IAAA,sBAAW,GAAE,CAAC,CAAC;IAClE,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;AAC3C,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,6BAAmB,EAAE,IAAA,4BAAkB,EAAC,CAAC,6BAAgB,CAAC,CAAC,EAAE,UAAC,GAAG,EAAE,GAAG;;IAClF,IAAA,CAAC,GAAK,GAAG,CAAC,KAAK,EAAd,CAAe;IAExB,0BAA0B;IAC1B,IAAM,KAAK,GAAG,IAAA,gCAAqB,EAAC,MAAA,GAAG,CAAC,IAAI,0CAAE,EAAG,EAAE,IAAA,sBAAW,EAAC,CAAC,CAAC,CAAC,CAAC;IAEnE,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;AAC3C,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,gCAAmB,EAAE,IAAA,4BAAkB,EAAC,4BAAe,CAAC,EAAE,UAAC,GAAG,EAAE,GAAG;IAClF,IAAM,WAAW,GAAS,GAAG,CAAC,IAAI,CAAC;IAEnC,IAAM,IAAI,GAAG,IAAA,qBAAU,EAAC,WAAW,CAAC,CAAC;IAErC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;AAC3B,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,GAAG,CACR,UAAU,EACV,6BAAmB,EACnB,IAAA,4BAAkB,EAAC,CAAC,IAAA,8BAAiB,EAAC,QAAQ,CAAC,CAAC,CAAC,EACjD,UAAC,GAAG,EAAE,GAAG;;IACC,IAAA,MAAM,GAAK,GAAG,CAAC,MAAM,OAAf,CAAgB;IAE9B,4BAA4B;IAC5B,0BAA0B;IAC1B,IAAI,CAAC,IAAA,YAAO,EAAC,MAAM,EAAE,MAAA,GAAG,CAAC,IAAI,0CAAE,EAAE,CAAC,EAAE;QAClC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YAC1B,KAAK,EAAE,cAAc;SACtB,CAAC,CAAC;KACJ;IAED,IAAM,IAAI,GAAG,IAAA,sBAAW,EAAC,MAAM,CAAC,CAAC;IAEjC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,MAAA,EAAE,CAAC,CAAC;AACrB,CAAC,CACF,CAAC;AAEF,MAAM,CAAC,GAAG,CAAC,oBAAoB,EAAE,UAAC,GAAG,EAAE,GAAG;IAChC,IAAA,QAAQ,GAAK,GAAG,CAAC,MAAM,SAAf,CAAgB;IAEhC,IAAM,IAAI,GAAG,IAAA,SAAI,EAAC,CAAC,WAAW,EAAE,UAAU,EAAE,QAAQ,CAAC,EAAE,IAAA,4BAAiB,EAAC,QAAQ,CAAC,CAAC,CAAC;IAEpF,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,MAAA,EAAE,CAAC,CAAC;AACrB,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,KAAK,CACV,UAAU,EACV,6BAAmB,EACnB,gCAAmB,EACnB,IAAA,4BAAkB,iBAAE,IAAA,8BAAiB,EAAC,QAAQ,CAAC,GAAK,4BAAe,QAAE,EACrE,UAAC,GAAG,EAAE,GAAG;IACC,IAAA,MAAM,GAAK,GAAG,CAAC,MAAM,OAAf,CAAgB;IAE9B,IAAM,KAAK,GAAS,GAAG,CAAC,IAAI,CAAC;IAE7B,IAAA,yBAAc,EAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IAE9B,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;AACtB,CAAC,CACF,CAAC;AAEF,kBAAe,MAAM,CAAC","sourcesContent":["///<reference path=\"types.ts\" />\r\n\r\nimport express from \"express\";\r\nimport { isEqual, pick } from \"lodash/fp\";\r\n\r\nimport {\r\n  getAllUsers,\r\n  createUser,\r\n  updateUserById,\r\n  getUserById,\r\n  getUserByUsername,\r\n  searchUsers,\r\n  removeUserFromResults,\r\n} from \"./database\";\r\nimport { User } from \"../src/models/user\";\r\nimport { ensureAuthenticated, validateMiddleware } from \"./helpers\";\r\nimport {\r\n  shortIdValidation,\r\n  searchValidation,\r\n  userFieldsValidator,\r\n  isUserValidator,\r\n} from \"./validators\";\r\nconst router = express.Router();\r\n\r\n// Routes\r\nrouter.get(\"/\", ensureAuthenticated, (req, res) => {\r\n  /* istanbul ignore next */\r\n  const users = removeUserFromResults(req.user?.id!, getAllUsers());\r\n  res.status(200).json({ results: users });\r\n});\r\n\r\nrouter.get(\"/search\", ensureAuthenticated, validateMiddleware([searchValidation]), (req, res) => {\r\n  const { q } = req.query;\r\n\r\n  /* istanbul ignore next */\r\n  const users = removeUserFromResults(req.user?.id!, searchUsers(q));\r\n\r\n  res.status(200).json({ results: users });\r\n});\r\n\r\nrouter.post(\"/\", userFieldsValidator, validateMiddleware(isUserValidator), (req, res) => {\r\n  const userDetails: User = req.body;\r\n\r\n  const user = createUser(userDetails);\r\n\r\n  res.status(201);\r\n  res.json({ user: user });\r\n});\r\n\r\nrouter.get(\r\n  \"/:userId\",\r\n  ensureAuthenticated,\r\n  validateMiddleware([shortIdValidation(\"userId\")]),\r\n  (req, res) => {\r\n    const { userId } = req.params;\r\n\r\n    // Permission: account owner\r\n    /* istanbul ignore next */\r\n    if (!isEqual(userId, req.user?.id)) {\r\n      return res.status(401).send({\r\n        error: \"Unauthorized\",\r\n      });\r\n    }\r\n\r\n    const user = getUserById(userId);\r\n\r\n    res.status(200);\r\n    res.json({ user });\r\n  }\r\n);\r\n\r\nrouter.get(\"/profile/:username\", (req, res) => {\r\n  const { username } = req.params;\r\n\r\n  const user = pick([\"firstName\", \"lastName\", \"avatar\"], getUserByUsername(username));\r\n\r\n  res.status(200);\r\n  res.json({ user });\r\n});\r\n\r\nrouter.patch(\r\n  \"/:userId\",\r\n  ensureAuthenticated,\r\n  userFieldsValidator,\r\n  validateMiddleware([shortIdValidation(\"userId\"), ...isUserValidator]),\r\n  (req, res) => {\r\n    const { userId } = req.params;\r\n\r\n    const edits: User = req.body;\r\n\r\n    updateUserById(userId, edits);\r\n\r\n    res.sendStatus(204);\r\n  }\r\n);\r\n\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a576b02f00fe643d1d5bdb50483a700e0d4806e1","contentHash":"fd18b3600bdc74e1f81565786905767bbd7856f8568c13d5bb4afb64ff9d36ac"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\helpers.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\helpers.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":18},"end":{"line":37,"column":1}},"13":{"start":{"line":12,"column":12},"end":{"line":12,"column":104}},"14":{"start":{"line":12,"column":43},"end":{"line":12,"column":68}},"15":{"start":{"line":12,"column":57},"end":{"line":12,"column":68}},"16":{"start":{"line":12,"column":69},"end":{"line":12,"column":81}},"17":{"start":{"line":13,"column":4},"end":{"line":13,"column":157}},"18":{"start":{"line":13,"column":138},"end":{"line":13,"column":150}},"19":{"start":{"line":14,"column":23},"end":{"line":14,"column":68}},"20":{"start":{"line":14,"column":45},"end":{"line":14,"column":65}},"21":{"start":{"line":16,"column":8},"end":{"line":16,"column":70}},"22":{"start":{"line":16,"column":15},"end":{"line":16,"column":70}},"23":{"start":{"line":17,"column":8},"end":{"line":34,"column":66}},"24":{"start":{"line":17,"column":18},"end":{"line":34,"column":66}},"25":{"start":{"line":18,"column":12},"end":{"line":18,"column":169}},"26":{"start":{"line":18,"column":160},"end":{"line":18,"column":169}},"27":{"start":{"line":19,"column":12},"end":{"line":19,"column":52}},"28":{"start":{"line":19,"column":26},"end":{"line":19,"column":52}},"29":{"start":{"line":20,"column":12},"end":{"line":32,"column":13}},"30":{"start":{"line":21,"column":32},"end":{"line":21,"column":39}},"31":{"start":{"line":21,"column":40},"end":{"line":21,"column":46}},"32":{"start":{"line":22,"column":24},"end":{"line":22,"column":34}},"33":{"start":{"line":22,"column":35},"end":{"line":22,"column":72}},"34":{"start":{"line":23,"column":24},"end":{"line":23,"column":34}},"35":{"start":{"line":23,"column":35},"end":{"line":23,"column":45}},"36":{"start":{"line":23,"column":46},"end":{"line":23,"column":55}},"37":{"start":{"line":23,"column":56},"end":{"line":23,"column":65}},"38":{"start":{"line":24,"column":24},"end":{"line":24,"column":41}},"39":{"start":{"line":24,"column":42},"end":{"line":24,"column":55}},"40":{"start":{"line":24,"column":56},"end":{"line":24,"column":65}},"41":{"start":{"line":26,"column":20},"end":{"line":26,"column":128}},"42":{"start":{"line":26,"column":110},"end":{"line":26,"column":116}},"43":{"start":{"line":26,"column":117},"end":{"line":26,"column":126}},"44":{"start":{"line":27,"column":20},"end":{"line":27,"column":106}},"45":{"start":{"line":27,"column":81},"end":{"line":27,"column":97}},"46":{"start":{"line":27,"column":98},"end":{"line":27,"column":104}},"47":{"start":{"line":28,"column":20},"end":{"line":28,"column":89}},"48":{"start":{"line":28,"column":57},"end":{"line":28,"column":72}},"49":{"start":{"line":28,"column":73},"end":{"line":28,"column":80}},"50":{"start":{"line":28,"column":81},"end":{"line":28,"column":87}},"51":{"start":{"line":29,"column":20},"end":{"line":29,"column":87}},"52":{"start":{"line":29,"column":47},"end":{"line":29,"column":62}},"53":{"start":{"line":29,"column":63},"end":{"line":29,"column":78}},"54":{"start":{"line":29,"column":79},"end":{"line":29,"column":85}},"55":{"start":{"line":30,"column":20},"end":{"line":30,"column":42}},"56":{"start":{"line":30,"column":30},"end":{"line":30,"column":42}},"57":{"start":{"line":31,"column":20},"end":{"line":31,"column":33}},"58":{"start":{"line":31,"column":34},"end":{"line":31,"column":43}},"59":{"start":{"line":33,"column":12},"end":{"line":33,"column":39}},"60":{"start":{"line":34,"column":22},"end":{"line":34,"column":34}},"61":{"start":{"line":34,"column":35},"end":{"line":34,"column":41}},"62":{"start":{"line":34,"column":54},"end":{"line":34,"column":64}},"63":{"start":{"line":35,"column":8},"end":{"line":35,"column":35}},"64":{"start":{"line":35,"column":23},"end":{"line":35,"column":35}},"65":{"start":{"line":35,"column":36},"end":{"line":35,"column":89}},"66":{"start":{"line":38,"column":22},"end":{"line":40,"column":1}},"67":{"start":{"line":39,"column":4},"end":{"line":39,"column":62}},"68":{"start":{"line":41,"column":0},"end":{"line":41,"column":62}},"69":{"start":{"line":42,"column":0},"end":{"line":42,"column":167}},"70":{"start":{"line":43,"column":15},"end":{"line":43,"column":49}},"71":{"start":{"line":44,"column":15},"end":{"line":44,"column":32}},"72":{"start":{"line":45,"column":26},"end":{"line":45,"column":54}},"73":{"start":{"line":46,"column":20},"end":{"line":46,"column":59}},"74":{"start":{"line":47,"column":17},"end":{"line":47,"column":53}},"75":{"start":{"line":49,"column":21},"end":{"line":49,"column":67}},"76":{"start":{"line":51,"column":20},"end":{"line":51,"column":66}},"77":{"start":{"line":52,"column":0},"end":{"line":52,"column":26}},"78":{"start":{"line":53,"column":21},"end":{"line":64,"column":1}},"79":{"start":{"line":66,"column":22},"end":{"line":73,"column":2}},"80":{"start":{"line":74,"column":22},"end":{"line":85,"column":1}},"81":{"start":{"line":113,"column":0},"end":{"line":113,"column":42}},"82":{"start":{"line":116,"column":26},"end":{"line":122,"column":1}},"83":{"start":{"line":123,"column":0},"end":{"line":123,"column":101}},"84":{"start":{"line":124,"column":0},"end":{"line":124,"column":108}},"85":{"start":{"line":125,"column":0},"end":{"line":125,"column":103}},"86":{"start":{"line":126,"column":26},"end":{"line":142,"column":1}},"87":{"start":{"line":128,"column":4},"end":{"line":137,"column":5}},"88":{"start":{"line":131,"column":8},"end":{"line":135,"column":9}},"89":{"start":{"line":136,"column":8},"end":{"line":136,"column":22}},"90":{"start":{"line":143,"column":0},"end":{"line":143,"column":50}},"91":{"start":{"line":144,"column":25},"end":{"line":161,"column":1}},"92":{"start":{"line":145,"column":4},"end":{"line":160,"column":10}},"93":{"start":{"line":145,"column":39},"end":{"line":160,"column":7}},"94":{"start":{"line":147,"column":8},"end":{"line":159,"column":11}},"95":{"start":{"line":148,"column":12},"end":{"line":158,"column":13}},"96":{"start":{"line":149,"column":24},"end":{"line":149,"column":130}},"97":{"start":{"line":149,"column":97},"end":{"line":149,"column":124}},"98":{"start":{"line":151,"column":20},"end":{"line":151,"column":30}},"99":{"start":{"line":152,"column":20},"end":{"line":152,"column":76}},"100":{"start":{"line":153,"column":20},"end":{"line":155,"column":21}},"101":{"start":{"line":154,"column":24},"end":{"line":154,"column":54}},"102":{"start":{"line":156,"column":20},"end":{"line":156,"column":69}},"103":{"start":{"line":157,"column":20},"end":{"line":157,"column":42}},"104":{"start":{"line":162,"column":0},"end":{"line":162,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":48},"end":{"line":11,"column":49}},"loc":{"start":{"line":11,"column":73},"end":{"line":37,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":12,"column":30},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":41},"end":{"line":12,"column":83}},"line":12},"9":{"name":"(anonymous_9)","decl":{"start":{"line":13,"column":125},"end":{"line":13,"column":126}},"loc":{"start":{"line":13,"column":136},"end":{"line":13,"column":152}},"line":13},"10":{"name":"verb","decl":{"start":{"line":14,"column":13},"end":{"line":14,"column":17}},"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":70}},"line":14},"11":{"name":"(anonymous_11)","decl":{"start":{"line":14,"column":30},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":43},"end":{"line":14,"column":67}},"line":14},"12":{"name":"step","decl":{"start":{"line":15,"column":13},"end":{"line":15,"column":17}},"loc":{"start":{"line":15,"column":22},"end":{"line":36,"column":5}},"line":15},"13":{"name":"(anonymous_13)","decl":{"start":{"line":38,"column":56},"end":{"line":38,"column":57}},"loc":{"start":{"line":38,"column":71},"end":{"line":40,"column":1}},"line":38},"14":{"name":"(anonymous_14)","decl":{"start":{"line":126,"column":26},"end":{"line":126,"column":27}},"loc":{"start":{"line":126,"column":52},"end":{"line":142,"column":1}},"line":126},"15":{"name":"(anonymous_15)","decl":{"start":{"line":144,"column":25},"end":{"line":144,"column":26}},"loc":{"start":{"line":144,"column":48},"end":{"line":161,"column":1}},"line":144},"16":{"name":"(anonymous_16)","decl":{"start":{"line":145,"column":11},"end":{"line":145,"column":12}},"loc":{"start":{"line":145,"column":37},"end":{"line":160,"column":9}},"line":145},"17":{"name":"(anonymous_17)","decl":{"start":{"line":145,"column":80},"end":{"line":145,"column":81}},"loc":{"start":{"line":145,"column":92},"end":{"line":160,"column":5}},"line":145},"18":{"name":"(anonymous_18)","decl":{"start":{"line":147,"column":33},"end":{"line":147,"column":34}},"loc":{"start":{"line":147,"column":47},"end":{"line":159,"column":9}},"line":147},"19":{"name":"(anonymous_19)","decl":{"start":{"line":149,"column":73},"end":{"line":149,"column":74}},"loc":{"start":{"line":149,"column":95},"end":{"line":149,"column":126}},"line":149}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":18},"end":{"line":37,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":19},"end":{"line":11,"column":23}},{"start":{"line":11,"column":27},"end":{"line":11,"column":43}},{"start":{"line":11,"column":48},"end":{"line":37,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":43},"end":{"line":12,"column":68}},"type":"if","locations":[{"start":{"line":12,"column":43},"end":{"line":12,"column":68}},{"start":{"line":12,"column":43},"end":{"line":12,"column":68}}],"line":12},"7":{"loc":{"start":{"line":13,"column":71},"end":{"line":13,"column":153}},"type":"binary-expr","locations":[{"start":{"line":13,"column":71},"end":{"line":13,"column":99}},{"start":{"line":13,"column":104},"end":{"line":13,"column":152}}],"line":13},"8":{"loc":{"start":{"line":16,"column":8},"end":{"line":16,"column":70}},"type":"if","locations":[{"start":{"line":16,"column":8},"end":{"line":16,"column":70}},{"start":{"line":16,"column":8},"end":{"line":16,"column":70}}],"line":16},"9":{"loc":{"start":{"line":18,"column":12},"end":{"line":18,"column":169}},"type":"if","locations":[{"start":{"line":18,"column":12},"end":{"line":18,"column":169}},{"start":{"line":18,"column":12},"end":{"line":18,"column":169}}],"line":18},"10":{"loc":{"start":{"line":18,"column":23},"end":{"line":18,"column":158}},"type":"binary-expr","locations":[{"start":{"line":18,"column":23},"end":{"line":18,"column":24}},{"start":{"line":18,"column":29},"end":{"line":18,"column":125}},{"start":{"line":18,"column":130},"end":{"line":18,"column":158}}],"line":18},"11":{"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":125}},"type":"cond-expr","locations":[{"start":{"line":18,"column":45},"end":{"line":18,"column":56}},{"start":{"line":18,"column":59},"end":{"line":18,"column":125}}],"line":18},"12":{"loc":{"start":{"line":18,"column":59},"end":{"line":18,"column":125}},"type":"cond-expr","locations":[{"start":{"line":18,"column":67},"end":{"line":18,"column":116}},{"start":{"line":18,"column":119},"end":{"line":18,"column":125}}],"line":18},"13":{"loc":{"start":{"line":18,"column":67},"end":{"line":18,"column":116}},"type":"binary-expr","locations":[{"start":{"line":18,"column":67},"end":{"line":18,"column":77}},{"start":{"line":18,"column":82},"end":{"line":18,"column":115}}],"line":18},"14":{"loc":{"start":{"line":18,"column":82},"end":{"line":18,"column":112}},"type":"binary-expr","locations":[{"start":{"line":18,"column":83},"end":{"line":18,"column":98}},{"start":{"line":18,"column":103},"end":{"line":18,"column":112}}],"line":18},"15":{"loc":{"start":{"line":19,"column":12},"end":{"line":19,"column":52}},"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":19,"column":52}},{"start":{"line":19,"column":12},"end":{"line":19,"column":52}}],"line":19},"16":{"loc":{"start":{"line":20,"column":12},"end":{"line":32,"column":13}},"type":"switch","locations":[{"start":{"line":21,"column":16},"end":{"line":21,"column":23}},{"start":{"line":21,"column":24},"end":{"line":21,"column":46}},{"start":{"line":22,"column":16},"end":{"line":22,"column":72}},{"start":{"line":23,"column":16},"end":{"line":23,"column":65}},{"start":{"line":24,"column":16},"end":{"line":24,"column":65}},{"start":{"line":25,"column":16},"end":{"line":31,"column":43}}],"line":20},"17":{"loc":{"start":{"line":26,"column":20},"end":{"line":26,"column":128}},"type":"if","locations":[{"start":{"line":26,"column":20},"end":{"line":26,"column":128}},{"start":{"line":26,"column":20},"end":{"line":26,"column":128}}],"line":26},"18":{"loc":{"start":{"line":26,"column":24},"end":{"line":26,"column":106}},"type":"binary-expr","locations":[{"start":{"line":26,"column":24},"end":{"line":26,"column":74}},{"start":{"line":26,"column":79},"end":{"line":26,"column":90}},{"start":{"line":26,"column":94},"end":{"line":26,"column":105}}],"line":26},"19":{"loc":{"start":{"line":26,"column":42},"end":{"line":26,"column":73}},"type":"binary-expr","locations":[{"start":{"line":26,"column":42},"end":{"line":26,"column":54}},{"start":{"line":26,"column":58},"end":{"line":26,"column":73}}],"line":26},"20":{"loc":{"start":{"line":27,"column":20},"end":{"line":27,"column":106}},"type":"if","locations":[{"start":{"line":27,"column":20},"end":{"line":27,"column":106}},{"start":{"line":27,"column":20},"end":{"line":27,"column":106}}],"line":27},"21":{"loc":{"start":{"line":27,"column":24},"end":{"line":27,"column":77}},"type":"binary-expr","locations":[{"start":{"line":27,"column":24},"end":{"line":27,"column":35}},{"start":{"line":27,"column":40},"end":{"line":27,"column":42}},{"start":{"line":27,"column":47},"end":{"line":27,"column":59}},{"start":{"line":27,"column":63},"end":{"line":27,"column":75}}],"line":27},"22":{"loc":{"start":{"line":28,"column":20},"end":{"line":28,"column":89}},"type":"if","locations":[{"start":{"line":28,"column":20},"end":{"line":28,"column":89}},{"start":{"line":28,"column":20},"end":{"line":28,"column":89}}],"line":28},"23":{"loc":{"start":{"line":28,"column":24},"end":{"line":28,"column":53}},"type":"binary-expr","locations":[{"start":{"line":28,"column":24},"end":{"line":28,"column":35}},{"start":{"line":28,"column":39},"end":{"line":28,"column":53}}],"line":28},"24":{"loc":{"start":{"line":29,"column":20},"end":{"line":29,"column":87}},"type":"if","locations":[{"start":{"line":29,"column":20},"end":{"line":29,"column":87}},{"start":{"line":29,"column":20},"end":{"line":29,"column":87}}],"line":29},"25":{"loc":{"start":{"line":29,"column":24},"end":{"line":29,"column":43}},"type":"binary-expr","locations":[{"start":{"line":29,"column":24},"end":{"line":29,"column":25}},{"start":{"line":29,"column":29},"end":{"line":29,"column":43}}],"line":29},"26":{"loc":{"start":{"line":30,"column":20},"end":{"line":30,"column":42}},"type":"if","locations":[{"start":{"line":30,"column":20},"end":{"line":30,"column":42}},{"start":{"line":30,"column":20},"end":{"line":30,"column":42}}],"line":30},"27":{"loc":{"start":{"line":35,"column":8},"end":{"line":35,"column":35}},"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":35,"column":35}},{"start":{"line":35,"column":8},"end":{"line":35,"column":35}}],"line":35},"28":{"loc":{"start":{"line":35,"column":52},"end":{"line":35,"column":74}},"type":"cond-expr","locations":[{"start":{"line":35,"column":60},"end":{"line":35,"column":65}},{"start":{"line":35,"column":68},"end":{"line":35,"column":74}}],"line":35},"29":{"loc":{"start":{"line":38,"column":22},"end":{"line":40,"column":1}},"type":"binary-expr","locations":[{"start":{"line":38,"column":23},"end":{"line":38,"column":27}},{"start":{"line":38,"column":31},"end":{"line":38,"column":51}},{"start":{"line":38,"column":56},"end":{"line":40,"column":1}}],"line":38},"30":{"loc":{"start":{"line":39,"column":11},"end":{"line":39,"column":61}},"type":"cond-expr","locations":[{"start":{"line":39,"column":37},"end":{"line":39,"column":40}},{"start":{"line":39,"column":43},"end":{"line":39,"column":61}}],"line":39},"31":{"loc":{"start":{"line":39,"column":12},"end":{"line":39,"column":33}},"type":"binary-expr","locations":[{"start":{"line":39,"column":12},"end":{"line":39,"column":15}},{"start":{"line":39,"column":19},"end":{"line":39,"column":33}}],"line":39},"32":{"loc":{"start":{"line":128,"column":4},"end":{"line":137,"column":5}},"type":"if","locations":[{"start":{"line":128,"column":4},"end":{"line":137,"column":5}},{"start":{"line":128,"column":4},"end":{"line":137,"column":5}}],"line":128},"33":{"loc":{"start":{"line":131,"column":8},"end":{"line":135,"column":9}},"type":"if","locations":[{"start":{"line":131,"column":8},"end":{"line":135,"column":9}},{"start":{"line":131,"column":8},"end":{"line":135,"column":9}}],"line":131},"34":{"loc":{"start":{"line":131,"column":12},"end":{"line":131,"column":71}},"type":"cond-expr","locations":[{"start":{"line":131,"column":56},"end":{"line":131,"column":62}},{"start":{"line":131,"column":65},"end":{"line":131,"column":71}}],"line":131},"35":{"loc":{"start":{"line":131,"column":12},"end":{"line":131,"column":53}},"type":"binary-expr","locations":[{"start":{"line":131,"column":12},"end":{"line":131,"column":36}},{"start":{"line":131,"column":40},"end":{"line":131,"column":53}}],"line":131},"36":{"loc":{"start":{"line":148,"column":12},"end":{"line":158,"column":13}},"type":"switch","locations":[{"start":{"line":149,"column":16},"end":{"line":149,"column":130}},{"start":{"line":150,"column":16},"end":{"line":157,"column":42}}],"line":148},"37":{"loc":{"start":{"line":153,"column":20},"end":{"line":155,"column":21}},"type":"if","locations":[{"start":{"line":153,"column":20},"end":{"line":155,"column":21}},{"start":{"line":153,"column":20},"end":{"line":155,"column":21}}],"line":153}},"s":{"0":1,"1":1,"2":0,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":2,"11":1,"12":1,"13":1,"14":1,"15":0,"16":1,"17":1,"18":0,"19":3,"20":2,"21":2,"22":0,"23":2,"24":4,"25":4,"26":0,"27":4,"28":0,"29":4,"30":2,"31":2,"32":1,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":1,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":2,"60":0,"61":0,"62":4,"63":1,"64":0,"65":1,"66":1,"67":5,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":0,"88":0,"89":0,"90":1,"91":1,"92":22,"93":1,"94":1,"95":2,"96":1,"97":9,"98":1,"99":1,"100":1,"101":1,"102":0,"103":0,"104":1},"f":{"0":1,"1":1,"2":0,"3":1,"4":1,"5":0,"6":2,"7":1,"8":1,"9":0,"10":3,"11":2,"12":2,"13":5,"14":0,"15":22,"16":1,"17":1,"18":2,"19":9},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1,1],"4":[1,1],"5":[1,1,1],"6":[0,1],"7":[1,1],"8":[0,2],"9":[0,4],"10":[4,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,4],"16":[2,2,1,0,0,1],"17":[1,0],"18":[1,1,1],"19":[1,0],"20":[0,0],"21":[0,0,0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,1],"28":[1,0],"29":[1,1,1],"30":[1,4],"31":[5,5],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[1,1],"37":[1,0]},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/helpers.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/helpers.ts"],"names":[],"mappings":"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","sourcesContent":["import dotenv from \"dotenv\";\r\nimport { set } from \"lodash\";\r\nimport { Request, Response, NextFunction } from \"express\";\r\nimport { validationResult } from \"express-validator\";\r\nimport jwt from \"express-jwt\";\r\nimport jwksRsa from \"jwks-rsa\";\r\n\r\n// @ts-ignore\r\nimport OktaJwtVerifier from \"@okta/jwt-verifier\";\r\n// @ts-ignore\r\nimport awsConfig from \"../src/aws-exports\";\r\n\r\ndotenv.config();\r\n\r\nconst auth0JwtConfig = {\r\n  secret: jwksRsa.expressJwtSecret({\r\n    cache: true,\r\n    rateLimit: true,\r\n    jwksRequestsPerMinute: 5,\r\n    jwksUri: `https://${process.env.REACT_APP_AUTH0_DOMAIN}/.well-known/jwks.json`,\r\n  }),\r\n\r\n  // Validate the audience and the issuer.\r\n  audience: process.env.REACT_APP_AUTH0_AUDIENCE,\r\n  issuer: `https://${process.env.REACT_APP_AUTH0_DOMAIN}/`,\r\n  algorithms: [\"RS256\"],\r\n};\r\n\r\n// Okta Validate the JWT Signature\r\nconst oktaJwtVerifier = new OktaJwtVerifier({\r\n  issuer: `https://${process.env.REACT_APP_OKTA_DOMAIN}/oauth2/default`,\r\n  clientId: process.env.REACT_APP_OKTA_CLIENTID,\r\n  assertClaims: {\r\n    aud: \"api://default\",\r\n    cid: process.env.REACT_APP_OKTA_CLIENTID,\r\n  },\r\n});\r\nconst googleJwtConfig = {\r\n  secret: jwksRsa.expressJwtSecret({\r\n    cache: true,\r\n    rateLimit: true,\r\n    jwksRequestsPerMinute: 5,\r\n    jwksUri: \"https://www.googleapis.com/oauth2/v3/certs\",\r\n  }),\r\n\r\n  // Validate the audience and the issuer.\r\n  audience: process.env.REACT_APP_GOOGLE_CLIENTID,\r\n  issuer: \"accounts.google.com\",\r\n  algorithms: [\"RS256\"],\r\n};\r\n\r\n/* istanbul ignore next */\r\nexport const verifyOktaToken = (req: Request, res: Response, next: NextFunction) => {\r\n  const bearerHeader = req.headers[\"authorization\"];\r\n\r\n  if (bearerHeader) {\r\n    const bearer = bearerHeader.split(\" \");\r\n    const bearerToken = bearer[1];\r\n\r\n    oktaJwtVerifier\r\n      .verifyAccessToken(bearerToken, \"api://default\")\r\n      .then((jwt: any) => {\r\n        // the token is valid\r\n        req.user = {\r\n          // @ts-ignore\r\n          sub: jwt.sub,\r\n        };\r\n        return next();\r\n      })\r\n      .catch((err: any) => {\r\n        // a validation failed, inspect the error\r\n        console.log(\"error\", err);\r\n      });\r\n  } else {\r\n    res.status(401).send({\r\n      error: \"Unauthorized\",\r\n    });\r\n  }\r\n};\r\n\r\n// Amazon Cognito Validate the JWT Signature\r\n// https://docs.aws.amazon.com/cognito/latest/developerguide/amazon-cognito-user-pools-using-tokens-verifying-a-jwt.html#amazon-cognito-user-pools-using-tokens-step-2\r\nconst awsCognitoJwtConfig = {\r\n  secret: jwksRsa.expressJwtSecret({\r\n    jwksUri: `https://cognito-idp.${awsConfig.aws_cognito_region}.amazonaws.com/${awsConfig.aws_user_pools_id}/.well-known/jwks.json`,\r\n  }),\r\n\r\n  issuer: `https://cognito-idp.${awsConfig.aws_cognito_region}.amazonaws.com/${awsConfig.aws_user_pools_id}`,\r\n  algorithms: [\"RS256\"],\r\n};\r\n\r\nexport const checkAuth0Jwt = jwt(auth0JwtConfig).unless({ path: [\"/testData/*\"] });\r\nexport const checkCognitoJwt = jwt(awsCognitoJwtConfig).unless({ path: [\"/testData/*\"] });\r\nexport const checkGoogleJwt = jwt(googleJwtConfig).unless({ path: [\"/testData/*\"] });\r\n\r\nexport const ensureAuthenticated = (req: Request, res: Response, next: NextFunction) => {\r\n  if (req.isAuthenticated()) {\r\n    // @ts-ignore\r\n    // Map sub to id on req.user\r\n    if (req.user?.sub) {\r\n      /* istanbul ignore next */\r\n      // @ts-ignore\r\n      set(req.user, \"id\", req.user.sub);\r\n    }\r\n    return next();\r\n  }\r\n  /* istanbul ignore next */\r\n  res.status(401).send({\r\n    error: \"Unauthorized\",\r\n  });\r\n};\r\n\r\nexport const validateMiddleware = (validations: any[]) => {\r\n  return async (req: Request, res: Response, next: NextFunction) => {\r\n    await Promise.all(validations.map((validation: any) => validation.run(req)));\r\n\r\n    const errors = validationResult(req);\r\n    if (errors.isEmpty()) {\r\n      return next();\r\n    }\r\n\r\n    res.status(422).json({ errors: errors.array() });\r\n  };\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"76fd8ec2eb47b9562d790dc2085c38f5540b137b","contentHash":"ff0e3af6cc3325d5695ce1fdac37d8edff8e50762b9c1279ec8a4e71d0dcc5e7"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\src\\aws-exports.js":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\src\\aws-exports.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":62}},"1":{"start":{"line":4,"column":16},"end":{"line":7,"column":1}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/src/aws-exports.js","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/src/aws-exports.js"],"names":[],"mappings":";AAAA,sBAAsB;;AAEtB,IAAM,SAAS,GAAG;IAChB,kBAAkB,EAAE,EAAE;IACtB,iBAAiB,EAAE,EAAE;CACtB,CAAC;AAEF,kBAAe,SAAS,CAAC","sourcesContent":["// mock aws-exports.js\r\n\r\nconst awsmobile = {\r\n  aws_cognito_region: \"\",\r\n  aws_user_pools_id: \"\",\r\n};\r\n\r\nexport default awsmobile;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"02daa103eb08f59c97e8d7e111b856ccccd16c31","contentHash":"d000341820091100c684a6166f13a485f1ef4f62f69be2f5cbd0d33020d4b9d8"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\validators.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\validators.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":513}},"2":{"start":{"line":4,"column":26},"end":{"line":4,"column":54}},"3":{"start":{"line":5,"column":16},"end":{"line":5,"column":34}},"4":{"start":{"line":6,"column":15},"end":{"line":6,"column":39}},"5":{"start":{"line":7,"column":11},"end":{"line":7,"column":31}},"6":{"start":{"line":8,"column":30},"end":{"line":8,"column":71}},"7":{"start":{"line":9,"column":26},"end":{"line":9,"column":74}},"8":{"start":{"line":10,"column":32},"end":{"line":10,"column":75}},"9":{"start":{"line":11,"column":30},"end":{"line":11,"column":71}},"10":{"start":{"line":13,"column":16},"end":{"line":13,"column":74}},"11":{"start":{"line":13,"column":35},"end":{"line":13,"column":72}},"12":{"start":{"line":14,"column":24},"end":{"line":14,"column":104}},"13":{"start":{"line":14,"column":41},"end":{"line":14,"column":102}},"14":{"start":{"line":15,"column":0},"end":{"line":15,"column":46}},"15":{"start":{"line":16,"column":0},"end":{"line":16,"column":72}},"16":{"start":{"line":17,"column":0},"end":{"line":24,"column":3}},"17":{"start":{"line":25,"column":0},"end":{"line":29,"column":2}},"18":{"start":{"line":30,"column":0},"end":{"line":42,"column":2}},"19":{"start":{"line":43,"column":0},"end":{"line":49,"column":3}},"20":{"start":{"line":45,"column":4},"end":{"line":47,"column":5}},"21":{"start":{"line":48,"column":4},"end":{"line":48,"column":11}},"22":{"start":{"line":51,"column":0},"end":{"line":57,"column":3}},"23":{"start":{"line":53,"column":4},"end":{"line":55,"column":5}},"24":{"start":{"line":56,"column":4},"end":{"line":56,"column":11}},"25":{"start":{"line":58,"column":0},"end":{"line":67,"column":2}},"26":{"start":{"line":68,"column":0},"end":{"line":75,"column":2}},"27":{"start":{"line":76,"column":0},"end":{"line":76,"column":113}},"28":{"start":{"line":77,"column":0},"end":{"line":79,"column":2}},"29":{"start":{"line":80,"column":0},"end":{"line":80,"column":88}},"30":{"start":{"line":81,"column":0},"end":{"line":84,"column":2}},"31":{"start":{"line":85,"column":0},"end":{"line":85,"column":93}},"32":{"start":{"line":86,"column":0},"end":{"line":99,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":13,"column":16},"end":{"line":13,"column":17}},"loc":{"start":{"line":13,"column":33},"end":{"line":13,"column":74}},"line":13},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":24},"end":{"line":14,"column":25}},"loc":{"start":{"line":14,"column":39},"end":{"line":14,"column":104}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":43,"column":101},"end":{"line":43,"column":102}},"loc":{"start":{"line":43,"column":118},"end":{"line":49,"column":1}},"line":43},"3":{"name":"(anonymous_3)","decl":{"start":{"line":51,"column":104},"end":{"line":51,"column":105}},"loc":{"start":{"line":51,"column":121},"end":{"line":57,"column":1}},"line":51}},"branchMap":{"0":{"loc":{"start":{"line":45,"column":4},"end":{"line":47,"column":5}},"type":"if","locations":[{"start":{"line":45,"column":4},"end":{"line":47,"column":5}}],"line":45},"1":{"loc":{"start":{"line":53,"column":4},"end":{"line":55,"column":5}},"type":"if","locations":[{"start":{"line":53,"column":4},"end":{"line":55,"column":5}}],"line":53}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1,"13":13,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":0,"21":0,"22":1,"23":0,"24":0,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1},"f":{"0":0,"1":13,"2":0,"3":0},"b":{"0":[0],"1":[0]},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/validators.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/validators.ts"],"names":[],"mappings":"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","sourcesContent":["import { body, check, oneOf, query, sanitizeQuery } from \"express-validator\";\r\nimport { isValid } from \"shortid\";\r\nimport {\r\n  TransactionStatus,\r\n  TransactionRequestStatus,\r\n  DefaultPrivacyLevel,\r\n  NotificationsType,\r\n} from \"../src/models\";\r\nimport { includes } from \"lodash/fp\";\r\n\r\nconst TransactionStatusValues = Object.values(TransactionStatus);\r\nconst RequestStatusValues = Object.values(TransactionRequestStatus);\r\nconst DefaultPrivacyLevelValues = Object.values(DefaultPrivacyLevel);\r\nconst NotificationsTypeValues = Object.values(NotificationsType);\r\n\r\n// Validators\r\n\r\nconst isShortId = (value: string) => isValid(value);\r\n\r\nexport const shortIdValidation = (key: string) => check(key).custom(isShortId);\r\n\r\nexport const searchValidation = query(\"q\").exists();\r\n\r\nexport const userFieldsValidator = oneOf([\r\n  check(\"firstName\").exists(),\r\n  check(\"lastName\").exists(),\r\n  check(\"password\").exists(),\r\n  check(\"balance\").exists(),\r\n  check(\"avatar\").exists(),\r\n  check(\"defaultPrivacyLevel\").exists(),\r\n]);\r\n\r\nexport const isBankAccountValidator = [\r\n  body(\"bankName\").isString().trim(),\r\n  body(\"accountNumber\").isString().trim(),\r\n  body(\"routingNumber\").isString().trim(),\r\n];\r\n\r\nexport const isUserValidator = [\r\n  check(\"firstName\").optional({ checkFalsy: true }).isString().trim(),\r\n  check(\"lastName\").optional({ checkFalsy: true }).isString().trim(),\r\n  check(\"username\").optional({ checkFalsy: true }).isString().trim(),\r\n  check(\"password\").optional({ checkFalsy: true }).isString().trim(),\r\n  check(\"email\").optional({ checkFalsy: true }).isString().trim(),\r\n  check(\"phoneNumber\").optional({ checkFalsy: true }).isString().trim(),\r\n  check(\"balance\").optional({ checkFalsy: true }).isNumeric().trim(),\r\n  check(\"avatar\").optional({ checkFalsy: true }).isURL().trim(),\r\n  check(\"defaultPrivacyLevel\")\r\n    .optional({ checkFalsy: true })\r\n    .isIn([\"public\", \"private\", \"contacts\"]),\r\n];\r\n\r\nexport const sanitizeTransactionStatus = sanitizeQuery(\"status\").customSanitizer((value) => {\r\n  /* istanbul ignore if*/\r\n  if (includes(value, TransactionStatusValues)) {\r\n    return value;\r\n  }\r\n  return;\r\n});\r\n\r\n// default request status to undefined if not provided\r\nexport const sanitizeRequestStatus = sanitizeQuery(\"requestStatus\").customSanitizer((value) => {\r\n  /* istanbul ignore if*/\r\n  if (includes(value, RequestStatusValues)) {\r\n    return value;\r\n  }\r\n  return;\r\n});\r\n\r\nexport const isTransactionQSValidator = [\r\n  query(\"status\").isIn(TransactionStatusValues).optional().trim(),\r\n  query(\"requestStatus\").optional({ checkFalsy: true }).isIn(RequestStatusValues).trim(),\r\n  query(\"receiverId\").optional({ checkFalsy: true }).isString().trim(),\r\n  query(\"senderId\").optional({ checkFalsy: true }).isString().trim(),\r\n  query(\"rangeStartTs\").optional({ checkFalsy: true }).isString().trim(),\r\n  query(\"rangeEndTs\").optional({ checkFalsy: true }).isString().trim(),\r\n  query(\"amountMax\").optional({ checkFalsy: true }).isNumeric().trim(),\r\n  query(\"amountMin\").optional({ checkFalsy: true }).isNumeric().trim(),\r\n];\r\n\r\nexport const isTransactionPayloadValidator = [\r\n  body(\"transactionType\").isIn([\"payment\", \"request\"]).trim(),\r\n  body(\"privacyLevel\").optional().isIn(DefaultPrivacyLevelValues).trim(),\r\n  body(\"source\").optional().isString().trim(),\r\n  body(\"receiverId\").isString().trim(),\r\n  body(\"description\").isString().trim(),\r\n  body(\"amount\").isNumeric().trim().toInt(),\r\n];\r\n\r\nexport const isTransactionPatchValidator = [body(\"requestStatus\").isIn(RequestStatusValues)];\r\n\r\nexport const isTransactionPublicQSValidator = [\r\n  query(\"order\").optional({ checkFalsy: true }).isIn([\"default\"]),\r\n];\r\n\r\nexport const isCommentValidator = body(\"content\").isString().trim();\r\n\r\nexport const isNotificationsBodyValidator = [\r\n  body(\"items.*.type\").isIn(NotificationsTypeValues).trim(),\r\n  body(\"items.*.transactionId\").custom(isShortId),\r\n];\r\n\r\nexport const isNotificationPatchValidator = [body(\"isRead\").isBoolean()];\r\n\r\nexport const isValidEntityValidator = [\r\n  check(\"entity\")\r\n    .isIn([\r\n      \"users\",\r\n      \"contacts\",\r\n      \"bankaccounts\",\r\n      \"notifications\",\r\n      \"transactions\",\r\n      \"likes\",\r\n      \"comments\",\r\n      \"banktransfers\",\r\n    ])\r\n    .trim(),\r\n];\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a5f830e768b05483c422d3dba489dc1ec46d67fc","contentHash":"14774debc8459f55eeb63c4730d37d6b17db20d4f3ab1938c532571b83ce5a26"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\contact-routes.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\contact-routes.ts","statementMap":{"0":{"start":{"line":3,"column":22},"end":{"line":5,"column":1}},"1":{"start":{"line":4,"column":4},"end":{"line":4,"column":62}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":62}},"3":{"start":{"line":7,"column":16},"end":{"line":7,"column":51}},"4":{"start":{"line":8,"column":17},"end":{"line":8,"column":38}},"5":{"start":{"line":9,"column":16},"end":{"line":9,"column":36}},"6":{"start":{"line":10,"column":19},"end":{"line":10,"column":42}},"7":{"start":{"line":11,"column":13},"end":{"line":11,"column":39}},"8":{"start":{"line":14,"column":0},"end":{"line":19,"column":3}},"9":{"start":{"line":15,"column":19},"end":{"line":15,"column":38}},"10":{"start":{"line":16,"column":19},"end":{"line":16,"column":66}},"11":{"start":{"line":17,"column":4},"end":{"line":17,"column":20}},"12":{"start":{"line":18,"column":4},"end":{"line":18,"column":37}},"13":{"start":{"line":21,"column":0},"end":{"line":28,"column":3}},"14":{"start":{"line":23,"column":24},"end":{"line":23,"column":46}},"15":{"start":{"line":26,"column":4},"end":{"line":26,"column":20}},"16":{"start":{"line":27,"column":4},"end":{"line":27,"column":35}},"17":{"start":{"line":30,"column":0},"end":{"line":35,"column":3}},"18":{"start":{"line":31,"column":20},"end":{"line":31,"column":40}},"19":{"start":{"line":32,"column":19},"end":{"line":32,"column":63}},"20":{"start":{"line":33,"column":4},"end":{"line":33,"column":20}},"21":{"start":{"line":34,"column":4},"end":{"line":34,"column":37}},"22":{"start":{"line":36,"column":0},"end":{"line":36,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":56},"end":{"line":3,"column":57}},"loc":{"start":{"line":3,"column":71},"end":{"line":5,"column":1}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":25},"end":{"line":14,"column":26}},"loc":{"start":{"line":14,"column":45},"end":{"line":19,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":21,"column":139},"end":{"line":21,"column":140}},"loc":{"start":{"line":21,"column":159},"end":{"line":28,"column":1}},"line":21},"3":{"name":"(anonymous_3)","decl":{"start":{"line":30,"column":147},"end":{"line":30,"column":148}},"loc":{"start":{"line":30,"column":167},"end":{"line":35,"column":1}},"line":30}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":22},"end":{"line":5,"column":1}},"type":"binary-expr","locations":[{"start":{"line":3,"column":23},"end":{"line":3,"column":27}},{"start":{"line":3,"column":31},"end":{"line":3,"column":51}},{"start":{"line":3,"column":56},"end":{"line":5,"column":1}}],"line":3},"1":{"loc":{"start":{"line":4,"column":11},"end":{"line":4,"column":61}},"type":"cond-expr","locations":[{"start":{"line":4,"column":37},"end":{"line":4,"column":40}},{"start":{"line":4,"column":43},"end":{"line":4,"column":61}}],"line":4},"2":{"loc":{"start":{"line":4,"column":12},"end":{"line":4,"column":33}},"type":"binary-expr","locations":[{"start":{"line":4,"column":12},"end":{"line":4,"column":15}},{"start":{"line":4,"column":19},"end":{"line":4,"column":33}}],"line":4}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/contact-routes.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/contact-routes.ts"],"names":[],"mappings":";AAAA,gCAAgC;;;;;AAEhC,oDAA8B;AAE9B,uCAA4F;AAC5F,qCAAoE;AACpE,2CAAiD;AACjD,IAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,SAAS;AACT,yBAAyB;AACzB,MAAM,CAAC,GAAG,CAAC,YAAY,EAAE,UAAC,GAAG,EAAE,GAAG;IACxB,IAAA,QAAQ,GAAK,GAAG,CAAC,MAAM,SAAf,CAAgB;IAEhC,IAAM,QAAQ,GAAG,IAAA,gCAAqB,EAAC,QAAQ,CAAC,CAAC;IAEjD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,IAAI,CAAC,EAAE,QAAQ,UAAA,EAAE,CAAC,CAAC;AACzB,CAAC,CAAC,CAAC;AAEH,8BAA8B;AAC9B,MAAM,CAAC,IAAI,CACT,GAAG,EACH,6BAAmB,EACnB,IAAA,4BAAkB,EAAC,CAAC,IAAA,8BAAiB,EAAC,eAAe,CAAC,CAAC,CAAC,EACxD,UAAC,GAAG,EAAE,GAAG;;IACC,IAAA,aAAa,GAAK,GAAG,CAAC,IAAI,cAAb,CAAc;IACnC,0BAA0B;IAC1B,IAAM,OAAO,GAAG,IAAA,+BAAoB,EAAC,MAAA,GAAG,CAAC,IAAI,0CAAE,EAAG,EAAE,aAAa,CAAC,CAAC;IAEnE,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,SAAA,EAAE,CAAC,CAAC;AACxB,CAAC,CACF,CAAC;AACF,2CAA2C;AAC3C,MAAM,CAAC,MAAM,CACX,aAAa,EACb,6BAAmB,EACnB,IAAA,4BAAkB,EAAC,CAAC,IAAA,8BAAiB,EAAC,WAAW,CAAC,CAAC,CAAC,EACpD,UAAC,GAAG,EAAE,GAAG;IACC,IAAA,SAAS,GAAK,GAAG,CAAC,MAAM,UAAf,CAAgB;IAEjC,IAAM,QAAQ,GAAG,IAAA,4BAAiB,EAAC,SAAS,CAAC,CAAC;IAE9C,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,IAAI,CAAC,EAAE,QAAQ,UAAA,EAAE,CAAC,CAAC;AACzB,CAAC,CACF,CAAC;AAEF,kBAAe,MAAM,CAAC","sourcesContent":["///<reference path=\"types.ts\" />\r\n\r\nimport express from \"express\";\r\n\r\nimport { getContactsByUsername, removeContactById, createContactForUser } from \"./database\";\r\nimport { ensureAuthenticated, validateMiddleware } from \"./helpers\";\r\nimport { shortIdValidation } from \"./validators\";\r\nconst router = express.Router();\r\n\r\n// Routes\r\n//GET /contacts/:username\r\nrouter.get(\"/:username\", (req, res) => {\r\n  const { username } = req.params;\r\n\r\n  const contacts = getContactsByUsername(username);\r\n\r\n  res.status(200);\r\n  res.json({ contacts });\r\n});\r\n\r\n//POST /contacts (scoped-user)\r\nrouter.post(\r\n  \"/\",\r\n  ensureAuthenticated,\r\n  validateMiddleware([shortIdValidation(\"contactUserId\")]),\r\n  (req, res) => {\r\n    const { contactUserId } = req.body;\r\n    /* istanbul ignore next */\r\n    const contact = createContactForUser(req.user?.id!, contactUserId);\r\n\r\n    res.status(200);\r\n    res.json({ contact });\r\n  }\r\n);\r\n//DELETE /contacts/:contactId (scoped-user)\r\nrouter.delete(\r\n  \"/:contactId\",\r\n  ensureAuthenticated,\r\n  validateMiddleware([shortIdValidation(\"contactId\")]),\r\n  (req, res) => {\r\n    const { contactId } = req.params;\r\n\r\n    const contacts = removeContactById(contactId);\r\n\r\n    res.status(200);\r\n    res.json({ contacts });\r\n  }\r\n);\r\n\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5167bf2abdb8448fe9fafa04c096f62bdfd028cf","contentHash":"6629565abadf97f3756de7b9ddff0e60aa37a24e62e797afc4e5c08bbd26c58b"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\bankaccount-routes.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\bankaccount-routes.ts","statementMap":{"0":{"start":{"line":3,"column":22},"end":{"line":5,"column":1}},"1":{"start":{"line":4,"column":4},"end":{"line":4,"column":62}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":62}},"3":{"start":{"line":7,"column":16},"end":{"line":7,"column":51}},"4":{"start":{"line":8,"column":17},"end":{"line":8,"column":38}},"5":{"start":{"line":9,"column":16},"end":{"line":9,"column":36}},"6":{"start":{"line":10,"column":19},"end":{"line":10,"column":42}},"7":{"start":{"line":11,"column":13},"end":{"line":11,"column":39}},"8":{"start":{"line":14,"column":0},"end":{"line":20,"column":3}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":20}},"10":{"start":{"line":19,"column":4},"end":{"line":19,"column":36}},"11":{"start":{"line":22,"column":0},"end":{"line":27,"column":3}},"12":{"start":{"line":23,"column":24},"end":{"line":23,"column":48}},"13":{"start":{"line":24,"column":18},"end":{"line":24,"column":67}},"14":{"start":{"line":25,"column":4},"end":{"line":25,"column":20}},"15":{"start":{"line":26,"column":4},"end":{"line":26,"column":35}},"16":{"start":{"line":29,"column":0},"end":{"line":35,"column":3}},"17":{"start":{"line":33,"column":4},"end":{"line":33,"column":20}},"18":{"start":{"line":34,"column":4},"end":{"line":34,"column":35}},"19":{"start":{"line":37,"column":0},"end":{"line":42,"column":3}},"20":{"start":{"line":38,"column":24},"end":{"line":38,"column":48}},"21":{"start":{"line":39,"column":18},"end":{"line":39,"column":70}},"22":{"start":{"line":40,"column":4},"end":{"line":40,"column":20}},"23":{"start":{"line":41,"column":4},"end":{"line":41,"column":35}},"24":{"start":{"line":43,"column":0},"end":{"line":43,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":56},"end":{"line":3,"column":57}},"loc":{"start":{"line":3,"column":71},"end":{"line":5,"column":1}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":47},"end":{"line":14,"column":48}},"loc":{"start":{"line":14,"column":67},"end":{"line":20,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":152},"end":{"line":22,"column":153}},"loc":{"start":{"line":22,"column":172},"end":{"line":27,"column":1}},"line":22},"3":{"name":"(anonymous_3)","decl":{"start":{"line":29,"column":120},"end":{"line":29,"column":121}},"loc":{"start":{"line":29,"column":140},"end":{"line":35,"column":1}},"line":29},"4":{"name":"(anonymous_4)","decl":{"start":{"line":37,"column":155},"end":{"line":37,"column":156}},"loc":{"start":{"line":37,"column":175},"end":{"line":42,"column":1}},"line":37}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":22},"end":{"line":5,"column":1}},"type":"binary-expr","locations":[{"start":{"line":3,"column":23},"end":{"line":3,"column":27}},{"start":{"line":3,"column":31},"end":{"line":3,"column":51}},{"start":{"line":3,"column":56},"end":{"line":5,"column":1}}],"line":3},"1":{"loc":{"start":{"line":4,"column":11},"end":{"line":4,"column":61}},"type":"cond-expr","locations":[{"start":{"line":4,"column":37},"end":{"line":4,"column":40}},{"start":{"line":4,"column":43},"end":{"line":4,"column":61}}],"line":4},"2":{"loc":{"start":{"line":4,"column":12},"end":{"line":4,"column":33}},"type":"binary-expr","locations":[{"start":{"line":4,"column":12},"end":{"line":4,"column":15}},{"start":{"line":4,"column":19},"end":{"line":4,"column":33}}],"line":4}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/bankaccount-routes.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/bankaccount-routes.ts"],"names":[],"mappings":";AAAA,gCAAgC;;;;;AAEhC,oDAA8B;AAE9B,uCAKoB;AACpB,qCAAoE;AACpE,2CAAyE;AACzE,IAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,SAAS;AAET,iCAAiC;AACjC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,6BAAmB,EAAE,UAAC,GAAG,EAAE,GAAG;;IAC5C,0BAA0B;IAC1B,IAAM,QAAQ,GAAG,IAAA,kCAAuB,EAAC,MAAA,GAAG,CAAC,IAAI,0CAAE,EAAG,CAAC,CAAC;IAExD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC,CAAC;AAClC,CAAC,CAAC,CAAC;AAEH,gDAAgD;AAChD,MAAM,CAAC,GAAG,CACR,iBAAiB,EACjB,6BAAmB,EACnB,IAAA,4BAAkB,EAAC,CAAC,IAAA,8BAAiB,EAAC,eAAe,CAAC,CAAC,CAAC,EACxD,UAAC,GAAG,EAAE,GAAG;IACC,IAAA,aAAa,GAAK,GAAG,CAAC,MAAM,cAAf,CAAgB;IAErC,IAAM,OAAO,GAAG,IAAA,6BAAkB,EAAC,aAAa,CAAC,CAAC;IAElD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,SAAA,EAAE,CAAC,CAAC;AACxB,CAAC,CACF,CAAC;AAEF,kCAAkC;AAClC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,6BAAmB,EAAE,IAAA,4BAAkB,EAAC,mCAAsB,CAAC,EAAE,UAAC,GAAG,EAAE,GAAG;;IACzF,0BAA0B;IAC1B,IAAM,OAAO,GAAG,IAAA,mCAAwB,EAAC,MAAA,GAAG,CAAC,IAAI,0CAAE,EAAG,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;IAElE,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,SAAA,EAAE,CAAC,CAAC;AACxB,CAAC,CAAC,CAAC;AAEH,2CAA2C;AAC3C,MAAM,CAAC,MAAM,CACX,iBAAiB,EACjB,6BAAmB,EACnB,IAAA,4BAAkB,EAAC,CAAC,IAAA,8BAAiB,EAAC,eAAe,CAAC,CAAC,CAAC,EACxD,UAAC,GAAG,EAAE,GAAG;IACC,IAAA,aAAa,GAAK,GAAG,CAAC,MAAM,cAAf,CAAgB;IAErC,IAAM,OAAO,GAAG,IAAA,gCAAqB,EAAC,aAAa,CAAC,CAAC;IAErD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,SAAA,EAAE,CAAC,CAAC;AACxB,CAAC,CACF,CAAC;AAEF,kBAAe,MAAM,CAAC","sourcesContent":["///<reference path=\"types.ts\" />\r\n\r\nimport express from \"express\";\r\n\r\nimport {\r\n  getBankAccountsByUserId,\r\n  getBankAccountById,\r\n  createBankAccountForUser,\r\n  removeBankAccountById,\r\n} from \"./database\";\r\nimport { ensureAuthenticated, validateMiddleware } from \"./helpers\";\r\nimport { shortIdValidation, isBankAccountValidator } from \"./validators\";\r\nconst router = express.Router();\r\n\r\n// Routes\r\n\r\n//GET /bankAccounts (scoped-user)\r\nrouter.get(\"/\", ensureAuthenticated, (req, res) => {\r\n  /* istanbul ignore next */\r\n  const accounts = getBankAccountsByUserId(req.user?.id!);\r\n\r\n  res.status(200);\r\n  res.json({ results: accounts });\r\n});\r\n\r\n//GET /bankAccounts/:bankAccountId (scoped-user)\r\nrouter.get(\r\n  \"/:bankAccountId\",\r\n  ensureAuthenticated,\r\n  validateMiddleware([shortIdValidation(\"bankAccountId\")]),\r\n  (req, res) => {\r\n    const { bankAccountId } = req.params;\r\n\r\n    const account = getBankAccountById(bankAccountId);\r\n\r\n    res.status(200);\r\n    res.json({ account });\r\n  }\r\n);\r\n\r\n//POST /bankAccounts (scoped-user)\r\nrouter.post(\"/\", ensureAuthenticated, validateMiddleware(isBankAccountValidator), (req, res) => {\r\n  /* istanbul ignore next */\r\n  const account = createBankAccountForUser(req.user?.id!, req.body);\r\n\r\n  res.status(200);\r\n  res.json({ account });\r\n});\r\n\r\n//DELETE (soft) /bankAccounts (scoped-user)\r\nrouter.delete(\r\n  \"/:bankAccountId\",\r\n  ensureAuthenticated,\r\n  validateMiddleware([shortIdValidation(\"bankAccountId\")]),\r\n  (req, res) => {\r\n    const { bankAccountId } = req.params;\r\n\r\n    const account = removeBankAccountById(bankAccountId);\r\n\r\n    res.status(200);\r\n    res.json({ account });\r\n  }\r\n);\r\n\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9ee5ab9ba996c0c50e56e6e54820ba2f90c3e9b4","contentHash":"8510cf4a1825d68e33465d0b340ea479c391394418cbb7d223ac76453bfa85cd"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\transaction-routes.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\transaction-routes.ts","statementMap":{"0":{"start":{"line":3,"column":20},"end":{"line":11,"column":1}},"1":{"start":{"line":4,"column":4},"end":{"line":9,"column":5}},"2":{"start":{"line":4,"column":40},"end":{"line":9,"column":5}},"3":{"start":{"line":4,"column":53},"end":{"line":4,"column":54}},"4":{"start":{"line":4,"column":60},"end":{"line":4,"column":71}},"5":{"start":{"line":5,"column":8},"end":{"line":8,"column":9}},"6":{"start":{"line":6,"column":12},"end":{"line":6,"column":65}},"7":{"start":{"line":6,"column":21},"end":{"line":6,"column":65}},"8":{"start":{"line":7,"column":12},"end":{"line":7,"column":28}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":61}},"10":{"start":{"line":12,"column":22},"end":{"line":14,"column":1}},"11":{"start":{"line":13,"column":4},"end":{"line":13,"column":62}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"13":{"start":{"line":16,"column":16},"end":{"line":16,"column":51}},"14":{"start":{"line":17,"column":11},"end":{"line":17,"column":31}},"15":{"start":{"line":18,"column":17},"end":{"line":18,"column":38}},"16":{"start":{"line":19,"column":16},"end":{"line":19,"column":36}},"17":{"start":{"line":20,"column":19},"end":{"line":20,"column":42}},"18":{"start":{"line":21,"column":25},"end":{"line":21,"column":65}},"19":{"start":{"line":22,"column":13},"end":{"line":22,"column":39}},"20":{"start":{"line":25,"column":0},"end":{"line":43,"column":3}},"21":{"start":{"line":32,"column":13},"end":{"line":32,"column":101}},"22":{"start":{"line":32,"column":116},"end":{"line":32,"column":129}},"23":{"start":{"line":32,"column":148},"end":{"line":32,"column":155}},"24":{"start":{"line":33,"column":4},"end":{"line":33,"column":20}},"25":{"start":{"line":34,"column":4},"end":{"line":42,"column":7}},"26":{"start":{"line":45,"column":0},"end":{"line":63,"column":3}},"27":{"start":{"line":52,"column":13},"end":{"line":52,"column":101}},"28":{"start":{"line":52,"column":116},"end":{"line":52,"column":129}},"29":{"start":{"line":52,"column":148},"end":{"line":52,"column":155}},"30":{"start":{"line":53,"column":4},"end":{"line":53,"column":20}},"31":{"start":{"line":54,"column":4},"end":{"line":62,"column":7}},"32":{"start":{"line":65,"column":0},"end":{"line":90,"column":3}},"33":{"start":{"line":67,"column":22},"end":{"line":67,"column":42}},"34":{"start":{"line":73,"column":31},"end":{"line":73,"column":64}},"35":{"start":{"line":73,"column":87},"end":{"line":73,"column":118}},"36":{"start":{"line":75,"column":4},"end":{"line":78,"column":5}},"37":{"start":{"line":76,"column":32},"end":{"line":76,"column":75}},"38":{"start":{"line":77,"column":8},"end":{"line":77,"column":97}},"39":{"start":{"line":79,"column":13},"end":{"line":79,"column":154}},"40":{"start":{"line":79,"column":169},"end":{"line":79,"column":182}},"41":{"start":{"line":79,"column":201},"end":{"line":79,"column":208}},"42":{"start":{"line":80,"column":4},"end":{"line":80,"column":20}},"43":{"start":{"line":81,"column":4},"end":{"line":89,"column":7}},"44":{"start":{"line":92,"column":0},"end":{"line":101,"column":3}},"45":{"start":{"line":94,"column":29},"end":{"line":94,"column":37}},"46":{"start":{"line":95,"column":26},"end":{"line":95,"column":60}},"47":{"start":{"line":96,"column":4},"end":{"line":96,"column":60}},"48":{"start":{"line":99,"column":4},"end":{"line":99,"column":20}},"49":{"start":{"line":100,"column":4},"end":{"line":100,"column":43}},"50":{"start":{"line":103,"column":0},"end":{"line":108,"column":3}},"51":{"start":{"line":104,"column":24},"end":{"line":104,"column":48}},"52":{"start":{"line":105,"column":22},"end":{"line":105,"column":77}},"53":{"start":{"line":106,"column":4},"end":{"line":106,"column":20}},"54":{"start":{"line":107,"column":4},"end":{"line":107,"column":43}},"55":{"start":{"line":110,"column":0},"end":{"line":115,"column":3}},"56":{"start":{"line":111,"column":24},"end":{"line":111,"column":48}},"57":{"start":{"line":114,"column":4},"end":{"line":114,"column":24}},"58":{"start":{"line":116,"column":0},"end":{"line":116,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":52},"end":{"line":3,"column":53}},"loc":{"start":{"line":3,"column":78},"end":{"line":11,"column":1}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":56},"end":{"line":12,"column":57}},"loc":{"start":{"line":12,"column":71},"end":{"line":14,"column":1}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":28,"column":50},"end":{"line":28,"column":51}},"loc":{"start":{"line":28,"column":70},"end":{"line":43,"column":1}},"line":28},"3":{"name":"(anonymous_3)","decl":{"start":{"line":48,"column":50},"end":{"line":48,"column":51}},"loc":{"start":{"line":48,"column":70},"end":{"line":63,"column":1}},"line":48},"4":{"name":"(anonymous_4)","decl":{"start":{"line":65,"column":133},"end":{"line":65,"column":134}},"loc":{"start":{"line":65,"column":153},"end":{"line":90,"column":1}},"line":65},"5":{"name":"(anonymous_5)","decl":{"start":{"line":92,"column":127},"end":{"line":92,"column":128}},"loc":{"start":{"line":92,"column":147},"end":{"line":101,"column":1}},"line":92},"6":{"name":"(anonymous_6)","decl":{"start":{"line":103,"column":152},"end":{"line":103,"column":153}},"loc":{"start":{"line":103,"column":172},"end":{"line":108,"column":1}},"line":103},"7":{"name":"(anonymous_7)","decl":{"start":{"line":110,"column":217},"end":{"line":110,"column":218}},"loc":{"start":{"line":110,"column":237},"end":{"line":115,"column":1}},"line":110}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":20},"end":{"line":11,"column":1}},"type":"binary-expr","locations":[{"start":{"line":3,"column":21},"end":{"line":3,"column":25}},{"start":{"line":3,"column":29},"end":{"line":3,"column":47}},{"start":{"line":3,"column":52},"end":{"line":11,"column":1}}],"line":3},"1":{"loc":{"start":{"line":4,"column":4},"end":{"line":9,"column":5}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":9,"column":5}},{"start":{"line":4,"column":4},"end":{"line":9,"column":5}}],"line":4},"2":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":38}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":12}},{"start":{"line":4,"column":16},"end":{"line":4,"column":38}}],"line":4},"3":{"loc":{"start":{"line":5,"column":8},"end":{"line":8,"column":9}},"type":"if","locations":[{"start":{"line":5,"column":8},"end":{"line":8,"column":9}},{"start":{"line":5,"column":8},"end":{"line":8,"column":9}}],"line":5},"4":{"loc":{"start":{"line":5,"column":12},"end":{"line":5,"column":30}},"type":"binary-expr","locations":[{"start":{"line":5,"column":12},"end":{"line":5,"column":14}},{"start":{"line":5,"column":18},"end":{"line":5,"column":30}}],"line":5},"5":{"loc":{"start":{"line":6,"column":12},"end":{"line":6,"column":65}},"type":"if","locations":[{"start":{"line":6,"column":12},"end":{"line":6,"column":65}},{"start":{"line":6,"column":12},"end":{"line":6,"column":65}}],"line":6},"6":{"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":59}},"type":"binary-expr","locations":[{"start":{"line":10,"column":21},"end":{"line":10,"column":23}},{"start":{"line":10,"column":27},"end":{"line":10,"column":59}}],"line":10},"7":{"loc":{"start":{"line":12,"column":22},"end":{"line":14,"column":1}},"type":"binary-expr","locations":[{"start":{"line":12,"column":23},"end":{"line":12,"column":27}},{"start":{"line":12,"column":31},"end":{"line":12,"column":51}},{"start":{"line":12,"column":56},"end":{"line":14,"column":1}}],"line":12},"8":{"loc":{"start":{"line":13,"column":11},"end":{"line":13,"column":61}},"type":"cond-expr","locations":[{"start":{"line":13,"column":37},"end":{"line":13,"column":40}},{"start":{"line":13,"column":43},"end":{"line":13,"column":61}}],"line":13},"9":{"loc":{"start":{"line":13,"column":12},"end":{"line":13,"column":33}},"type":"binary-expr","locations":[{"start":{"line":13,"column":12},"end":{"line":13,"column":15}},{"start":{"line":13,"column":19},"end":{"line":13,"column":33}}],"line":13},"10":{"loc":{"start":{"line":75,"column":4},"end":{"line":78,"column":5}},"type":"if","locations":[{"start":{"line":75,"column":4},"end":{"line":78,"column":5}},{"start":{"line":75,"column":4},"end":{"line":78,"column":5}}],"line":75},"11":{"loc":{"start":{"line":79,"column":88},"end":{"line":79,"column":153}},"type":"cond-expr","locations":[{"start":{"line":79,"column":102},"end":{"line":79,"column":132}},{"start":{"line":79,"column":135},"end":{"line":79,"column":153}}],"line":79}},"s":{"0":1,"1":3,"2":3,"3":3,"4":3,"5":17,"6":0,"7":0,"8":0,"9":3,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":1,"51":0,"52":0,"53":0,"54":0,"55":1,"56":0,"57":0,"58":1},"f":{"0":3,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"b":{"0":[1,1,1],"1":[3,0],"2":[3,0],"3":[0,17],"4":[17,17],"5":[0,0],"6":[3,3],"7":[1,1,1],"8":[0,1],"9":[1,1],"10":[0,0],"11":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/transaction-routes.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/transaction-routes.ts"],"names":[],"mappings":"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","sourcesContent":["///<reference path=\"types.ts\" />\r\n\r\nimport express from \"express\";\r\nimport { remove, isEmpty, slice, concat } from \"lodash/fp\";\r\nimport {\r\n  getTransactionsForUserContacts,\r\n  createTransaction,\r\n  updateTransactionById,\r\n  getPublicTransactionsDefaultSort,\r\n  getTransactionByIdForApi,\r\n  getTransactionsForUserForApi,\r\n  getPublicTransactionsByQuery,\r\n} from \"./database\";\r\nimport { ensureAuthenticated, validateMiddleware } from \"./helpers\";\r\nimport {\r\n  sanitizeTransactionStatus,\r\n  sanitizeRequestStatus,\r\n  isTransactionQSValidator,\r\n  isTransactionPayloadValidator,\r\n  shortIdValidation,\r\n  isTransactionPatchValidator,\r\n  isTransactionPublicQSValidator,\r\n} from \"./validators\";\r\nimport { getPaginatedItems } from \"../src/utils/transactionUtils\";\r\nconst router = express.Router();\r\n\r\n// Routes\r\n\r\n//GET /transactions - scoped user, auth-required\r\nrouter.get(\r\n  \"/\",\r\n  ensureAuthenticated,\r\n  validateMiddleware([\r\n    sanitizeTransactionStatus,\r\n    sanitizeRequestStatus,\r\n    ...isTransactionQSValidator,\r\n  ]),\r\n  (req, res) => {\r\n    /* istanbul ignore next */\r\n    const transactions = getTransactionsForUserForApi(req.user?.id!, req.query);\r\n\r\n    const { totalPages, data: paginatedItems } = getPaginatedItems(\r\n      req.query.page,\r\n      req.query.limit,\r\n      transactions\r\n    );\r\n\r\n    res.status(200);\r\n    res.json({\r\n      pageData: {\r\n        page: res.locals.paginate.page,\r\n        limit: res.locals.paginate.limit,\r\n        hasNextPages: res.locals.paginate.hasNextPages(totalPages),\r\n        totalPages,\r\n      },\r\n      results: paginatedItems,\r\n    });\r\n  }\r\n);\r\n\r\n//GET /transactions/contacts - scoped user, auth-required\r\nrouter.get(\r\n  \"/contacts\",\r\n  ensureAuthenticated,\r\n  validateMiddleware([\r\n    sanitizeTransactionStatus,\r\n    sanitizeRequestStatus,\r\n    ...isTransactionQSValidator,\r\n  ]),\r\n  (req, res) => {\r\n    /* istanbul ignore next */\r\n    const transactions = getTransactionsForUserContacts(req.user?.id!, req.query);\r\n\r\n    const { totalPages, data: paginatedItems } = getPaginatedItems(\r\n      req.query.page,\r\n      req.query.limit,\r\n      transactions\r\n    );\r\n\r\n    res.status(200);\r\n    res.json({\r\n      pageData: {\r\n        page: res.locals.paginate.page,\r\n        limit: res.locals.paginate.limit,\r\n        hasNextPages: res.locals.paginate.hasNextPages(totalPages),\r\n        totalPages,\r\n      },\r\n      results: paginatedItems,\r\n    });\r\n  }\r\n);\r\n\r\n//GET /transactions/public - auth-required\r\nrouter.get(\r\n  \"/public\",\r\n  ensureAuthenticated,\r\n  validateMiddleware(isTransactionPublicQSValidator),\r\n  (req, res) => {\r\n    const isFirstPage = req.query.page === 1;\r\n\r\n    /* istanbul ignore next */\r\n    let transactions = !isEmpty(req.query)\r\n      ? getPublicTransactionsByQuery(req.user?.id!, req.query)\r\n      : /* istanbul ignore next */\r\n        getPublicTransactionsDefaultSort(req.user?.id!);\r\n\r\n    const { contactsTransactions, publicTransactions } = transactions;\r\n\r\n    let publicTransactionsWithContacts;\r\n\r\n    if (isFirstPage) {\r\n      const firstFiveContacts = slice(0, 5, contactsTransactions);\r\n\r\n      publicTransactionsWithContacts = concat(firstFiveContacts, publicTransactions);\r\n    }\r\n\r\n    const { totalPages, data: paginatedItems } = getPaginatedItems(\r\n      req.query.page,\r\n      req.query.limit,\r\n      isFirstPage ? publicTransactionsWithContacts : publicTransactions\r\n    );\r\n\r\n    res.status(200);\r\n    res.json({\r\n      pageData: {\r\n        page: res.locals.paginate.page,\r\n        limit: res.locals.paginate.limit,\r\n        hasNextPages: res.locals.paginate.hasNextPages(totalPages),\r\n        totalPages,\r\n      },\r\n      results: paginatedItems,\r\n    });\r\n  }\r\n);\r\n\r\n//POST /transactions - scoped-user\r\nrouter.post(\r\n  \"/\",\r\n  ensureAuthenticated,\r\n  validateMiddleware(isTransactionPayloadValidator),\r\n  (req, res) => {\r\n    const transactionPayload = req.body;\r\n    const transactionType = transactionPayload.transactionType;\r\n\r\n    remove(\"transactionType\", transactionPayload);\r\n\r\n    /* istanbul ignore next */\r\n    const transaction = createTransaction(req.user?.id!, transactionType, transactionPayload);\r\n\r\n    res.status(200);\r\n    res.json({ transaction });\r\n  }\r\n);\r\n\r\n//GET /transactions/:transactionId - scoped-user\r\nrouter.get(\r\n  \"/:transactionId\",\r\n  ensureAuthenticated,\r\n  validateMiddleware([shortIdValidation(\"transactionId\")]),\r\n  (req, res) => {\r\n    const { transactionId } = req.params;\r\n\r\n    const transaction = getTransactionByIdForApi(transactionId);\r\n\r\n    res.status(200);\r\n    res.json({ transaction });\r\n  }\r\n);\r\n\r\n//PATCH /transactions/:transactionId - scoped-user\r\nrouter.patch(\r\n  \"/:transactionId\",\r\n  ensureAuthenticated,\r\n  validateMiddleware([shortIdValidation(\"transactionId\"), ...isTransactionPatchValidator]),\r\n  (req, res) => {\r\n    const { transactionId } = req.params;\r\n\r\n    /* istanbul ignore next */\r\n    updateTransactionById(transactionId, req.body);\r\n\r\n    res.sendStatus(204);\r\n  }\r\n);\r\n\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"44f942c948f3574829b8ec87055dff566c15a09d","contentHash":"94ecda83499652e412931fb7989cafe0400b22fa817d7d2eba97e654060ce934"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\like-routes.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\like-routes.ts","statementMap":{"0":{"start":{"line":3,"column":22},"end":{"line":5,"column":1}},"1":{"start":{"line":4,"column":4},"end":{"line":4,"column":62}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":62}},"3":{"start":{"line":7,"column":16},"end":{"line":7,"column":51}},"4":{"start":{"line":8,"column":17},"end":{"line":8,"column":38}},"5":{"start":{"line":9,"column":16},"end":{"line":9,"column":36}},"6":{"start":{"line":10,"column":19},"end":{"line":10,"column":42}},"7":{"start":{"line":11,"column":13},"end":{"line":11,"column":39}},"8":{"start":{"line":14,"column":0},"end":{"line":19,"column":3}},"9":{"start":{"line":15,"column":24},"end":{"line":15,"column":48}},"10":{"start":{"line":16,"column":16},"end":{"line":16,"column":70}},"11":{"start":{"line":17,"column":4},"end":{"line":17,"column":20}},"12":{"start":{"line":18,"column":4},"end":{"line":18,"column":31}},"13":{"start":{"line":21,"column":0},"end":{"line":27,"column":3}},"14":{"start":{"line":23,"column":24},"end":{"line":23,"column":48}},"15":{"start":{"line":26,"column":4},"end":{"line":26,"column":24}},"16":{"start":{"line":28,"column":0},"end":{"line":28,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":56},"end":{"line":3,"column":57}},"loc":{"start":{"line":3,"column":71},"end":{"line":5,"column":1}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":152},"end":{"line":14,"column":153}},"loc":{"start":{"line":14,"column":172},"end":{"line":19,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":21,"column":153},"end":{"line":21,"column":154}},"loc":{"start":{"line":21,"column":173},"end":{"line":27,"column":1}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":22},"end":{"line":5,"column":1}},"type":"binary-expr","locations":[{"start":{"line":3,"column":23},"end":{"line":3,"column":27}},{"start":{"line":3,"column":31},"end":{"line":3,"column":51}},{"start":{"line":3,"column":56},"end":{"line":5,"column":1}}],"line":3},"1":{"loc":{"start":{"line":4,"column":11},"end":{"line":4,"column":61}},"type":"cond-expr","locations":[{"start":{"line":4,"column":37},"end":{"line":4,"column":40}},{"start":{"line":4,"column":43},"end":{"line":4,"column":61}}],"line":4},"2":{"loc":{"start":{"line":4,"column":12},"end":{"line":4,"column":33}},"type":"binary-expr","locations":[{"start":{"line":4,"column":12},"end":{"line":4,"column":15}},{"start":{"line":4,"column":19},"end":{"line":4,"column":33}}],"line":4}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/like-routes.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/like-routes.ts"],"names":[],"mappings":";AAAA,gCAAgC;;;;;AAEhC,oDAA8B;AAC9B,uCAAkE;AAClE,qCAAoE;AACpE,2CAAiD;AACjD,IAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,SAAS;AAET,2BAA2B;AAC3B,MAAM,CAAC,GAAG,CACR,iBAAiB,EACjB,6BAAmB,EACnB,IAAA,4BAAkB,EAAC,CAAC,IAAA,8BAAiB,EAAC,eAAe,CAAC,CAAC,CAAC,EACxD,UAAC,GAAG,EAAE,GAAG;IACC,IAAA,aAAa,GAAK,GAAG,CAAC,MAAM,cAAf,CAAgB;IACrC,IAAM,KAAK,GAAG,IAAA,kCAAuB,EAAC,aAAa,CAAC,CAAC;IAErD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,IAAI,CAAC,EAAE,KAAK,OAAA,EAAE,CAAC,CAAC;AACtB,CAAC,CACF,CAAC;AAEF,4BAA4B;AAC5B,MAAM,CAAC,IAAI,CACT,iBAAiB,EACjB,6BAAmB,EACnB,IAAA,4BAAkB,EAAC,CAAC,IAAA,8BAAiB,EAAC,eAAe,CAAC,CAAC,CAAC,EACxD,UAAC,GAAG,EAAE,GAAG;;IACC,IAAA,aAAa,GAAK,GAAG,CAAC,MAAM,cAAf,CAAgB;IACrC,0BAA0B;IAC1B,IAAA,sBAAW,EAAC,MAAA,GAAG,CAAC,IAAI,0CAAE,EAAG,EAAE,aAAa,CAAC,CAAC;IAE1C,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;AACtB,CAAC,CACF,CAAC;AAEF,kBAAe,MAAM,CAAC","sourcesContent":["///<reference path=\"types.ts\" />\r\n\r\nimport express from \"express\";\r\nimport { getLikesByTransactionId, createLikes } from \"./database\";\r\nimport { ensureAuthenticated, validateMiddleware } from \"./helpers\";\r\nimport { shortIdValidation } from \"./validators\";\r\nconst router = express.Router();\r\n\r\n// Routes\r\n\r\n//GET /likes/:transactionId\r\nrouter.get(\r\n  \"/:transactionId\",\r\n  ensureAuthenticated,\r\n  validateMiddleware([shortIdValidation(\"transactionId\")]),\r\n  (req, res) => {\r\n    const { transactionId } = req.params;\r\n    const likes = getLikesByTransactionId(transactionId);\r\n\r\n    res.status(200);\r\n    res.json({ likes });\r\n  }\r\n);\r\n\r\n//POST /likes/:transactionId\r\nrouter.post(\r\n  \"/:transactionId\",\r\n  ensureAuthenticated,\r\n  validateMiddleware([shortIdValidation(\"transactionId\")]),\r\n  (req, res) => {\r\n    const { transactionId } = req.params;\r\n    /* istanbul ignore next */\r\n    createLikes(req.user?.id!, transactionId);\r\n\r\n    res.sendStatus(200);\r\n  }\r\n);\r\n\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"97cac7aba8a35031a0cefada86e6f499e99678bf","contentHash":"c7140c208150341a6d760dc3b7534fe1339cf63883f3fc97222259221795707f"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\comment-routes.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\comment-routes.ts","statementMap":{"0":{"start":{"line":3,"column":22},"end":{"line":5,"column":1}},"1":{"start":{"line":4,"column":4},"end":{"line":4,"column":62}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":62}},"3":{"start":{"line":7,"column":16},"end":{"line":7,"column":51}},"4":{"start":{"line":8,"column":17},"end":{"line":8,"column":38}},"5":{"start":{"line":9,"column":16},"end":{"line":9,"column":36}},"6":{"start":{"line":10,"column":19},"end":{"line":10,"column":42}},"7":{"start":{"line":11,"column":13},"end":{"line":11,"column":39}},"8":{"start":{"line":14,"column":0},"end":{"line":19,"column":3}},"9":{"start":{"line":15,"column":24},"end":{"line":15,"column":48}},"10":{"start":{"line":16,"column":19},"end":{"line":16,"column":76}},"11":{"start":{"line":17,"column":4},"end":{"line":17,"column":20}},"12":{"start":{"line":18,"column":4},"end":{"line":18,"column":37}},"13":{"start":{"line":21,"column":0},"end":{"line":28,"column":3}},"14":{"start":{"line":23,"column":24},"end":{"line":23,"column":48}},"15":{"start":{"line":24,"column":18},"end":{"line":24,"column":34}},"16":{"start":{"line":27,"column":4},"end":{"line":27,"column":24}},"17":{"start":{"line":29,"column":0},"end":{"line":29,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":56},"end":{"line":3,"column":57}},"loc":{"start":{"line":3,"column":71},"end":{"line":5,"column":1}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":152},"end":{"line":14,"column":153}},"loc":{"start":{"line":14,"column":172},"end":{"line":19,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":21,"column":186},"end":{"line":21,"column":187}},"loc":{"start":{"line":21,"column":206},"end":{"line":28,"column":1}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":22},"end":{"line":5,"column":1}},"type":"binary-expr","locations":[{"start":{"line":3,"column":23},"end":{"line":3,"column":27}},{"start":{"line":3,"column":31},"end":{"line":3,"column":51}},{"start":{"line":3,"column":56},"end":{"line":5,"column":1}}],"line":3},"1":{"loc":{"start":{"line":4,"column":11},"end":{"line":4,"column":61}},"type":"cond-expr","locations":[{"start":{"line":4,"column":37},"end":{"line":4,"column":40}},{"start":{"line":4,"column":43},"end":{"line":4,"column":61}}],"line":4},"2":{"loc":{"start":{"line":4,"column":12},"end":{"line":4,"column":33}},"type":"binary-expr","locations":[{"start":{"line":4,"column":12},"end":{"line":4,"column":15}},{"start":{"line":4,"column":19},"end":{"line":4,"column":33}}],"line":4}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/comment-routes.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/comment-routes.ts"],"names":[],"mappings":";AAAA,gCAAgC;;;;;AAEhC,oDAA8B;AAC9B,uCAAwE;AACxE,qCAAoE;AACpE,2CAAqE;AACrE,IAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,SAAS;AAET,8BAA8B;AAC9B,MAAM,CAAC,GAAG,CACR,iBAAiB,EACjB,6BAAmB,EACnB,IAAA,4BAAkB,EAAC,CAAC,IAAA,8BAAiB,EAAC,eAAe,CAAC,CAAC,CAAC,EACxD,UAAC,GAAG,EAAE,GAAG;IACC,IAAA,aAAa,GAAK,GAAG,CAAC,MAAM,cAAf,CAAgB;IACrC,IAAM,QAAQ,GAAG,IAAA,qCAA0B,EAAC,aAAa,CAAC,CAAC;IAE3D,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,IAAI,CAAC,EAAE,QAAQ,UAAA,EAAE,CAAC,CAAC;AACzB,CAAC,CACF,CAAC;AAEF,+BAA+B;AAC/B,MAAM,CAAC,IAAI,CACT,iBAAiB,EACjB,6BAAmB,EACnB,IAAA,4BAAkB,EAAC,CAAC,IAAA,8BAAiB,EAAC,eAAe,CAAC,EAAE,+BAAkB,CAAC,CAAC,EAC5E,UAAC,GAAG,EAAE,GAAG;;IACC,IAAA,aAAa,GAAK,GAAG,CAAC,MAAM,cAAf,CAAgB;IAC7B,IAAA,OAAO,GAAK,GAAG,CAAC,IAAI,QAAb,CAAc;IAE7B,0BAA0B;IAC1B,IAAA,yBAAc,EAAC,MAAA,GAAG,CAAC,IAAI,0CAAE,EAAG,EAAE,aAAa,EAAE,OAAO,CAAC,CAAC;IAEtD,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;AACtB,CAAC,CACF,CAAC;AAEF,kBAAe,MAAM,CAAC","sourcesContent":["///<reference path=\"types.ts\" />\r\n\r\nimport express from \"express\";\r\nimport { getCommentsByTransactionId, createComments } from \"./database\";\r\nimport { ensureAuthenticated, validateMiddleware } from \"./helpers\";\r\nimport { shortIdValidation, isCommentValidator } from \"./validators\";\r\nconst router = express.Router();\r\n\r\n// Routes\r\n\r\n//GET /comments/:transactionId\r\nrouter.get(\r\n  \"/:transactionId\",\r\n  ensureAuthenticated,\r\n  validateMiddleware([shortIdValidation(\"transactionId\")]),\r\n  (req, res) => {\r\n    const { transactionId } = req.params;\r\n    const comments = getCommentsByTransactionId(transactionId);\r\n\r\n    res.status(200);\r\n    res.json({ comments });\r\n  }\r\n);\r\n\r\n//POST /comments/:transactionId\r\nrouter.post(\r\n  \"/:transactionId\",\r\n  ensureAuthenticated,\r\n  validateMiddleware([shortIdValidation(\"transactionId\"), isCommentValidator]),\r\n  (req, res) => {\r\n    const { transactionId } = req.params;\r\n    const { content } = req.body;\r\n\r\n    /* istanbul ignore next */\r\n    createComments(req.user?.id!, transactionId, content);\r\n\r\n    res.sendStatus(200);\r\n  }\r\n);\r\n\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8614bd749e0b8a7ece6f51ddd307f42746cb381c","contentHash":"d6dccebf1f4a22986a71588b859e87863455e0d37d446bee92061f28a1099b2a"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\notification-routes.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\notification-routes.ts","statementMap":{"0":{"start":{"line":3,"column":20},"end":{"line":11,"column":1}},"1":{"start":{"line":4,"column":4},"end":{"line":9,"column":5}},"2":{"start":{"line":4,"column":40},"end":{"line":9,"column":5}},"3":{"start":{"line":4,"column":53},"end":{"line":4,"column":54}},"4":{"start":{"line":4,"column":60},"end":{"line":4,"column":71}},"5":{"start":{"line":5,"column":8},"end":{"line":8,"column":9}},"6":{"start":{"line":6,"column":12},"end":{"line":6,"column":65}},"7":{"start":{"line":6,"column":21},"end":{"line":6,"column":65}},"8":{"start":{"line":7,"column":12},"end":{"line":7,"column":28}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":61}},"10":{"start":{"line":12,"column":22},"end":{"line":14,"column":1}},"11":{"start":{"line":13,"column":4},"end":{"line":13,"column":62}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"13":{"start":{"line":16,"column":16},"end":{"line":16,"column":51}},"14":{"start":{"line":17,"column":17},"end":{"line":17,"column":38}},"15":{"start":{"line":18,"column":16},"end":{"line":18,"column":36}},"16":{"start":{"line":19,"column":19},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":13},"end":{"line":20,"column":39}},"18":{"start":{"line":23,"column":0},"end":{"line":29,"column":3}},"19":{"start":{"line":27,"column":4},"end":{"line":27,"column":20}},"20":{"start":{"line":28,"column":4},"end":{"line":28,"column":41}},"21":{"start":{"line":31,"column":0},"end":{"line":39,"column":3}},"22":{"start":{"line":33,"column":16},"end":{"line":33,"column":30}},"23":{"start":{"line":36,"column":4},"end":{"line":36,"column":20}},"24":{"start":{"line":38,"column":4},"end":{"line":38,"column":41}},"25":{"start":{"line":41,"column":0},"end":{"line":47,"column":3}},"26":{"start":{"line":43,"column":25},"end":{"line":43,"column":50}},"27":{"start":{"line":46,"column":4},"end":{"line":46,"column":24}},"28":{"start":{"line":48,"column":0},"end":{"line":48,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":52},"end":{"line":3,"column":53}},"loc":{"start":{"line":3,"column":78},"end":{"line":11,"column":1}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":56},"end":{"line":12,"column":57}},"loc":{"start":{"line":12,"column":71},"end":{"line":14,"column":1}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":47},"end":{"line":23,"column":48}},"loc":{"start":{"line":23,"column":67},"end":{"line":29,"column":1}},"line":23},"3":{"name":"(anonymous_3)","decl":{"start":{"line":31,"column":155},"end":{"line":31,"column":156}},"loc":{"start":{"line":31,"column":175},"end":{"line":39,"column":1}},"line":31},"4":{"name":"(anonymous_4)","decl":{"start":{"line":41,"column":220},"end":{"line":41,"column":221}},"loc":{"start":{"line":41,"column":240},"end":{"line":47,"column":1}},"line":41}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":20},"end":{"line":11,"column":1}},"type":"binary-expr","locations":[{"start":{"line":3,"column":21},"end":{"line":3,"column":25}},{"start":{"line":3,"column":29},"end":{"line":3,"column":47}},{"start":{"line":3,"column":52},"end":{"line":11,"column":1}}],"line":3},"1":{"loc":{"start":{"line":4,"column":4},"end":{"line":9,"column":5}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":9,"column":5}},{"start":{"line":4,"column":4},"end":{"line":9,"column":5}}],"line":4},"2":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":38}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":12}},{"start":{"line":4,"column":16},"end":{"line":4,"column":38}}],"line":4},"3":{"loc":{"start":{"line":5,"column":8},"end":{"line":8,"column":9}},"type":"if","locations":[{"start":{"line":5,"column":8},"end":{"line":8,"column":9}},{"start":{"line":5,"column":8},"end":{"line":8,"column":9}}],"line":5},"4":{"loc":{"start":{"line":5,"column":12},"end":{"line":5,"column":30}},"type":"binary-expr","locations":[{"start":{"line":5,"column":12},"end":{"line":5,"column":14}},{"start":{"line":5,"column":18},"end":{"line":5,"column":30}}],"line":5},"5":{"loc":{"start":{"line":6,"column":12},"end":{"line":6,"column":65}},"type":"if","locations":[{"start":{"line":6,"column":12},"end":{"line":6,"column":65}},{"start":{"line":6,"column":12},"end":{"line":6,"column":65}}],"line":6},"6":{"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":59}},"type":"binary-expr","locations":[{"start":{"line":10,"column":21},"end":{"line":10,"column":23}},{"start":{"line":10,"column":27},"end":{"line":10,"column":59}}],"line":10},"7":{"loc":{"start":{"line":12,"column":22},"end":{"line":14,"column":1}},"type":"binary-expr","locations":[{"start":{"line":12,"column":23},"end":{"line":12,"column":27}},{"start":{"line":12,"column":31},"end":{"line":12,"column":51}},{"start":{"line":12,"column":56},"end":{"line":14,"column":1}}],"line":12},"8":{"loc":{"start":{"line":13,"column":11},"end":{"line":13,"column":61}},"type":"cond-expr","locations":[{"start":{"line":13,"column":37},"end":{"line":13,"column":40}},{"start":{"line":13,"column":43},"end":{"line":13,"column":61}}],"line":13},"9":{"loc":{"start":{"line":13,"column":12},"end":{"line":13,"column":33}},"type":"binary-expr","locations":[{"start":{"line":13,"column":12},"end":{"line":13,"column":15}},{"start":{"line":13,"column":19},"end":{"line":13,"column":33}}],"line":13}},"s":{"0":1,"1":2,"2":2,"3":2,"4":2,"5":3,"6":0,"7":0,"8":0,"9":2,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":1},"f":{"0":2,"1":1,"2":0,"3":0,"4":0},"b":{"0":[1,1,1],"1":[2,0],"2":[2,0],"3":[0,3],"4":[3,3],"5":[0,0],"6":[2,2],"7":[1,1,1],"8":[0,1],"9":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/notification-routes.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/notification-routes.ts"],"names":[],"mappings":";AAAA,gCAAgC;;;;;;;;;;;;;;AAEhC,oDAA8B;AAC9B,uCAIoB;AACpB,qCAAoE;AACpE,2CAIsB;AACtB,IAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,SAAS;AAET,qBAAqB;AACrB,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,6BAAmB,EAAE,UAAC,GAAG,EAAE,GAAG;;IAC5C,0BAA0B;IAC1B,IAAM,aAAa,GAAG,IAAA,yCAA8B,EAAC,MAAA,GAAG,CAAC,IAAI,0CAAE,EAAG,CAAC,CAAC;IAEpE,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,CAAC,CAAC;AACvC,CAAC,CAAC,CAAC;AAEH,0BAA0B;AAC1B,MAAM,CAAC,IAAI,CACT,OAAO,EACP,6BAAmB,EACnB,IAAA,4BAAkB,oBAAK,yCAA4B,QAAE,EACrD,UAAC,GAAG,EAAE,GAAG;;IACC,IAAA,KAAK,GAAK,GAAG,CAAC,IAAI,MAAb,CAAc;IAC3B,0BAA0B;IAC1B,IAAM,aAAa,GAAG,IAAA,8BAAmB,EAAC,MAAA,GAAG,CAAC,IAAI,0CAAE,EAAG,EAAE,KAAK,CAAC,CAAC;IAEhE,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,aAAa;IACb,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,CAAC,CAAC;AACvC,CAAC,CACF,CAAC;AAEF,oDAAoD;AACpD,MAAM,CAAC,KAAK,CACV,kBAAkB,EAClB,6BAAmB,EACnB,IAAA,4BAAkB,iBAAE,IAAA,8BAAiB,EAAC,gBAAgB,CAAC,GAAK,yCAA4B,QAAE,EAC1F,UAAC,GAAG,EAAE,GAAG;;IACC,IAAA,cAAc,GAAK,GAAG,CAAC,MAAM,eAAf,CAAgB;IACtC,0BAA0B;IAC1B,IAAA,iCAAsB,EAAC,MAAA,GAAG,CAAC,IAAI,0CAAE,EAAG,EAAE,cAAc,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;IAEhE,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;AACtB,CAAC,CACF,CAAC;AAEF,kBAAe,MAAM,CAAC","sourcesContent":["///<reference path=\"types.ts\" />\r\n\r\nimport express from \"express\";\r\nimport {\r\n  createNotifications,\r\n  updateNotificationById,\r\n  getUnreadNotificationsByUserId,\r\n} from \"./database\";\r\nimport { ensureAuthenticated, validateMiddleware } from \"./helpers\";\r\nimport {\r\n  isNotificationsBodyValidator,\r\n  shortIdValidation,\r\n  isNotificationPatchValidator,\r\n} from \"./validators\";\r\nconst router = express.Router();\r\n\r\n// Routes\r\n\r\n//GET /notifications/\r\nrouter.get(\"/\", ensureAuthenticated, (req, res) => {\r\n  /* istanbul ignore next */\r\n  const notifications = getUnreadNotificationsByUserId(req.user?.id!);\r\n\r\n  res.status(200);\r\n  res.json({ results: notifications });\r\n});\r\n\r\n//POST /notifications/bulk\r\nrouter.post(\r\n  \"/bulk\",\r\n  ensureAuthenticated,\r\n  validateMiddleware([...isNotificationsBodyValidator]),\r\n  (req, res) => {\r\n    const { items } = req.body;\r\n    /* istanbul ignore next */\r\n    const notifications = createNotifications(req.user?.id!, items);\r\n\r\n    res.status(200);\r\n    // @ts-ignore\r\n    res.json({ results: notifications });\r\n  }\r\n);\r\n\r\n//PATCH /notifications/:notificationId - scoped-user\r\nrouter.patch(\r\n  \"/:notificationId\",\r\n  ensureAuthenticated,\r\n  validateMiddleware([shortIdValidation(\"notificationId\"), ...isNotificationPatchValidator]),\r\n  (req, res) => {\r\n    const { notificationId } = req.params;\r\n    /* istanbul ignore next */\r\n    updateNotificationById(req.user?.id!, notificationId, req.body);\r\n\r\n    res.sendStatus(204);\r\n  }\r\n);\r\n\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"649d199f2ea9f85125aece406cd39acb96013292","contentHash":"dd3a23e74db681fe04133cbd4bb8ddce8d903e1b16322a4bd99a264182c6f3ae"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\banktransfer-routes.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\banktransfer-routes.ts","statementMap":{"0":{"start":{"line":3,"column":22},"end":{"line":5,"column":1}},"1":{"start":{"line":4,"column":4},"end":{"line":4,"column":62}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":62}},"3":{"start":{"line":7,"column":16},"end":{"line":7,"column":51}},"4":{"start":{"line":8,"column":17},"end":{"line":8,"column":38}},"5":{"start":{"line":9,"column":16},"end":{"line":9,"column":36}},"6":{"start":{"line":10,"column":13},"end":{"line":10,"column":39}},"7":{"start":{"line":13,"column":0},"end":{"line":19,"column":3}},"8":{"start":{"line":17,"column":4},"end":{"line":17,"column":20}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":39}},"10":{"start":{"line":20,"column":0},"end":{"line":20,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":56},"end":{"line":3,"column":57}},"loc":{"start":{"line":3,"column":71},"end":{"line":5,"column":1}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":47},"end":{"line":13,"column":48}},"loc":{"start":{"line":13,"column":67},"end":{"line":19,"column":1}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":22},"end":{"line":5,"column":1}},"type":"binary-expr","locations":[{"start":{"line":3,"column":23},"end":{"line":3,"column":27}},{"start":{"line":3,"column":31},"end":{"line":3,"column":51}},{"start":{"line":3,"column":56},"end":{"line":5,"column":1}}],"line":3},"1":{"loc":{"start":{"line":4,"column":11},"end":{"line":4,"column":61}},"type":"cond-expr","locations":[{"start":{"line":4,"column":37},"end":{"line":4,"column":40}},{"start":{"line":4,"column":43},"end":{"line":4,"column":61}}],"line":4},"2":{"loc":{"start":{"line":4,"column":12},"end":{"line":4,"column":33}},"type":"binary-expr","locations":[{"start":{"line":4,"column":12},"end":{"line":4,"column":15}},{"start":{"line":4,"column":19},"end":{"line":4,"column":33}}],"line":4}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":1},"f":{"0":1,"1":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/banktransfer-routes.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/banktransfer-routes.ts"],"names":[],"mappings":";AAAA,gCAAgC;;;;;AAEhC,oDAA8B;AAE9B,uCAAsD;AACtD,qCAAgD;AAChD,IAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,SAAS;AAET,kCAAkC;AAClC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,6BAAmB,EAAE,UAAC,GAAG,EAAE,GAAG;;IAC5C,0BAA0B;IAC1B,IAAM,SAAS,GAAG,IAAA,mCAAwB,EAAC,MAAA,GAAG,CAAC,IAAI,0CAAE,EAAG,CAAC,CAAC;IAE1D,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,IAAI,CAAC,EAAE,SAAS,WAAA,EAAE,CAAC,CAAC;AAC1B,CAAC,CAAC,CAAC;AAEH,kBAAe,MAAM,CAAC","sourcesContent":["///<reference path=\"types.ts\" />\r\n\r\nimport express from \"express\";\r\n\r\nimport { getBankTransfersByUserId } from \"./database\";\r\nimport { ensureAuthenticated } from \"./helpers\";\r\nconst router = express.Router();\r\n\r\n// Routes\r\n\r\n//GET /bankTransfers (scoped-user)\r\nrouter.get(\"/\", ensureAuthenticated, (req, res) => {\r\n  /* istanbul ignore next */\r\n  const transfers = getBankTransfersByUserId(req.user?.id!);\r\n\r\n  res.status(200);\r\n  res.json({ transfers });\r\n});\r\n\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"61e10c691586594d0f01fc813f30299a8f1734ff","contentHash":"654d617e7e12dede3e6a7e81f2de41e64e263b3f53bf82148d59312595f0b4ed"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\testdata-routes.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\testdata-routes.ts","statementMap":{"0":{"start":{"line":3,"column":20},"end":{"line":11,"column":1}},"1":{"start":{"line":4,"column":4},"end":{"line":9,"column":5}},"2":{"start":{"line":4,"column":40},"end":{"line":9,"column":5}},"3":{"start":{"line":4,"column":53},"end":{"line":4,"column":54}},"4":{"start":{"line":4,"column":60},"end":{"line":4,"column":71}},"5":{"start":{"line":5,"column":8},"end":{"line":8,"column":9}},"6":{"start":{"line":6,"column":12},"end":{"line":6,"column":65}},"7":{"start":{"line":6,"column":21},"end":{"line":6,"column":65}},"8":{"start":{"line":7,"column":12},"end":{"line":7,"column":28}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":61}},"10":{"start":{"line":12,"column":22},"end":{"line":14,"column":1}},"11":{"start":{"line":13,"column":4},"end":{"line":13,"column":62}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"13":{"start":{"line":16,"column":16},"end":{"line":16,"column":51}},"14":{"start":{"line":17,"column":17},"end":{"line":17,"column":38}},"15":{"start":{"line":18,"column":16},"end":{"line":18,"column":36}},"16":{"start":{"line":19,"column":19},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":13},"end":{"line":20,"column":39}},"18":{"start":{"line":23,"column":0},"end":{"line":26,"column":3}},"19":{"start":{"line":24,"column":4},"end":{"line":24,"column":35}},"20":{"start":{"line":25,"column":4},"end":{"line":25,"column":24}},"21":{"start":{"line":28,"column":0},"end":{"line":33,"column":3}},"22":{"start":{"line":29,"column":17},"end":{"line":29,"column":34}},"23":{"start":{"line":30,"column":18},"end":{"line":30,"column":57}},"24":{"start":{"line":31,"column":4},"end":{"line":31,"column":20}},"25":{"start":{"line":32,"column":4},"end":{"line":32,"column":35}},"26":{"start":{"line":34,"column":0},"end":{"line":34,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":52},"end":{"line":3,"column":53}},"loc":{"start":{"line":3,"column":78},"end":{"line":11,"column":1}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":56},"end":{"line":12,"column":57}},"loc":{"start":{"line":12,"column":71},"end":{"line":14,"column":1}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":21},"end":{"line":23,"column":22}},"loc":{"start":{"line":23,"column":41},"end":{"line":26,"column":1}},"line":23},"3":{"name":"(anonymous_3)","decl":{"start":{"line":28,"column":120},"end":{"line":28,"column":121}},"loc":{"start":{"line":28,"column":140},"end":{"line":33,"column":1}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":20},"end":{"line":11,"column":1}},"type":"binary-expr","locations":[{"start":{"line":3,"column":21},"end":{"line":3,"column":25}},{"start":{"line":3,"column":29},"end":{"line":3,"column":47}},{"start":{"line":3,"column":52},"end":{"line":11,"column":1}}],"line":3},"1":{"loc":{"start":{"line":4,"column":4},"end":{"line":9,"column":5}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":9,"column":5}},{"start":{"line":4,"column":4},"end":{"line":9,"column":5}}],"line":4},"2":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":38}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":12}},{"start":{"line":4,"column":16},"end":{"line":4,"column":38}}],"line":4},"3":{"loc":{"start":{"line":5,"column":8},"end":{"line":8,"column":9}},"type":"if","locations":[{"start":{"line":5,"column":8},"end":{"line":8,"column":9}},{"start":{"line":5,"column":8},"end":{"line":8,"column":9}}],"line":5},"4":{"loc":{"start":{"line":5,"column":12},"end":{"line":5,"column":30}},"type":"binary-expr","locations":[{"start":{"line":5,"column":12},"end":{"line":5,"column":14}},{"start":{"line":5,"column":18},"end":{"line":5,"column":30}}],"line":5},"5":{"loc":{"start":{"line":6,"column":12},"end":{"line":6,"column":65}},"type":"if","locations":[{"start":{"line":6,"column":12},"end":{"line":6,"column":65}},{"start":{"line":6,"column":12},"end":{"line":6,"column":65}}],"line":6},"6":{"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":59}},"type":"binary-expr","locations":[{"start":{"line":10,"column":21},"end":{"line":10,"column":23}},{"start":{"line":10,"column":27},"end":{"line":10,"column":59}}],"line":10},"7":{"loc":{"start":{"line":12,"column":22},"end":{"line":14,"column":1}},"type":"binary-expr","locations":[{"start":{"line":12,"column":23},"end":{"line":12,"column":27}},{"start":{"line":12,"column":31},"end":{"line":12,"column":51}},{"start":{"line":12,"column":56},"end":{"line":14,"column":1}}],"line":12},"8":{"loc":{"start":{"line":13,"column":11},"end":{"line":13,"column":61}},"type":"cond-expr","locations":[{"start":{"line":13,"column":37},"end":{"line":13,"column":40}},{"start":{"line":13,"column":43},"end":{"line":13,"column":61}}],"line":13},"9":{"loc":{"start":{"line":13,"column":12},"end":{"line":13,"column":33}},"type":"binary-expr","locations":[{"start":{"line":13,"column":12},"end":{"line":13,"column":15}},{"start":{"line":13,"column":19},"end":{"line":13,"column":33}}],"line":13}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":1},"f":{"0":1,"1":1,"2":0,"3":0},"b":{"0":[1,1,1],"1":[1,0],"2":[1,0],"3":[0,1],"4":[1,1],"5":[0,0],"6":[1,1],"7":[1,1,1],"8":[0,1],"9":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/testdata-routes.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/testdata-routes.ts"],"names":[],"mappings":";AAAA,gCAAgC;;;;;;;;;;;;;;AAEhC,oDAA8B;AAC9B,uCAA2D;AAC3D,qCAA+C;AAC/C,2CAAsD;AAEtD,IAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,SAAS;AAET,qBAAqB;AACrB,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,UAAC,GAAG,EAAE,GAAG;IAC5B,IAAA,uBAAY,GAAE,CAAC;IACf,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;AACtB,CAAC,CAAC,CAAC;AAEH,uBAAuB;AACvB,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,IAAA,4BAAkB,oBAAK,mCAAsB,QAAE,EAAE,UAAC,GAAG,EAAE,GAAG;IACvE,IAAA,MAAM,GAAK,GAAG,CAAC,MAAM,OAAf,CAAgB;IAC9B,IAAM,OAAO,GAAG,IAAA,0BAAe,EAAC,MAAwB,CAAC,CAAC;IAE1D,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,SAAA,EAAE,CAAC,CAAC;AACxB,CAAC,CAAC,CAAC;AAEH,kBAAe,MAAM,CAAC","sourcesContent":["///<reference path=\"types.ts\" />\r\n\r\nimport express from \"express\";\r\nimport { getAllForEntity, seedDatabase } from \"./database\";\r\nimport { validateMiddleware } from \"./helpers\";\r\nimport { isValidEntityValidator } from \"./validators\";\r\nimport { DbSchema } from \"../src/models/db-schema\";\r\nconst router = express.Router();\r\n\r\n// Routes\r\n\r\n//POST /testData/seed\r\nrouter.post(\"/seed\", (req, res) => {\r\n  seedDatabase();\r\n  res.sendStatus(200);\r\n});\r\n\r\n//GET /testData/:entity\r\nrouter.get(\"/:entity\", validateMiddleware([...isValidEntityValidator]), (req, res) => {\r\n  const { entity } = req.params;\r\n  const results = getAllForEntity(entity as keyof DbSchema);\r\n\r\n  res.status(200);\r\n  res.json({ results });\r\n});\r\n\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3d00b79c7c8c1058d4bc8cf61a3795e9e71ab16c","contentHash":"205cbb524741b9ba66cdfec620ea40305d4e8a6575876d0334322c7b74f20ae9"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\graphql\\resolvers\\index.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\graphql\\resolvers\\index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":49}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":55}},"5":{"start":{"line":8,"column":12},"end":{"line":11,"column":1}},"6":{"start":{"line":12,"column":0},"end":{"line":12,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2]},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/graphql/resolvers/index.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/graphql/resolvers/index.ts"],"names":[],"mappings":";;;;;AAAA,kDAA4B;AAC5B,wDAAkC;AAElC,IAAM,KAAK,GAAG;IACZ,KAAK,iBAAA;IACL,QAAQ,oBAAA;CACT,CAAC;AAEF,kBAAe,KAAK,CAAC","sourcesContent":["import Query from \"./Query\";\r\nimport Mutation from \"./Mutation\";\r\n\r\nconst items = {\r\n  Query,\r\n  Mutation,\r\n};\r\n\r\nexport default items;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b45afe30d4d75936245dbd62b06084b1a9a7a4d5","contentHash":"b589bd96593f3133852be6dd86c56df72fcfb7d8862113a2e026199c51441dd8"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\graphql\\resolvers\\Query.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\graphql\\resolvers\\Query.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":17},"end":{"line":3,"column":42}},"2":{"start":{"line":4,"column":12},"end":{"line":17,"column":1}},"3":{"start":{"line":18,"column":0},"end":{"line":18,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":21},"end":{"line":5,"column":22}},"loc":{"start":{"line":5,"column":47},"end":{"line":16,"column":5}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/graphql/resolvers/Query.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/graphql/resolvers/Query.ts"],"names":[],"mappings":";;AAAA,2CAAyD;AAEzD,IAAM,KAAK,GAAG;IACZ,eAAe,EAAf,UAAgB,GAAQ,EAAE,IAAS,EAAE,GAAQ;QAC3C,0BAA0B;QAC1B,IAAI;YACF,IAAM,QAAQ,GAAG,IAAA,kCAAuB,EAAC,GAAG,CAAC,IAAI,CAAC,EAAG,CAAC,CAAC;YAEvD,OAAO,QAAQ,CAAC;YAChB,0BAA0B;SAC3B;QAAC,OAAO,GAAQ,EAAE;YACjB,0BAA0B;YAC1B,MAAM,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC;SACtB;IACH,CAAC;CACF,CAAC;AAEF,kBAAe,KAAK,CAAC","sourcesContent":["import { getBankAccountsByUserId } from \"../../database\";\r\n\r\nconst Query = {\r\n  listBankAccount(obj: any, args: any, ctx: any) {\r\n    /* istanbul ignore next */\r\n    try {\r\n      const accounts = getBankAccountsByUserId(ctx.user.id!);\r\n\r\n      return accounts;\r\n      /* istanbul ignore next */\r\n    } catch (err: any) {\r\n      /* istanbul ignore next */\r\n      throw new Error(err);\r\n    }\r\n  },\r\n};\r\n\r\nexport default Query;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"599bba2d039c0838d63e48b083f6b197ec81c284","contentHash":"53a7aa6915a3ca6e13ae4c2faf2ca2c878a920750395149c4c9560580f3743a6"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\graphql\\resolvers\\Mutation.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\backend\\graphql\\resolvers\\Mutation.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":17},"end":{"line":3,"column":42}},"2":{"start":{"line":4,"column":15},"end":{"line":13,"column":1}},"3":{"start":{"line":6,"column":22},"end":{"line":6,"column":81}},"4":{"start":{"line":7,"column":8},"end":{"line":7,"column":23}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":55}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":20}},"7":{"start":{"line":14,"column":0},"end":{"line":14,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":23},"end":{"line":5,"column":24}},"loc":{"start":{"line":5,"column":49},"end":{"line":8,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":23},"end":{"line":9,"column":24}},"loc":{"start":{"line":9,"column":49},"end":{"line":12,"column":5}},"line":9}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1},"f":{"0":0,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/graphql/resolvers/Mutation.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/backend/graphql/resolvers/Mutation.ts"],"names":[],"mappings":";;AAAA,2CAAiF;AAEjF,IAAM,QAAQ,GAAG;IACf,iBAAiB,EAAE,UAAC,GAAQ,EAAE,IAAS,EAAE,GAAQ;QAC/C,IAAM,OAAO,GAAG,IAAA,mCAAwB,EAAC,GAAG,CAAC,IAAI,CAAC,EAAG,EAAE,IAAI,CAAC,CAAC;QAC7D,OAAO,OAAO,CAAC;IACjB,CAAC;IACD,iBAAiB,EAAE,UAAC,GAAQ,EAAE,IAAS,EAAE,GAAQ;QAC/C,IAAA,gCAAqB,EAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC/B,OAAO,IAAI,CAAC;IACd,CAAC;CACF,CAAC;AAEF,kBAAe,QAAQ,CAAC","sourcesContent":["import { createBankAccountForUser, removeBankAccountById } from \"../../database\";\r\n\r\nconst Mutation = {\r\n  createBankAccount: (obj: any, args: any, ctx: any) => {\r\n    const account = createBankAccountForUser(ctx.user.id!, args);\r\n    return account;\r\n  },\r\n  deleteBankAccount: (obj: any, args: any, ctx: any) => {\r\n    removeBankAccountById(args.id);\r\n    return true;\r\n  },\r\n};\r\n\r\nexport default Mutation;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5bed23073fbcd5c6765783ef3c58b87d40d03c48","contentHash":"4ead1e3f0958ded26efa3ce22e14135dde838c0c8cc6426aa1407769d4305653"},"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\src\\utils\\portUtils.ts":{"path":"C:\\Users\\Radovic\\OneDrive\\Documents\\GitHub\\QA\\src\\utils\\portUtils.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":52}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":27}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":57}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/Radovic/OneDrive/Documents/GitHub/QA/src/utils/portUtils.ts","sources":["C:/Users/Radovic/OneDrive/Documents/GitHub/QA/src/utils/portUtils.ts"],"names":[],"mappings":";;;AAAA,OAAO,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,CAAC;AAEd,QAAA,YAAY,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;AAChC,QAAA,WAAW,GAAG,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC","sourcesContent":["require(\"dotenv\").config();\r\n\r\nexport const frontendPort = process.env.PORT;\r\nexport const backendPort = process.env.REACT_APP_BACKEND_PORT;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6d001b8d41a9a2cf3edcaa3e17ee16db981e0655","contentHash":"09123f658de2a6a53bc380ead3a787c4998a46ade647f288dc0df93f806edacd"}}